<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>The Org Manual</title>
<!-- 2015-09-01 mar 19:55 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Carsten Dominik with contributiond by Bastien Guerry, Nicolas Goazion, Eric Schulte, Jambunathan K. Dan Davison, Thomas O`Thoole, and Philip Rooke." />
<link rel="stylesheet" type="text/css" href="worg-data/worg.css" />
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">The Org Manual</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Introduction                                                      </a>
<ul>
<li><a href="#sec-1-1">1.1 Summary                                                        </a></li>
<li><a href="#sec-1-2">1.2 Installation                                                   </a>
<ul>
<li><a href="#sec-1-2-1">Using Emacs packaging system</a></li>
<li><a href="#sec-1-2-2">Downloading Org as an archive</a></li>
<li><a href="#sec-1-2-3">Using Org's git repository</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3 Activation                                                     </a></li>
<li><a href="#sec-1-4">1.4 Feedback                                                       </a>
<ul>
<li><a href="#sec-1-4-1">How to create a useful backtrace</a></li>
</ul>
</li>
<li><a href="#sec-1-5">1.5 Typesetting conventions used in this manual                    </a>
<ul>
<li><a href="#sec-1-5-1">1.5.1 TODO keywords, tags, properties, etc.</a></li>
<li><a href="#sec-1-5-2">1.5.2 Keybindings and commands</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">2 Document structure                                                </a>
<ul>
<li><a href="#sec-2-1">2.1 Outlines                                                       </a></li>
<li><a href="#sec-2-2">2.2 Headlines                                                      </a></li>
<li><a href="#sec-2-3">2.3 Visibility cycling                                             </a>
<ul>
<li><a href="#sec-2-3-1">2.3.1 Global and local cycling                                    </a></li>
<li><a href="#sec-2-3-2">2.3.2 Initial visibility                                          </a></li>
<li><a href="#sec-2-3-3">2.3.3 Catching invisible edits                                    </a></li>
</ul>
</li>
<li><a href="#sec-2-4">2.4 Motion                                                         </a></li>
<li><a href="#sec-2-5">2.5 Structure editing                                              </a></li>
<li><a href="#sec-2-6">2.6 Sparse trees                                                   </a></li>
<li><a href="#sec-2-7">2.7 Plain lists                                                    </a></li>
<li><a href="#sec-2-8">2.8 Drawers                                                        </a></li>
<li><a href="#sec-2-9">2.9 Blocks                                                         </a></li>
<li><a href="#sec-2-10">2.10 Footnotes                                                     </a></li>
<li><a href="#sec-2-11">2.11 The Orgstruct minor mode                                      </a></li>
<li><a href="#sec-2-12">2.12 Org syntax                                                    </a></li>
</ul>
</li>
<li><a href="#sec-3">3 Tables                                                            </a>
<ul>
<li><a href="#sec-3-1">3.1 The built-in table editor                                      </a>
<ul>
<li><a href="#sec-3-1-1">Creation and conversion</a></li>
<li><a href="#sec-3-1-2">Re-aligning and field motion</a></li>
<li><a href="#sec-3-1-3">Column and row editing</a></li>
<li><a href="#sec-3-1-4">Regions</a></li>
<li><a href="#sec-3-1-5">Calculations</a></li>
<li><a href="#sec-3-1-6">Miscellaneous</a></li>
</ul>
</li>
<li><a href="#sec-3-2">3.2 Column width and alignment                                     </a></li>
<li><a href="#sec-3-3">3.3 Column groups                                                  </a></li>
<li><a href="#sec-3-4">3.4 The Orgtbl minor mode                                          </a></li>
<li><a href="#sec-3-5">3.5 The spreadsheet                                                </a>
<ul>
<li><a href="#sec-3-5-1">3.5.1 References                                                  </a>
<ul>
<li><a href="#sec-3-5-1-1">Field references</a></li>
<li><a href="#sec-3-5-1-2">Range references</a></li>
<li><a href="#sec-3-5-1-3">Field coordinates in formulas</a></li>
<li><a href="#sec-3-5-1-4">Named references</a></li>
<li><a href="#sec-3-5-1-5">Remote references</a></li>
</ul>
</li>
<li><a href="#sec-3-5-2">3.5.2 Formula syntax for Calc                                     </a></li>
<li><a href="#sec-3-5-3">3.5.3 Emacs Lisp forms as formulas                                </a></li>
<li><a href="#sec-3-5-4">3.5.4 Durations and time values                                   </a></li>
<li><a href="#sec-3-5-5">3.5.5 Field and range formulas                                    </a></li>
<li><a href="#sec-3-5-6">3.5.6 Column formulas                                             </a></li>
<li><a href="#sec-3-5-7">3.5.7 Lookup functions                                            </a></li>
<li><a href="#sec-3-5-8">3.5.8 Editing and debugging formulas                              </a>
<ul>
<li><a href="#sec-3-5-8-1">Using multiple #+TBLFM lines</a></li>
<li><a href="#sec-3-5-8-2">Debugging formulas</a></li>
</ul>
</li>
<li><a href="#sec-3-5-9">3.5.9 Updating the table                                          </a></li>
<li><a href="#sec-3-5-10">3.5.10 Advanced features                                          </a></li>
</ul>
</li>
<li><a href="#sec-3-6">3.6 Org-Plot                                                       </a>
<ul>
<li><a href="#sec-3-6-1">Graphical plots using Gnuplot</a></li>
<li><a href="#sec-3-6-2">Plot Options</a></li>
<li><a href="#sec-3-6-3">ASCII bar plots</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-4">4 Hyperlinks                                                        </a>
<ul>
<li><a href="#sec-4-1">4.1 Link format                                                    </a></li>
<li><a href="#sec-4-2">4.2 Internal links                                                 </a>
<ul>
<li><a href="#sec-4-2-1">4.2.1 Radio targets                                               </a></li>
</ul>
</li>
<li><a href="#sec-4-3">4.3 External links                                                 </a></li>
<li><a href="#sec-4-4">4.4 Handling links                                                 </a></li>
<li><a href="#sec-4-5">4.5 Using links outside Org                                        </a></li>
<li><a href="#sec-4-6">4.6 Link abbreviations                                             </a></li>
<li><a href="#sec-4-7">4.7 Search options in file links                                   </a></li>
<li><a href="#sec-4-8">4.8 Custom Searches                                                </a></li>
</ul>
</li>
<li><a href="#sec-5">5 TODO items                                                        </a>
<ul>
<li><a href="#sec-5-1">5.1 Basic TODO functionality                                       </a></li>
<li><a href="#sec-5-2">5.2 Extended use of TODO keywords                                  </a>
<ul>
<li><a href="#sec-5-2-1">5.2.1 TODO keywords as workflow states                            </a></li>
<li><a href="#sec-5-2-2">5.2.2 TODO keywords as types                                      </a></li>
<li><a href="#sec-5-2-3">5.2.3 Multiple keyword sets in one file                           </a></li>
<li><a href="#sec-5-2-4">5.2.4 Fast access to TODO states                                  </a></li>
<li><a href="#sec-5-2-5">5.2.5 Setting up keywords for individual files                    </a></li>
<li><a href="#sec-5-2-6">5.2.6 Faces for TODO keywords                                     </a></li>
<li><a href="#sec-5-2-7">5.2.7 TODO dependencies                                           </a></li>
</ul>
</li>
<li><a href="#sec-5-3">5.3 Progress logging                                               </a>
<ul>
<li><a href="#sec-5-3-1">5.3.1 Closing items                                               </a></li>
<li><a href="#sec-5-3-2">5.3.2 Tracking TODO state changes                                 </a></li>
<li><a href="#sec-5-3-3">5.3.3 Tracking your habits                                        </a></li>
</ul>
</li>
<li><a href="#sec-5-4">5.4 Priorities                                                     </a></li>
<li><a href="#sec-5-5">5.5 Breaking tasks down into subtasks                              </a></li>
<li><a href="#sec-5-6">5.6 Checkboxes                                                     </a></li>
</ul>
</li>
<li><a href="#sec-6">6 Tags                                                              </a>
<ul>
<li><a href="#sec-6-1">6.1 Tag inheritance                                                </a></li>
<li><a href="#sec-6-2">6.2 Setting tags                                                   </a></li>
<li><a href="#sec-6-3">6.3 Tag hierarchy                                                  </a></li>
<li><a href="#sec-6-4">6.4 Tag searches                                                   </a></li>
</ul>
</li>
<li><a href="#sec-7">7 Properties and columns                                            </a>
<ul>
<li><a href="#sec-7-1">7.1 Property syntax                                                </a></li>
<li><a href="#sec-7-2">7.2 Special properties                                             </a></li>
<li><a href="#sec-7-3">7.3 Property searches                                              </a></li>
<li><a href="#sec-7-4">7.4 Property Inheritance                                           </a></li>
<li><a href="#sec-7-5">7.5 Column view                                                    </a>
<ul>
<li><a href="#sec-7-5-1">7.5.1 Defining columns                                            </a>
<ul>
<li><a href="#sec-7-5-1-1">7.5.1.1 Scope of column definitions                              </a></li>
<li><a href="#sec-7-5-1-2">7.5.1.2 Column attributes                                        </a></li>
</ul>
</li>
<li><a href="#sec-7-5-2">7.5.2 Using column view                                           </a>
<ul>
<li><a href="#sec-7-5-2-1">Turning column view on and off</a></li>
<li><a href="#sec-7-5-2-2">Editing values</a></li>
<li><a href="#sec-7-5-2-3">Modifying the table structure</a></li>
</ul>
</li>
<li><a href="#sec-7-5-3">7.5.3 Capturing column view                                       </a></li>
</ul>
</li>
<li><a href="#sec-7-6">7.6 The Property API                                               </a></li>
</ul>
</li>
<li><a href="#sec-8">8 Dates and times</a>
<ul>
<li><a href="#sec-8-1">8.1 Timestamps, deadlines, and scheduling                          </a></li>
<li><a href="#sec-8-2">8.2 Creating timestamps                                            </a>
<ul>
<li><a href="#sec-8-2-1">8.2.1 The date/time prompt                                        </a></li>
<li><a href="#sec-8-2-2">8.2.2 Custom time format                                          </a></li>
</ul>
</li>
<li><a href="#sec-8-3">8.3 Deadlines and scheduling                                       </a>
<ul>
<li><a href="#sec-8-3-1">8.3.1 Inserting deadlines or schedules                            </a></li>
<li><a href="#sec-8-3-2">8.3.2 Repeated tasks                                              </a></li>
</ul>
</li>
<li><a href="#sec-8-4">8.4 Clocking work time                                             </a>
<ul>
<li><a href="#sec-8-4-1">8.4.1 Clocking commands                                           </a></li>
<li><a href="#sec-8-4-2">8.4.2 The clock table                                             </a></li>
<li><a href="#sec-8-4-3">8.4.3 Resolving idle time and continuous clocking                 </a>
<ul>
<li><a href="#sec-8-4-3-1">Resolving idle time</a></li>
<li><a href="#sec-8-4-3-2">Continuous clocking</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-8-5">8.5 Effort estimates                                               </a></li>
<li><a href="#sec-8-6">8.6 Taking notes with a timer                                      </a></li>
</ul>
</li>
<li><a href="#sec-9">9 Capture - Refile - Archive</a>
<ul>
<li><a href="#sec-9-1">9.1 Capture                                                        </a>
<ul>
<li><a href="#sec-9-1-1">9.1.1 Setting up capture                                          </a></li>
<li><a href="#sec-9-1-2">9.1.2 Using capture                                               </a></li>
<li><a href="#sec-9-1-3">9.1.3 Capture templates                                           </a>
<ul>
<li><a href="#sec-9-1-3-1">9.1.3.1 Template elements                                        </a></li>
<li><a href="#sec-9-1-3-2">9.1.3.2 Template expansion                                       </a></li>
<li><a href="#sec-9-1-3-3">9.1.3.3 Templates in contexts                                    </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-9-2">9.2 Attachments                                                    </a></li>
<li><a href="#sec-9-3">9.3 RSS feeds                                                      </a></li>
<li><a href="#sec-9-4">9.4 Protocols for external access                                  </a></li>
<li><a href="#sec-9-5">9.5 Refile and copy                                                </a></li>
<li><a href="#sec-9-6">9.6 Archiving                                                      </a>
<ul>
<li><a href="#sec-9-6-1">9.6.1 Moving a tree to the archive file                           </a></li>
<li><a href="#sec-9-6-2">9.6.2 Internal archiving                                          </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-10">10 Agenda views                                                     </a>
<ul>
<li><a href="#sec-10-1">10.1 Agenda files                                                  </a></li>
<li><a href="#sec-10-2">10.2 The agenda dispatcher                                         </a></li>
<li><a href="#sec-10-3">10.3 The built-in agenda views                                     </a>
<ul>
<li><a href="#sec-10-3-1">10.3.1 The weekly/daily agenda                                    </a>
<ul>
<li><a href="#sec-10-3-1-1">Calendar/Diary integration</a></li>
<li><a href="#sec-10-3-1-2">Anniversaries from BBDB</a></li>
<li><a href="#sec-10-3-1-3">Appointment reminders</a></li>
</ul>
</li>
<li><a href="#sec-10-3-2">10.3.2 The global TODO list                                       </a></li>
<li><a href="#sec-10-3-3">10.3.3 Matching tags and properties                               </a>
<ul>
<li><a href="#sec-10-3-3-1">Match syntax</a></li>
</ul>
</li>
<li><a href="#sec-10-3-4">10.3.4 Timeline for a single file                                 </a></li>
<li><a href="#sec-10-3-5">10.3.5 Search view                                                </a></li>
<li><a href="#sec-10-3-6">10.3.6 Stuck projects                                             </a></li>
</ul>
</li>
<li><a href="#sec-10-4">10.4 Presentation and sorting                                      </a>
<ul>
<li><a href="#sec-10-4-1">10.4.1 Categories                                                 </a></li>
<li><a href="#sec-10-4-2">10.4.2 Time-of-day specifications                                 </a></li>
<li><a href="#sec-10-4-3">10.4.3 Sorting agenda items                                       </a></li>
<li><a href="#sec-10-4-4">10.4.4 Filtering/limiting agenda items                            </a>
<ul>
<li><a href="#sec-10-4-4-1">Filtering in the agenda</a></li>
<li><a href="#sec-10-4-4-2">Setting limits for the agenda</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-10-5">10.5 Commands in the agenda buffer                                 </a>
<ul>
<li><a href="#sec-10-5-1">Motion</a></li>
<li><a href="#sec-10-5-2">View/Go to Org file</a></li>
<li><a href="#sec-10-5-3">Change display</a></li>
<li><a href="#sec-10-5-4">Secondary filtering and query editing</a></li>
<li><a href="#sec-10-5-5">Remote editing</a></li>
<li><a href="#sec-10-5-6">Dragging agenda lines forward/backward</a></li>
<li><a href="#sec-10-5-7">Calendar commands</a></li>
<li><a href="#sec-10-5-8">Exporting to a file</a></li>
<li><a href="#sec-10-5-9">Quit and Exit</a></li>
</ul>
</li>
<li><a href="#sec-10-6">10.6 Custom agenda views                                           </a>
<ul>
<li><a href="#sec-10-6-1">10.6.1 Storing searches                                           </a></li>
<li><a href="#sec-10-6-2">10.6.2 Block agenda                                               </a></li>
<li><a href="#sec-10-6-3">10.6.3 Setting options for custom commands                        </a></li>
</ul>
</li>
<li><a href="#sec-10-7">10.7 Exporting agenda views                                        </a></li>
<li><a href="#sec-10-8">10.8 Using column view in the agenda                               </a></li>
</ul>
</li>
<li><a href="#sec-11">11 Markup for rich export</a>
<ul>
<li><a href="#sec-11-1">11.1 Structural markup elements                                    </a>
<ul>
<li><a href="#sec-11-1-1">Document title                                                    </a></li>
<li><a href="#sec-11-1-2">Headings and sections                                             </a></li>
<li><a href="#sec-11-1-3">Table of contents                                                 </a></li>
<li><a href="#sec-11-1-4">Lists                                                             </a></li>
<li><a href="#sec-11-1-5">Paragraphs, line breaks, and quoting                              </a></li>
<li><a href="#sec-11-1-6">Footnote markup                                                   </a></li>
<li><a href="#sec-11-1-7">Emphasis and monospace                                            </a></li>
<li><a href="#sec-11-1-8">Horizontal rules                                                  </a></li>
<li><a href="#sec-11-1-9">Comment lines                                                     </a></li>
</ul>
</li>
<li><a href="#sec-11-2">11.2 Images and Tables                                             </a></li>
<li><a href="#sec-11-3">11.3 Literal examples                                              </a></li>
<li><a href="#sec-11-4">11.4 Include files                                                 </a></li>
<li><a href="#sec-11-5">11.5 Index entries                                                 </a></li>
<li><a href="#sec-11-6">11.6 Macro replacement                                             </a></li>
<li><a href="#sec-11-7">11.7 Embedded LaTeX                                                </a>
<ul>
<li><a href="#sec-11-7-1">11.7.1 Special symbols                                            </a></li>
<li><a href="#sec-11-7-2">11.7.2 Subscripts and superscripts                                </a></li>
<li><a href="#sec-11-7-3">11.7.3 LaTeX fragments                                            </a></li>
<li><a href="#sec-11-7-4">11.7.4 Previewing LaTeX fragments                                 </a></li>
<li><a href="#sec-11-7-5">11.7.5 Using CDLaTeX to enter math                                </a></li>
</ul>
</li>
<li><a href="#sec-11-8">11.8 Special blocks                                                </a></li>
</ul>
</li>
<li><a href="#sec-12">12 Exporting                                                        </a>
<ul>
<li><a href="#sec-12-1">12.1 The export dispatcher                                         </a></li>
<li><a href="#sec-12-2">12.2 Export back-ends                                              </a></li>
<li><a href="#sec-12-3">12.3 Export settings                                               </a></li>
<li><a href="#sec-12-4">12.4 ASCII/Latin-1/UTF-8 export                                    </a>
<ul>
<li><a href="#sec-12-4-1">ASCII export commands</a></li>
<li><a href="#sec-12-4-2">ASCII specific export settings</a></li>
<li><a href="#sec-12-4-3">Header and sectioning structure</a></li>
<li><a href="#sec-12-4-4">Quoting ASCII text</a></li>
<li><a href="#sec-12-4-5">ASCII specific attributes</a></li>
<li><a href="#sec-12-4-6">ASCII special blocks</a></li>
</ul>
</li>
<li><a href="#sec-12-5">12.5 Beamer export                                                 </a>
<ul>
<li><a href="#sec-12-5-1">12.5.1 Beamer export commands                                     </a></li>
<li><a href="#sec-12-5-2">12.5.2 Beamer specific export settings                            </a></li>
<li><a href="#sec-12-5-3">12.5.3 Sectioning, Frames and Blocks in Beamer                    </a></li>
<li><a href="#sec-12-5-4">12.5.4 Beamer specific syntax                                     </a></li>
<li><a href="#sec-12-5-5">12.5.5 Editing support                                            </a></li>
<li><a href="#sec-12-5-6">12.5.6 A Beamer example                                           </a></li>
</ul>
</li>
<li><a href="#sec-12-6">12.6 HTML export                                                   </a>
<ul>
<li><a href="#sec-12-6-1">12.6.1 HTML export commands                                       </a></li>
<li><a href="#sec-12-6-2">12.6.2 HTML Specific export settings                              </a></li>
<li><a href="#sec-12-6-3">12.6.3 HTML doctypes                                              </a>
<ul>
<li><a href="#sec-12-6-3-1">Fancy HTML5 export</a></li>
</ul>
</li>
<li><a href="#sec-12-6-4">12.6.4 HTML preamble and postamble                                </a></li>
<li><a href="#sec-12-6-5">12.6.5 Quoting HTML tags                                          </a></li>
<li><a href="#sec-12-6-6">12.6.6 Links in HTML export                                       </a></li>
<li><a href="#sec-12-6-7">12.6.7 Tables in HTML export                                      </a></li>
<li><a href="#sec-12-6-8">12.6.8 Images in HTML export                                      </a></li>
<li><a href="#sec-12-6-9">12.6.9 Math formatting in HTML export                             </a></li>
<li><a href="#sec-12-6-10">12.6.10 Text areas in HTML export                                 </a></li>
<li><a href="#sec-12-6-11">12.6.11 CSS support                                               </a></li>
<li><a href="#sec-12-6-12">12.6.12 JavaScript supported display of web pages                 </a></li>
</ul>
</li>
<li><a href="#sec-12-7">12.7 LaTeX and PDF export                                          </a>
<ul>
<li><a href="#sec-12-7-1">12.7.1 LaTeX export commands                                      </a></li>
<li><a href="#sec-12-7-2">12.7.2 LaTeX specific export settings                             </a></li>
<li><a href="#sec-12-7-3">12.7.3 Header and sectioning structure                            </a></li>
<li><a href="#sec-12-7-4">12.7.4 Quoting LaTeX code                                         </a></li>
<li><a href="#sec-12-7-5">12.7.5 LaTeX specific attributes                                  </a>
<ul>
<li><a href="#sec-12-7-5-1">Tables in LaTeX export</a></li>
<li><a href="#sec-12-7-5-2">Images in LaTeX export</a></li>
<li><a href="#sec-12-7-5-3">Plain lists in LaTeX export</a></li>
<li><a href="#sec-12-7-5-4">Source blocks in LaTeX export</a></li>
<li><a href="#sec-12-7-5-5">Example blocks in LaTeX export</a></li>
<li><a href="#sec-12-7-5-6">Special blocks in LaTeX export</a></li>
<li><a href="#sec-12-7-5-7">Horizontal rules</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-12-8">12.8 Markdown export                                               </a>
<ul>
<li><a href="#sec-12-8-1">Markdown export commands</a></li>
<li><a href="#sec-12-8-2">Header and sectioning structure</a></li>
</ul>
</li>
<li><a href="#sec-12-9">12.9 OpenDocument Text export                                      </a>
<ul>
<li><a href="#sec-12-9-1">12.9.1 Pre-requisites for ODT export                              </a></li>
<li><a href="#sec-12-9-2">12.9.2 ODT export commands                                        @ODT-export-commands</a></li>
<li><a href="#sec-12-9-3">12.9.3 ODT specific export settings                               </a></li>
<li><a href="#sec-12-9-4">12.9.4 Extending ODT export                                       </a>
<ul>
<li><a href="#sec-12-9-4-1">Automatically exporting to other formats</a></li>
<li><a href="#sec-12-9-4-2">Converting between document formats</a></li>
</ul>
</li>
<li><a href="#sec-12-9-5">12.9.5 Applying custom styles                                     </a>
<ul>
<li><a href="#sec-12-9-5-1">Applying custom styles: the easy way</a></li>
<li><a href="#sec-12-9-5-2">Using third-party styles and templates</a></li>
</ul>
</li>
<li><a href="#sec-12-9-6">12.9.6 Links in ODT export                                        </a></li>
<li><a href="#sec-12-9-7">12.9.7 Tables in ODT export                                       </a></li>
<li><a href="#sec-12-9-8">12.9.8 Images in ODT export                                       </a>
<ul>
<li><a href="#sec-12-9-8-1">Embedding images</a></li>
<li><a href="#sec-12-9-8-2">Embedding clickable images</a></li>
<li><a href="#sec-12-9-8-3">Sizing and scaling of embedded images</a></li>
<li><a href="#sec-12-9-8-4">Anchoring of images</a></li>
</ul>
</li>
<li><a href="#sec-12-9-9">12.9.9 Math formatting in ODT export                              </a>
<ul>
<li><a href="#sec-12-9-9-1">Working with LaTeX math snippets                                 </a></li>
<li><a href="#sec-12-9-9-2">Working with MathML or OpenDocument formula files                </a></li>
</ul>
</li>
<li><a href="#sec-12-9-10">12.9.10 Labels and captions in ODT export                         </a></li>
<li><a href="#sec-12-9-11">12.9.11 Literal examples in ODT export                            </a></li>
<li><a href="#sec-12-9-12">12.9.12 Advanced topics in ODT export                             </a>
<ul>
<li><a href="#sec-12-9-12-1">Configuring a document converter                                 </a></li>
<li><a href="#sec-12-9-12-2">Working with OpenDocument style files                            </a></li>
<li><a href="#sec-12-9-12-3">a) Factory styles</a></li>
<li><a href="#sec-12-9-12-4">b) Overriding factory styles</a></li>
<li><a href="#sec-12-9-12-5">Creating one-off styles                                          </a></li>
<li><a href="#sec-12-9-12-6">Customizing tables in ODT export                                 </a></li>
<li><a href="#sec-12-9-12-7">Validating OpenDocument XML                                      </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-12-10">12.10 Org export                                                   </a>
<ul>
<li><a href="#sec-12-10-1">Org export commands</a></li>
</ul>
</li>
<li><a href="#sec-12-11">12.11 Texinfo export                                               </a>
<ul>
<li><a href="#sec-12-11-1">12.11.1 Texinfo export commands                                   </a></li>
<li><a href="#sec-12-11-2">12.11.2 Texinfo specific export settings                          </a></li>
<li><a href="#sec-12-11-3">12.11.3 Document preamble                                         </a>
<ul>
<li><a href="#sec-12-11-3-1">File header</a></li>
<li><a href="#sec-12-11-3-2">Title and copyright page</a></li>
<li><a href="#sec-12-11-3-3">The Top node</a></li>
</ul>
</li>
<li><a href="#sec-12-11-4">Display</a></li>
<li><a href="#sec-12-11-5">12.11.5 Indices                                                   </a></li>
<li><a href="#sec-12-11-6">12.11.6 Quoting Texinfo code                                      </a></li>
<li><a href="#sec-12-11-7">12.11.7 Texinfo specific attributes                               </a>
<ul>
<li><a href="#sec-12-11-7-1">Plain lists</a></li>
<li><a href="#sec-12-11-7-2">Tables</a></li>
<li><a href="#sec-12-11-7-3">Images</a></li>
</ul>
</li>
<li><a href="#sec-12-11-8">12.11.8 An example                                                </a></li>
</ul>
</li>
<li><a href="#sec-12-12">12.12 iCalendar export                                             </a></li>
<li><a href="#sec-12-13">12.13 Other built-in back-ends                                     </a></li>
<li><a href="#sec-12-14">12.14 Export in foreign buffers                                    </a></li>
<li><a href="#sec-12-15">12.15 Advanced configuration                                       </a>
<ul>
<li><a href="#sec-12-15-1">Hooks</a></li>
<li><a href="#sec-12-15-2">Filters</a></li>
<li><a href="#sec-12-15-3">Defining filters for individual files</a></li>
<li><a href="#sec-12-15-4">Extending an existing back-end</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-13">13 Publishing</a>
<ul>
<li><a href="#sec-13-1">13.1 Configuration</a>
<ul>
<li><a href="#sec-13-1-1">13.1.1 The variable <code>org-publish-project-alist</code></a></li>
<li><a href="#sec-13-1-2">13.1.2 Sources and destinations for files</a></li>
<li><a href="#sec-13-1-3">13.1.3 Selecting files</a></li>
<li><a href="#sec-13-1-4">13.1.4 Publishing action</a></li>
<li><a href="#sec-13-1-5">13.1.5 Options for the exporters</a></li>
<li><a href="#sec-13-1-6">Generic properties</a></li>
<li><a href="#sec-13-1-7">ASCII specific properties</a></li>
<li><a href="#sec-13-1-8">Beamer specific properties</a></li>
<li><a href="#sec-13-1-9">HTML specific properties</a></li>
<li><a href="#sec-13-1-10">LaTeX specific properties</a></li>
<li><a href="#sec-13-1-11">Markdown specific properties</a></li>
<li><a href="#sec-13-1-12">ODT specific properties</a></li>
<li><a href="#sec-13-1-13">Texinfo specific properties</a></li>
<li><a href="#sec-13-1-14">13.1.6 Links between published files                              </a></li>
<li><a href="#sec-13-1-15">13.1.7 Generating a sitemap</a></li>
<li><a href="#sec-13-1-16">13.1.8 Generating an index                                        </a></li>
</ul>
</li>
<li><a href="#sec-13-2">13.2 Uploading files</a></li>
<li><a href="#sec-13-3">13.3 Sample configuration</a>
<ul>
<li><a href="#sec-13-3-1">13.3.1 Example: simple publishing configuration</a></li>
<li><a href="#sec-13-3-2">13.3.2 Example: complex publishing configuration</a></li>
</ul>
</li>
<li><a href="#sec-13-4">13.4 Triggering publication</a></li>
</ul>
</li>
<li><a href="#sec-14">14 Working with source code                                         </a>
<ul>
<li><a href="#sec-14-1">14.1 Structure of code blocks</a></li>
<li><a href="#sec-14-2">14.2 Editing source code                                           </a></li>
<li><a href="#sec-14-3">14.3 Exporting code blocks</a>
<ul>
<li><a href="#sec-14-3-1">Header arguments:</a></li>
</ul>
</li>
<li><a href="#sec-14-4">14.4 Extracting source code</a>
<ul>
<li><a href="#sec-14-4-1">Header arguments</a></li>
<li><a href="#sec-14-4-2">Functions</a></li>
<li><a href="#sec-14-4-3">Hooks</a></li>
<li><a href="#sec-14-4-4">Jumping between code and Org</a></li>
</ul>
</li>
<li><a href="#sec-14-5">14.5 Evaluating code blocks</a></li>
<li><a href="#sec-14-6">14.6 Library of Babel</a></li>
<li><a href="#sec-14-7">14.7 Languages</a></li>
<li><a href="#sec-14-8">14.8 Header arguments</a>
<ul>
<li><a href="#sec-14-8-1">14.8.1 Using header arguments</a></li>
<li><a href="#sec-14-8-2">System-wide header arguments</a></li>
<li><a href="#sec-14-8-3">Language-specific header arguments</a></li>
<li><a href="#sec-14-8-4">Header arguments in Org mode properties</a></li>
<li><a href="#sec-14-8-5">Language-specific header arguments in Org mode properties</a></li>
<li><a href="#sec-14-8-6">Code block specific header arguments</a></li>
<li><a href="#sec-14-8-7">Header arguments in function calls</a></li>
<li><a href="#sec-14-8-8">14.8.2 Specific header arguments</a></li>
<li><a href="#sec-14-8-9">14.8.2.1 <code>:var</code></a></li>
<li><a href="#sec-14-8-10">Indexable variable values</a></li>
<li><a href="#sec-14-8-11">Emacs Lisp evaluation of variables</a></li>
<li><a href="#sec-14-8-12">14.8.2.2 <code>:results</code></a></li>
<li><a href="#sec-14-8-13">Collection</a></li>
<li><a href="#sec-14-8-14">Type</a></li>
<li><a href="#sec-14-8-15">Format</a></li>
<li><a href="#sec-14-8-16">Handling</a></li>
<li><a href="#sec-14-8-17">14.8.2.3 <code>:file</code></a></li>
<li><a href="#sec-14-8-18">14.8.2.4 <code>:file-desc</code></a></li>
<li><a href="#sec-14-8-19">14.8.2.5 <code>:file-ext</code></a></li>
<li><a href="#sec-14-8-20">14.8.2.6 <code>:output-dir</code></a></li>
<li><a href="#sec-14-8-21">14.8.2.7 <code>:dir</code> and remote execution</a></li>
<li><a href="#sec-14-8-22">Remote execution</a></li>
<li><a href="#sec-14-8-23">Further points</a></li>
<li><a href="#sec-14-8-24">14.8.2.8 <code>:exports</code></a></li>
<li><a href="#sec-14-8-25">14.8.2.9 <code>:tangle</code></a></li>
<li><a href="#sec-14-8-26">14.8.2.10 <code>:mkdirp</code></a></li>
<li><a href="#sec-14-8-27">14.8.2.11 <code>:comments</code></a></li>
<li><a href="#sec-14-8-28">14.8.2.12 <code>:padline</code></a></li>
<li><a href="#sec-14-8-29">14.8.2.13 <code>:no-expand</code></a></li>
<li><a href="#sec-14-8-30">14.8.2.14 <code>:session</code></a></li>
<li><a href="#sec-14-8-31">14.8.2.15 <code>:noweb</code></a></li>
<li><a href="#sec-14-8-32">Noweb prefix lines</a></li>
<li><a href="#sec-14-8-33">14.8.2.16 <code>:noweb-ref</code></a></li>
<li><a href="#sec-14-8-34">14.8.2.17 <code>:noweb-sep</code></a></li>
<li><a href="#sec-14-8-35">14.8.2.18 <code>:cache</code></a></li>
<li><a href="#sec-14-8-36">14.8.2.19 <code>:sep</code></a></li>
<li><a href="#sec-14-8-37">14.8.2.20 <code>:hlines</code></a></li>
<li><a href="#sec-14-8-38">14.8.2.21 <code>:colnames</code></a></li>
<li><a href="#sec-14-8-39">14.8.2.22 <code>:rownames</code></a></li>
<li><a href="#sec-14-8-40">14.8.2.23 <code>:shebang</code></a></li>
<li><a href="#sec-14-8-41">14.8.2.24 <code>:tangle-mode</code></a></li>
<li><a href="#sec-14-8-42">14.8.2.25 <code>:eval</code></a></li>
<li><a href="#sec-14-8-43">14.8.2.26 <code>:wrap</code></a></li>
<li><a href="#sec-14-8-44">14.8.2.27 <code>:post</code></a></li>
<li><a href="#sec-14-8-45">14.8.2.28 <code>:prologue</code></a></li>
<li><a href="#sec-14-8-46">14.8.2.29 <code>:epilogue</code></a></li>
</ul>
</li>
<li><a href="#sec-14-9">14.9 Results of evaluation</a>
<ul>
<li><a href="#sec-14-9-1">14.9.1 Non-session</a></li>
<li><a href="#sec-14-9-2">14.9.1.1 <code>:results value</code></a></li>
<li><a href="#sec-14-9-3">14.9.1.2 <code>:results output</code></a></li>
<li><a href="#sec-14-9-4">14.9.2 Session</a></li>
<li><a href="#sec-14-9-5">14.9.2.1 <code>:results value</code></a></li>
<li><a href="#sec-14-9-6">14.9.2.2 <code>:results output</code></a></li>
</ul>
</li>
<li><a href="#sec-14-10">14.10 Noweb reference syntax</a></li>
<li><a href="#sec-14-11">14.11 Key bindings and useful functions</a></li>
<li><a href="#sec-14-12">14.12 Batch execution</a></li>
</ul>
</li>
<li><a href="#sec-15">15 Miscellaneous</a>
<ul>
<li><a href="#sec-15-1">15.1 Completion                                                    </a></li>
<li><a href="#sec-15-2">15.2 Easy templates                                                </a></li>
<li><a href="#sec-15-3">15.3 Speed keys</a></li>
<li><a href="#sec-15-4">15.4 Code evaluation and security issues</a></li>
<li><a href="#sec-15-5">15.5 Customization</a></li>
<li><a href="#sec-15-6">15.6 Summary of in-buffer settings                                 </a></li>
<li><a href="#sec-15-7">15.7 The very busy C-c C-c key</a></li>
<li><a href="#sec-15-8">15.8 A cleaner outline view                                        </a></li>
<li><a href="#sec-15-9">15.9 Using Org on a tty</a></li>
<li><a href="#sec-15-10">15.10 Interaction with other packages</a>
<ul>
<li><a href="#sec-15-10-1">15.10.1 Packages that Org cooperates with</a></li>
<li><a href="#sec-15-10-2">15.10.2 Packages that lead to conflicts with Org mode             </a></li>
</ul>
</li>
<li><a href="#sec-15-11">15.11 org-crypt.el</a></li>
</ul>
</li>
<li><a href="#sec-16">Appendix A Hacking</a>
<ul>
<li><a href="#sec-16-1">A.1 Hooks</a></li>
<li><a href="#sec-16-2">A.2 Add-on packages</a></li>
<li><a href="#sec-16-3">A.3 Adding hyperlink types                                         </a></li>
<li><a href="#sec-16-4">A.4 Adding export back-ends</a></li>
<li><a href="#sec-16-5">A.5 Context-sensitive commands</a></li>
<li><a href="#sec-16-6">A.6 Tables and lists in arbitrary syntax                           </a>
<ul>
<li><a href="#sec-16-6-1">A.6.1 Radio tables</a></li>
<li><a href="#sec-16-6-2">A.6.2 A LaTeX example of radio tables</a></li>
<li><a href="#sec-16-6-3">A.6.3 Translator functions                                        </a></li>
<li><a href="#sec-16-6-4">A.6.4 Radio lists</a></li>
</ul>
</li>
<li><a href="#sec-16-7">A.7 Dynamic blocks                                                 </a></li>
<li><a href="#sec-16-8">A.8 Special agenda views</a></li>
<li><a href="#sec-16-9">A.9 Speeding up your agendas                                       </a></li>
<li><a href="#sec-16-10">A.10 Extracting agenda information                                 </a></li>
<li><a href="#sec-16-11">A.11 Using the property API                                        </a></li>
<li><a href="#sec-16-12">A.12 Using the mapping API</a></li>
</ul>
</li>
<li><a href="#sec-17">Appendix B MobileOrg</a>
<ul>
<li><a href="#sec-17-1">B.1 Setting up the staging area</a></li>
<li><a href="#sec-17-2">B.2 Pushing to MobileOrg</a></li>
<li><a href="#sec-17-3">B.3 Pulling from MobileOrg</a></li>
</ul>
</li>
<li><a href="#sec-18">Appendix C History and acknowledgments</a>
<ul>
<li><a href="#sec-18-1">C.1 From Carsten</a></li>
<li><a href="#sec-18-2">C.2 From Bastien</a></li>
<li><a href="#sec-18-3">C.3 List of contributions</a></li>
</ul>
</li>
<li><a href="#sec-19">Appendix D GNU Free Documentation License</a>
<ul>
<li><a href="#sec-19-1">ADDENDUM: How to use this License for your documents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
This manual is for Org version 8.3.1 (release<sub>8</sub>.3.1-90-g80a626).
</p>

<p>
Copyright &copy; 2004&#x2013;2015 Free Software Foundation, Inc.
</p>

<blockquote>
<p>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being “A GNU Manual,”
and with the Back-Cover Texts as in (a) below. A copy of the license
is included in the section entitled “GNU Free Documentation License.”
</p>

<p>
(a) The FSF's Back-Cover Text is: “You have the freedom to copy and
modify this GNU manual.”
</p>
</blockquote>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">1 Introduction                                                      <a id="Introduction" name="Introduction"></a></h2>
<div class="outline-text-2" id="text-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Summary">Summary</a>:</td>
<td class="left">Brief summary of what Org does</td>
</tr>

<tr>
<td class="left">• <a href="#Installation">Installation</a>:</td>
<td class="left">Installing Org</td>
</tr>

<tr>
<td class="left">• <a href="#Activation">Activation</a>:</td>
<td class="left">How to activate Org for certain buffers</td>
</tr>

<tr>
<td class="left">• <a href="#Feedback">Feedback</a>:</td>
<td class="left">Bug reports, ideas, patches etc.</td>
</tr>

<tr>
<td class="left">• <a href="#Conventions">Conventions</a>:</td>
<td class="left">Typesetting conventions in the manual</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">1.1 Summary                                                        <a id="Summary" name="Summary"></a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Org is a mode for keeping notes, maintaining TODO lists, and
project planning with a fast and effective plain-text system. It
also is an authoring system with unique support for literate
programming and reproducible research.
</p>

<p>
Org is implemented on top of Outline mode, which makes it possible
to keep the content of large files well structured. Visibility
cycling and structure editing help to work with the tree. Tables
are easily created with a built-in table editor. Plain text
URL-like links connect to websites, emails, Usenet messages, BBDB
entries, and any files related to the projects.
</p>

<p>
Org develops organizational tasks around notes files that contain
lists or information about projects as plain text. Project planning
and task management makes use of metadata which is part of an
outline node. Based on this data, specific entries can be extracted
in queries and create dynamic <i>agenda views</i> that also integrate
the Emacs calendar and diary.  Org can be used to implement many
different project planning schemes, such as David Allen's GTD
system.
</p>

<p>
Org files can serve as a single source authoring system with export
to many different formats such as HTML, LaTeX, Open Document, and
Markdown.  New export backends can be derived from existing ones,
or defined from scratch.
</p>

<p>
Org files can include source code blocks, which makes Org uniquely
suited for authoring technical documents with code examples. Org
source code blocks are fully functional; they can be evaluated in
place and their results can be captured in the file. This makes it
possible to create a single file reproducible research compendium.
</p>

<p>
Org keeps simple things simple. When first fired up, it should feel
like a straightforward, easy to use outliner. Complexity is not
imposed, but a large amount of functionality is available when
needed. Org is a toolbox. Many users actually run only a (very
personal) fraction of Org's capabilities, and know that there is
more whenever they need it.
</p>

<p>
All of this is achieved with strictly plain text files, the most
portable and future-proof file format. Org runs in Emacs. Emacs is
one of the most widely ported programs, so that Org mode is
available on every major platform.
</p>

<p>
There is a website for Org which provides links to the newest
version of Org, as well as additional information, frequently asked
questions (FAQ), links to tutorials, etc. This page is located at
<a href="http://orgmode.org">http://orgmode.org</a>.
</p>

<p>
An earlier version (7.3) of this manual is available as a <a href="http://www.network-theory.co.uk/org/manual/">paperback
book from Network Theory Ltd.</a>
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">1.2 Installation                                                   <a id="Installation" name="Installation"></a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
Org is part of recent distributions of GNU Emacs, so you normally
don't need to install it. If, for one reason or another, you want
to install Org on top of this pre-packaged version, there are three
ways to do it:
</p>

<ul class="org-ul">
<li>By using Emacs package system.
</li>
<li>By downloading Org as an archive.
</li>
<li>By using Org's git repository.
</li>
</ul>

<p>
We <b>strongly recommend</b> to stick to a single installation method.
</p>
</div>

<div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1">Using Emacs packaging system</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
Recent Emacs distributions include a packaging system which lets
you install Elisp libraries. You can install Org with <code>M-x
    package-install RET org</code>.
</p>

<p>
<b>Important</b>: you need to do this in a session where no <code>.org</code> file
has been visited, i.e., where no Org built-in function have been
loaded.  Otherwise autoload Org functions will mess up the
installation.
</p>

<p>
Then, to make sure your Org configuration is taken into account,
initialize the package system with <code>(package-initialize)</code> in your
.emacs before setting any Org option. If you want to use Org's
package repository, check out the <a href="http://orgmode.org/elpa.html">Org ELPA page</a>.
</p>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2">Downloading Org as an archive</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
You can download Org latest release from <a href="http://orgmode.org/">Org's website</a>. In this
case, make sure you set the load-path correctly in your .emacs:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-to-list 'load-path "~/path/to/orgdir/lisp")
</pre>
</div>

<p>
The downloaded archive contains contributed libraries that are not
included in Emacs. If you want to use them, add the contrib
directory to your load-path:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-to-list 'load-path "~/path/to/orgdir/contrib/lisp" t)
</pre>
</div>

<p>
Optionally, you can compile the files and/or install them in your
system. Run <code>make help</code> to list compilation and installation
options.
</p>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3">Using Org's git repository</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
You can clone Org's repository and install Org like this:
</p>

<pre class="example">
$ cd ~/src/
$ git clone git://orgmode.org/org-mode.git
$ make autoloads
</pre>

<p>
Note that in this case, <code>make autoloads</code> is mandatory: it defines
Org's version in org-version.el and Org's autoloads in
org-loaddefs.el.
</p>

<p>
Remember to add the correct load-path as described in the method
above.
</p>

<p>
You can also compile with <code>make</code>, generate the documentation with
<code>make doc</code>, create a local configuration with <code>make config</code> and
install Org with <code>make install</code>. Please run <code>make help</code> to get the
list of compilation/installation options.
</p>

<p>
For more detailed explanations on Org's build system, please check
the Org Build System page on <a href="http://orgmode.org/worg/dev/org-build-system.html">Worg</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">1.3 Activation                                                     <a id="Activation" name="Activation"></a></h3>
<div class="outline-text-3" id="text-1-3">
<p>
Since Emacs 22.2, files with the .org extension use Org mode by
default.  If you are using an earlier version of Emacs, add this
line to your .emacs file:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-to-list 'auto-mode-alist '("\\.org\\'" . org-mode))
</pre>
</div>

<p>
Org mode buffers need font-lock to be turned on: this is the
default in Emacs<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>.
</p>

<p>
There are compatibility issues between Org mode and some other
Elisp packages, please take the time to check the list (see
<a href="#Conflicts">Conflicts</a>).
</p>

<p>
The four Org commands <code>org-store-link</code>, <code>org-capture</code>,
<code>org-agenda</code>, and <code>org-iswitchb</code> should be accessible through
global keys (i.e., anywhere in Emacs, not just in Org
buffers). Here are suggested bindings for these keys, please modify
the keys to your own liking.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(global-set-key "\C-cl" 'org-store-link)
(global-set-key "\C-ca" 'org-agenda)
(global-set-key "\C-cc" 'org-capture)
(global-set-key "\C-cb" 'org-iswitchb)
</pre>
</div>

<p>
To turn on Org mode in a file that does not have the extension
.org, make the first line of a file look like this:
</p>

<pre class="example">
MY PROJECTS    -*- mode: org; -*-
</pre>

<p>
which will select Org mode for this buffer no matter what the
file's name is. See also the variable
<code>org-insert-mode-line-in-empty-file</code>.
</p>

<p>
Many commands in Org work on the region if the region is
<i>active</i>. To make use of this, you need to have
<code>transient-mark-mode</code> (<code>zmacs-regions</code> in XEmacs) turned on. In
Emacs 23 this is the default, in Emacs 22 you need to do this
yourself with
</p>

<div class="org-src-container">

<pre class="src src-lisp">(transient-mark-mode 1)
</pre>
</div>

<p>
If you do not like <code>transient-mark-mode</code>, you can create an active
region by using the mouse to select a region, or pressing <b><i>C-SPC</i></b>
twice before moving the cursor.
</p>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">1.4 Feedback                                                       <a id="Feedback" name="Feedback"></a></h3>
<div class="outline-text-3" id="text-1-4">
<p>
If you find problems with Org, or if you have questions, remarks,
or ideas about it, please mail to the Org mailing list
<a href="mailto:emacs-orgmode@gnu.org">emacs-orgmode@gnu.org</a>. You can subscribe to the list <a href="https://lists.gnu.org/mailman/listinfo/emacs-orgmode">on this web
page</a>. If you are not a member of the mailing list, your mail will
be passed to the list after a moderator has approved it<sup><a id="fnr.2" name="fnr.2" class="footref" href="#fn.2">2</a></sup>.
</p>

<p>
For bug reports, please first try to reproduce the bug with the
latest version of Org available&#x2014;if you are running an outdated
version, it is quite possible that the bug has been fixed
already. If the bug persists, prepare a report and provide as much
information as possible, including the version information of Emacs
(<b><i>M-x emacs-version RET</i></b>) and Org (<b><i>M-x org-version RET</i></b>), as
well as the Org related setup in .emacs. The easiest way to do this
is to use the command
</p>

<pre class="example">
M-x org-submit-bug-report RET
</pre>

<p>
which will put all this information into an Emacs mail buffer so
that you only need to add your description. If you are not sending
the Email from within Emacs, please copy and paste the content into
your Email program.
</p>

<p>
Sometimes you might face a problem due to an error in your Emacs or
Org mode setup. Before reporting a bug, it is very helpful to start
Emacs with minimal customizations and reproduce the problem. Doing
so often helps you determine if the problem is with your
customization or with Org mode itself. You can start a typical
minimal session with a command like the example below.
</p>

<pre class="example">
$ emacs -Q -l /path/to/minimal-org.el
</pre>

<p>
However if you are using Org mode as distributed with Emacs, a
minimal setup is not necessary. In that case it is sufficient to
start Emacs as <code>emacs -Q</code>. The <code>minimal-org.el</code> setup file can have
contents as shown below.
</p>

<div class="org-src-container">

<pre class="src src-lisp">;;; Minimal setup to load latest 'org-mode'

;; activate debugging
(setq debug-on-error t
      debug-on-signal nil
      debug-on-quit nil)

;; add latest org-mode to load path
(add-to-list 'load-path (expand-file-name "/path/to/org-mode/lisp"))
(add-to-list 'load-path (expand-file-name "/path/to/org-mode/contrib/lisp" t))
</pre>
</div>

<p>
If an error occurs, a backtrace can be very useful (see below on how to
create one). Often a small example file helps, along with clear
information about:
</p>

<ol class="org-ol">
<li>What exactly did you do?
</li>
<li>What did you expect to happen?
</li>
<li>What happened instead?
</li>
</ol>

<p>
Thank you for helping to improve this program.
</p>
</div>

<div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1">How to create a useful backtrace</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
If working with Org produces an error with a message you don't
understand, you may have hit a bug. The best way to report this is
by providing, in addition to what was mentioned above, a
<i>backtrace</i>. This is information from the built-in debugger about
where and how the error occurred. Here is how to produce a useful
backtrace:
</p>

<ol class="org-ol">
<li>Reload uncompiled versions of all Org mode Lisp files. The
backtrace contains much more information if it is produced
with uncompiled code. To do this, use

<pre class="example">
C-u M-x org-reload RET
</pre>

<p>
or select <code>Org -&gt; Refresh/Reload -&gt; Reload Org uncompiled</code>
from the menu.
</p>
</li>

<li>Go to the <code>Options</code> menu and select <code>Enter Debugger on Error</code>
        (XEmacs has this option in the <code>Troubleshooting</code> sub-menu).
</li>
<li>Do whatever you have to do to hit the error. Don't forget to
document the steps you take.
</li>
<li>When you hit the error, a <b>Backtrace</b> buffer will appear on
the screen. Save this buffer to a file (for example using
<b><i>C-x C-w</i></b>) and attach it to your bug report.
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">1.5 Typesetting conventions used in this manual                    <a id="Conventions" name="Conventions"></a></h3>
<div class="outline-text-3" id="text-1-5">
</div><div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1">1.5.1 TODO keywords, tags, properties, etc.</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
Org mainly uses three types of keywords: TODO keywords, tags and
property names. In this manual we use the following conventions:
</p>

<ul class="org-ul">
<li><code>TODO</code><br  />
      <code>WAITING</code> :: TODO keywords are written with all capitals, even
if they are user-defined.
</li>

<li><code>boss</code><br  />
      <code>ARCHIVE</code> :: User-defined tags are written in lowercase;
built-in tags with special meaning are written with all
capitals.
</li>

<li><code>Release</code><br  />
      <code>PRIORITY</code> :: User-defined properties are capitalized; built-in
properties with special meaning are written with all capitals.
</li>
</ul>

<p>
Moreover, Org uses <i>option keywords</i> (like <code>#+TITLE</code> to set the
title) and <i>environment keywords</i> (like <code>#+BEGIN_HTML</code> to start a
<code>HTML</code> environment). They are written in uppercase in the manual
to enhance its readability, but you can use lowercase in your Org
files<sup><a id="fnr.3" name="fnr.3" class="footref" href="#fn.3">3</a></sup>.
</p>
</div>
</div>

<div id="outline-container-sec-1-5-2" class="outline-4">
<h4 id="sec-1-5-2">1.5.2 Keybindings and commands</h4>
<div class="outline-text-4" id="text-1-5-2">
<p>
The manual suggests a few global keybindings, in particular <b><i>C-c
a</i></b> for <code>org-agenda</code> and <b><i>C-c c</i></b> for <code>org-capture</code>. These are
only suggestions, but the rest of the manual assumes that these
keybindings are in place in order to list commands by key access.
</p>

<p>
Also, the manual lists both the keys and the corresponding
commands for accessing a functionality. Org mode often uses the
same key for different functions, depending on context. The
command that is bound to such keys has a generic name, like
<code>org-metaright</code>. In the manual we will, wherever possible, give
the function that is internally called by the generic command. For
example, in the chapter on document structure, <b><i>M-right</i></b> will be
listed to call <code>org-do-demote</code>, while in the chapter on tables, it
will be listed to call <code>org-table-move-column-right</code>. If you
prefer, you can compile the manual without the command names by
unsetting the flag <code>cmdnames</code> in org.texi.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">2 Document structure                                                <a id="Document-structure" name="Document-structure"></a></h2>
<div class="outline-text-2" id="text-2">
<p>
Org is based on Outline mode and provides flexible commands to edit
the structure of the document.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Outlines">Outlines</a>:</td>
<td class="left">Org is based on Outline mode</td>
</tr>

<tr>
<td class="left">• <a href="#Headlines">Headlines</a>:</td>
<td class="left">How to typeset Org tree headlines</td>
</tr>

<tr>
<td class="left">• <a href="#Visibility-cycling">Visibility cycling</a>:</td>
<td class="left">Show and hide, much simplified</td>
</tr>

<tr>
<td class="left">• <a href="#Motion">Motion</a>:</td>
<td class="left">Jumping to other headlines</td>
</tr>

<tr>
<td class="left">• <a href="#Structure-editing">Structure editing</a>:</td>
<td class="left">Changing sequence and level of headlines</td>
</tr>

<tr>
<td class="left">• <a href="#Sparse-trees">Sparse trees</a>:</td>
<td class="left">Matches embedded in context</td>
</tr>

<tr>
<td class="left">• <a href="#Plain-lists">Plain lists</a>:</td>
<td class="left">Additional structure within an entry</td>
</tr>

<tr>
<td class="left">• <a href="#Drawers">Drawers</a>:</td>
<td class="left">Tucking stuff away</td>
</tr>

<tr>
<td class="left">• <a href="#Blocks">Blocks</a>:</td>
<td class="left">Folding blocks</td>
</tr>

<tr>
<td class="left">• <a href="#Footnotes">Footnotes</a>:</td>
<td class="left">How footnotes are defined in Org's syntax</td>
</tr>

<tr>
<td class="left">• <a href="#Orgstruct-mode">Orgstruct mode</a>:</td>
<td class="left">Structure editing outside Org</td>
</tr>

<tr>
<td class="left">• <a href="#Org-syntax">Org syntax</a>:</td>
<td class="left">Formal description of Org's syntax</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">2.1 Outlines                                                       <a id="Outlines" name="Outlines"></a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Org is implemented on top of Outline mode. Outlines allow a
document to be organized in a hierarchical structure, which (at
least for me) is the best representation of notes and thoughts. An
overview of this structure is achieved by folding (hiding) large
parts of the document to show only the general document structure
and the parts currently being worked on.  Org greatly simplifies
the use of outlines by compressing the entire show/hide
functionality into a single command, <code>org-cycle</code>, which is bound to
the <code>TAB</code> key.
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">2.2 Headlines                                                      <a id="Headlines" name="Headlines"></a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Headlines define the structure of an outline tree. The headlines in
Org start with one or more stars, on the left
margin<sup><a id="fnr.4" name="fnr.4" class="footref" href="#fn.4">4</a></sup> <sup>, </sup><sup><a id="fnr.5" name="fnr.5" class="footref" href="#fn.5">5</a></sup>. For example:
</p>

<pre class="example">
* Top level headline
** Second level
*** 3rd level
    some text
*** 3rd level
    more text

* Another top level headline
</pre>

<p>
Note that a headline named after <code>org-footnote-section</code>, which
defaults to ‘Footnotes', is considered as special. A subtree with
this headline will be silently ignored by exporting functions.
</p>

<p>
Some people find the many stars too noisy and would prefer an
outline that has whitespace followed by a single star as headline
starters.  <a href="#Clean-view">Clean view</a>, describes a setup to realize this.
</p>

<p>
An empty line after the end of a subtree is considered part of it
and will be hidden when the subtree is folded. However, if you
leave at least two empty lines, one empty line will remain visible
after folding the subtree, in order to structure the collapsed
view. See the variable <code>org-cycle-separator-lines</code> to modify this
behavior.
</p>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">2.3 Visibility cycling                                             <a id="Visibility-cycling" name="Visibility-cycling"></a></h3>
<div class="outline-text-3" id="text-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Global-and-local-cycling">Global and local cycling</a>:</td>
<td class="left">Cycling through various visibility states</td>
</tr>

<tr>
<td class="left">• <a href="#Initial-visibility">Initial visibility</a>:</td>
<td class="left">Setting the initial visibility state</td>
</tr>

<tr>
<td class="left">• <a href="#Catching-invisible-edits">Catching invisible edits</a>:</td>
<td class="left">Preventing mistakes when editing invisible parts</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-3-1" class="outline-4">
<h4 id="sec-2-3-1">2.3.1 Global and local cycling                                    <a id="Global-and-local-cycling" name="Global-and-local-cycling"></a></h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
Outlines make it possible to hide parts of the text in the
buffer. Org uses just two commands, bound to <code>TAB</code> and S-TAB to
change the visibility in the buffer.
</p>

<ul class="org-ul">
<li><b><i>TAB</i></b> (<code>org-cycle</code>)<br  />
       <i>Subtree cycling</i> :: Rotate current subtree among the states

<pre class="example">
,-&gt; FOLDED -&gt; CHILDREN -&gt; SUBTREE --.
'-----------------------------------'
</pre>

<p>
The cursor must be on a headline for this to
work<sup><a id="fnr.6" name="fnr.6" class="footref" href="#fn.6">6</a></sup>. When the cursor is at the beginning of the
buffer and the first line is not a headline, then <code>TAB</code>
actually runs global cycling (see below)<sup><a id="fnr.7" name="fnr.7" class="footref" href="#fn.7">7</a></sup>. Also when
called with a prefix argument (<b><i>C-u TAB</i></b>), global cycling is
invoked.
</p>
</li>

<li><b><i>S-TAB</i></b> (<code>org-global-cycle</code>)<br  />
       <b><i>C-u TAB</i></b><br  />
       <i>Global cycling</i> :: Rotate the entire buffer among the states

<pre class="example">
,-&gt; OVERVIEW -&gt; CONTENTS -&gt; SHOW ALL --.
'--------------------------------------'
</pre>

<p>
When <b><i>S-TAB</i></b> is called with a numeric prefix argument <code>N</code>,
the CONTENTS view up to headlines of level <code>N</code> will be
shown. Note that inside tables, <b><i>S-TAB</i></b> jumps to the previous
field.
</p>
</li>

<li><b><i>C-u C-u TAB</i></b> (<code>org-set-startup-visibility</code>)

<p>
Switch back to the startup visibility of the buffer (see
<a href="#Initial-visibility">Initial visibility</a>).
</p>
</li>

<li><b><i>C-u C-u C-u TAB</i></b> (<code>show-all</code>)

<p>
Show all, including drawers.
</p>
</li>

<li><b><i>C-c C-r</i></b> (<code>org-reveal</code>)

<p>
Reveal context around point, showing the current entry, the
following heading and the hierarchy above. Useful for working
near a location that has been exposed by a sparse tree command
(see <a href="#Sparse-trees">Sparse trees</a>) or an agenda command (see <a href="#Agenda-commands">Agenda commands</a>).
With a prefix argument show, on each level, all sibling
headings. With a double prefix argument, also show the entire
subtree of the parent.
</p>
</li>

<li><b><i>C-c C-k</i></b> (<code>show-branches</code>)

<p>
Expose all the headings of the subtree, CONTENT view for just
one subtree.
</p>
</li>

<li><b><i>C-c TAB</i></b> (<code>show-children</code>)

<p>
Expose all direct children of the subtree. With a numeric
prefix argument <code>N</code>, expose all children down to level <code>N</code>.
</p>
</li>

<li><b><i>C-c C-x b</i></b> (<code>org-tree-to-indirect-buffer</code>)

<p>
Show the current subtree in an indirect buffer<sup><a id="fnr.8" name="fnr.8" class="footref" href="#fn.8">8</a></sup>. With
a numeric prefix argument <code>N</code>, go up to level <code>N</code> and then take
that tree. If <code>N</code> is negative then go up that many levels. With
a <b><i>C-u</i></b> prefix, do not remove the previously used indirect
buffer.
</p>
</li>

<li><b><i>C-c C-x v</i></b> (<code>org-copy-visible</code>)

<p>
Copy the <i>visible</i> text in the region into the kill ring.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-3-2" class="outline-4">
<h4 id="sec-2-3-2">2.3.2 Initial visibility                                          <a id="Initial-visibility" name="Initial-visibility"></a></h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
When Emacs first visits an Org file, the global state is set to
OVERVIEW, i.e., only the top level headlines are
visible<sup><a id="fnr.9" name="fnr.9" class="footref" href="#fn.9">9</a></sup>. This can be configured through the variable
<code>org-startup-folded</code>, or on a per-file basis by adding one of the
following lines anywhere in the buffer:
</p>

<pre class="example">
#+STARTUP: overview
#+STARTUP: content
#+STARTUP: showall
#+STARTUP: showeverything
</pre>

<p>
The startup visibility options are ignored when the file is open
for the first time during the agenda generation: if you want the
agenda to honor the startup visibility, set
<code>org-agenda-inhibit-startup</code> to <code>nil</code>.
</p>

<p>
Furthermore, any entries with a ‘VISIBILITY' property (see
<a href="#Properties-and-columns">Properties and columns</a>) will get their visibility adapted
accordingly. Allowed values for this property are <code>folded</code>,
<code>children</code>, <code>content</code>, and <code>all</code>.
</p>

<ul class="org-ul">
<li><b><i>C-u C-u TAB</i></b> (<code>org-set-startup-visibility</code>)

<p>
Switch back to the startup visibility of the buffer, i.e.,
whatever is requested by startup options and ‘VISIBILITY'
properties in individual entries.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-3-3" class="outline-4">
<h4 id="sec-2-3-3">2.3.3 Catching invisible edits                                    <a id="Catching-invisible-edits" name="Catching-invisible-edits"></a></h4>
<div class="outline-text-4" id="text-2-3-3">
<p>
Sometimes you may inadvertently edit an invisible part of the
buffer and be confused on what has been edited and how to undo the
mistake. Setting <code>org-catch-invisible-edits</code> to non-=nil= will
help prevent this. See the docstring of this option on how Org
should catch invisible edits and process them.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">2.4 Motion                                                         <a id="Motion" name="Motion"></a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
The following commands jump to other headlines in the buffer.
</p>

<ul class="org-ul">
<li><b><i>C-c C-n</i></b> (<code>outline-next-visible-heading</code>)

<p>
Next heading.
</p>
</li>

<li><b><i>C-c C-p</i></b> (<code>outline-previous-visible-heading</code>)

<p>
Previous heading.
</p>
</li>

<li><b><i>C-c C-f</i></b> (<code>org-forward-same-level</code>)

<p>
Next heading same level.
</p>
</li>

<li><b><i>C-c C-b</i></b> (<code>org-backward-same-level</code>)

<p>
Previous heading same level.
</p>
</li>

<li><b><i>C-c C-u</i></b> (<code>outline-up-heading</code>)

<p>
Backward to higher level heading.
</p>
</li>

<li><b><i>C-c C-j</i></b> (<code>org-goto</code>)

<p>
Jump to a different place without changing the current outline
visibility. Shows the document structure in a temporary buffer,
where you can use the following keys to find your destination:
</p>

<pre class="example">
TAB         Cycle visibility.
down / up   Next/previous visible headline.
RET         Select this location.
/           Do a Sparse-tree search
The following keys work if you turn off org-goto-auto-isearch
n / p        Next/previous visible headline.
f / b        Next/previous headline same level.
u            One level up.
0-9          Digit argument.
q            Quit
</pre>

<p>
See also the option <code>org-goto-interface</code>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">2.5 Structure editing                                              <a id="Structure-editing" name="Structure-editing"></a></h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li><b><i>M-RET</i></b> (<code>org-insert-heading</code>)

<p>
Insert a new heading/item with the same level as the one at
point.
</p>

<p>
If the cursor is in a plain list item, a new item is created
(see <a href="#Plain-lists">Plain lists</a>). To prevent this behavior in lists, call the
command with one prefix argument. When this command is used in
the middle of a line, the line is split and the rest of the line
becomes the new item or headline. If you do not want the line to
be split, customize <code>org-M-RET-may-split-line</code>.
</p>

<p>
If the command is used at the <i>beginning</i> of a line, and if
there is a heading or an item at point, the new heading/item is
created <i>before</i> the current line. If the command is used at the
<i>end</i> of a folded subtree (i.e., behind the ellipses at the end
of a headline), then a headline will be inserted after the end
of the subtree.
</p>

<p>
Calling this command with <b><i>C-u C-u</i></b> will unconditionally
respect the headline's content and create a new item at the end
of the parent subtree.
</p>

<p>
If point is at the beginning of a normal line, turn this line
into a heading.
</p>
</li>

<li><b><i>C-RET</i></b> (<code>org-insert-heading-respect-content</code>)

<p>
Just like */M-RET*/, except when adding a new heading below the
current heading, the new heading is placed after the body
instead of before it.  This command works from anywhere in the
entry.
</p>
</li>

<li><b><i>M-S-RET</i></b> (<code>org-insert-todo-heading</code>)

<p>
Insert new TODO entry with same level as current heading. See
also the variable
<code>org-treat-insert-todo-heading-as-state-change</code>.
</p>
</li>

<li><b><i>C-S-RET</i></b> (<code>org-insert-todo-heading-respect-content</code>)

<p>
Insert new TODO entry with same level as current heading. Like
<b><i>C-RET</i></b>, the new headline will be inserted after the current
subtree.
</p>
</li>

<li><b><i>TAB</i></b> (<code>org-cycle</code>)

<p>
In a new entry with no text yet, the first <code>TAB</code> demotes the
entry to become a child of the previous one. The next <code>TAB</code>
makes it a parent, and so on, all the way to top level. Yet
another <code>TAB</code>, and you are back to the initial level.
</p>
</li>

<li><b><i>M-left</i></b> (<code>org-do-promote</code>)

<p>
Promote current heading by one level.
</p>
</li>

<li><b><i>M-right</i></b> (<code>org-do-demote</code>)

<p>
Demote current heading by one level.
</p>
</li>

<li><b><i>M-S-left</i></b> (<code>org-promote-subtree</code>)

<p>
Promote the current subtree by one level.
</p>
</li>

<li><b><i>M-S-right</i></b> (<code>org-demote-subtree</code>)

<p>
Demote the current subtree by one level.
</p>
</li>

<li><b><i>M-S-up</i></b> (<code>org-move-subtree-up</code>)

<p>
Move subtree up (swap with previous subtree of same level).
</p>
</li>

<li><b><i>M-S-down</i></b> (<code>org-move-subtree-down</code>)

<p>
Move subtree down (swap with next subtree of same level).
</p>
</li>

<li><b><i>M-h</i></b> (<code>org-mark-element</code>)

<p>
Mark the element at point. Hitting repeatedly will mark
subsequent elements of the one just marked. E.g., hitting <code>M-h</code>
on a paragraph will mark it, hitting <code>M-h</code> immediately again
will mark the next one.
</p>
</li>

<li><b><i>C-c @</i></b> (<code>org-mark-subtree</code>)

<p>
Mark the subtree at point. Hitting repeatedly will mark
subsequent subtrees of the same level than the marked subtree.
</p>
</li>

<li><b><i>C-c C-x C-w</i></b> (<code>org-cut-subtree</code>)

<p>
Kill subtree, i.e., remove it from buffer but save in kill
ring. With a numeric prefix argument N, kill N sequential
subtrees.
</p>
</li>

<li><b><i>C-c C-x M-w</i></b> (<code>org-copy-subtree</code>)

<p>
Copy subtree to kill ring. With a numeric prefix argument N,
copy the N sequential subtrees.
</p>
</li>

<li><b><i>C-c C-x C-y</i></b> (<code>org-paste-subtree</code>)

<p>
Yank subtree from kill ring. This does modify the level of the
subtree to make sure the tree fits in nicely at the yank
position. The yank level can also be specified with a numeric
prefix argument, or by yanking after a headline marker like
‘****'.
</p>
</li>

<li><b><i>C-y</i></b> (<code>org-yank</code>)

<p>
Depending on the options <code>org-yank-adjusted-subtrees</code> and
<code>org-yank-folded-subtrees</code>, Org's internal <code>yank</code> command will
paste subtrees folded and in a clever way, using the same
command as <b><i>C-c C-x C-y</i></b>. With the default settings, no level
adjustment will take place, but the yanked tree will be folded
unless doing so would swallow text previously visible. Any
prefix argument to this command will force a normal <code>yank</code> to be
executed, with the prefix passed along. A good way to force a
normal yank is <b><i>C-u C-y</i></b>. If you use <code>yank-pop</code> after a yank,
it will yank previous kill items plainly, without adjustment and
folding.
</p>
</li>

<li><b><i>C-c C-x c</i></b> (<code>org-clone-subtree-with-time-shift</code>)

<p>
Clone a subtree by making a number of sibling copies of it. You
will be prompted for the number of copies to make, and you can
also specify if any timestamps in the entry should be
shifted. This can be useful, for example, to create a number of
tasks related to a series of lectures to prepare. For more
details, see the docstring of the command
<code>org-clone-subtree-with-time-shift</code>.
</p>
</li>

<li><b><i>C-c C-w</i></b> (<code>org-refile</code>)

<p>
Refile entry or region to a different location. See <a href="#Refile-and-copy">Refile and copy</a>.
</p>
</li>

<li><b><i>C-c ^</i></b> (<code>org-sort</code>)

<p>
Sort same-level entries. When there is an active region, all
entries in the region will be sorted. Otherwise the children of
the current headline are sorted. The command prompts for the
sorting method, which can be alphabetically, numerically, by
time (first timestamp with active preferred, creation time,
scheduled time, deadline time), by priority, by TODO keyword (in
the sequence the keywords have been defined in the setup) or by
the value of a property. Reverse sorting is possible as
well. You can also supply your own function to extract the
sorting key.  With a <b><i>C-u</i></b> prefix, sorting will be
case-sensitive.
</p>
</li>

<li><b><i>C-x n s</i></b> (<code>org-narrow-to-subtree</code>)

<p>
Narrow buffer to current subtree.
</p>
</li>

<li><b><i>C-x n b</i></b> (<code>org-narrow-to-block</code>)

<p>
Narrow buffer to current block.
</p>
</li>

<li><b><i>C-x n w</i></b> (<code>widen</code>)

<p>
Widen buffer to remove narrowing.
</p>
</li>

<li><b><i>C-c *</i></b> (<code>org-toggle-heading</code>)

<p>
Turn a normal line or plain list item into a headline (so that
it becomes a subheading at its location). Also turn a headline
into a normal line by removing the stars. If there is an active
region, turn all lines in the region into headlines. If the
first line in the region was an item, turn only the item lines
into headlines. Finally, if the first line is a headline, remove
the stars from all headlines in the region.
</p>
</li>
</ul>

<p>
When there is an active region (Transient Mark mode), promotion and
demotion work on all headlines in the region. To select a region of
headlines, it is best to place both point and mark at the beginning
of a line, mark at the beginning of the first headline, and point
at the line just after the last headline to change. Note that when
the cursor is inside a table (see <a href="#Tables">Tables</a>), the Meta-Cursor keys
have different functionality.
</p>
</div>
</div>

<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6">2.6 Sparse trees                                                   <a id="Sparse-trees" name="Sparse-trees"></a></h3>
<div class="outline-text-3" id="text-2-6">
<p>
An important feature of Org mode is the ability to construct
<i>sparse trees</i> for selected information in an outline tree, so that
the entire document is folded as much as possible, but the selected
information is made visible along with the headline structure above
it<sup><a id="fnr.10" name="fnr.10" class="footref" href="#fn.10">10</a></sup>. Just try it out and you will see immediately how it
works.
</p>

<p>
Org mode contains several commands for creating such trees, all these
commands can be accessed through a dispatcher:
</p>

<ul class="org-ul">
<li><b><i>C-c /</i></b> (<code>org-sparse-tree</code>)

<p>
This prompts for an extra key to select a sparse-tree creating
command.
</p>
</li>

<li><b><i>C-c / r</i></b> (<code>org-occur</code>)

<p>
Prompts for a regexp and shows a sparse tree with all
matches. If the match is in a headline, the headline is made
visible. If the match is in the body of an entry, headline and
body are made visible. In order to provide minimal context, also
the full hierarchy of headlines above the match is shown, as
well as the headline following the match. Each match is also
highlighted; the highlights disappear when the buffer is changed
by an editing command<sup><a id="fnr.11" name="fnr.11" class="footref" href="#fn.11">11</a></sup>, or by pressing <b><i>C-c
C-c</i></b>. When called with a <b><i>C-u</i></b> prefix argument, previous
highlights are kept, so several calls to this command can be
stacked.
</p>
</li>

<li><b><i>M-g n</i></b> or <b><i>M-g M-n</i></b> (<code>next-error</code>)

<p>
Jump to the next sparse tree match in this buffer.
</p>
</li>

<li><b><i>M-g p</i></b> or <b><i>M-g M-p</i></b> (<code>previous-error</code>)

<p>
Jump to the previous sparse tree match in this buffer.
</p>
</li>
</ul>

<p>
For frequently used sparse trees of specific search strings, you
can use the option <code>org-agenda-custom-commands</code> to define fast
keyboard access to specific sparse trees. These commands will then
be accessible through the agenda dispatcher (see <a href="#Agenda-dispatcher">Agenda dispatcher</a>).
For example:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands
      '(("f" occur-tree "FIXME")))
</pre>
</div>

<p>
will define the key <b><i>C-c a f</i></b> as a shortcut for creating a sparse
tree matching the string ‘FIXME'.
</p>

<p>
The other sparse tree commands select headings based on TODO
keywords, tags, or properties and will be discussed later in this
manual.
</p>

<p>
To print a sparse tree, you can use the Emacs command
<code>ps-print-buffer-with-faces</code> which does not print invisible parts
of the document<sup><a id="fnr.12" name="fnr.12" class="footref" href="#fn.12">12</a></sup>. Or you can use <b><i>C-c C-e C-v</i></b> to
export only the visible part of the document and print the
resulting file.
</p>
</div>
</div>

<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7">2.7 Plain lists                                                    <a id="Plain-lists" name="Plain-lists"></a></h3>
<div class="outline-text-3" id="text-2-7">
<p>
Within an entry of the outline tree, hand-formatted lists can
provide additional structure. They also provide a way to create
lists of checkboxes (see <a href="#Checkboxes">Checkboxes</a>). Org supports editing such
lists, and every exporter (see <a href="#Exporting">Exporting</a>) can parse and format
them.
</p>

<p>
Org knows ordered lists, unordered lists, and description lists.
</p>

<ul class="org-ul">
<li><i>Unordered</i> list items start with ‘-', ‘+', or ‘*'<sup><a id="fnr.13" name="fnr.13" class="footref" href="#fn.13">13</a></sup> as
bullets.
</li>

<li><i>Ordered</i> list items start with a numeral followed by either a
period or a right parenthesis<sup><a id="fnr.14" name="fnr.14" class="footref" href="#fn.14">14</a></sup>, such as ‘1.' or
‘1)'<sup><a id="fnr.15" name="fnr.15" class="footref" href="#fn.15">15</a></sup>. If you want a list to start with a different
value (e.g., 20), start the text of the item with
<code>[@20]</code> <sup><a id="fnr.16" name="fnr.16" class="footref" href="#fn.16">16</a></sup>. Those constructs can be used in any item of
the list in order to enforce a particular numbering.
</li>

<li><i>Description</i> list items are unordered list items, and contain
the separator ‘ :: ' to distinguish the description <i>term</i> from
the description.
</li>
</ul>

<p>
Items belonging to the same list must have the same indentation on
the first line. In particular, if an ordered list reaches number
‘10.', then the 2&#x2013;digit numbers must be written left-aligned with
the other numbers in the list. An item ends before the next line
that is less or equally indented than its bullet/number.
</p>

<p>
A list ends whenever every item has ended, which means before any
line less or equally indented than items at top level. It also ends
before two blank lines<sup><a id="fnr.17" name="fnr.17" class="footref" href="#fn.17">17</a></sup>. In that case, all items are
closed.  Here is an example:
</p>

<pre class="example">
** Lord of the Rings
   My favorite scenes are (in this order)
   1. The attack of the Rohirrim
   2. Eowyn's fight with the witch king
      + this was already my favorite scene in the book
      + I really like Miranda Otto.
   3. Peter Jackson being shot by Legolas
      - on DVD only
      He makes a really funny face when it happens.
   But in the end, no individual scenes matter but the film as a whole.
   Important actors in this film are:
   - Elijah Wood :: He plays Frodo
   - Sean Austin :: He plays Sam, Frodo's friend.  I still remember
     him very well from his role as Mikey Walsh in The Goonies.
</pre>

<p>
Org supports these lists by tuning filling and wrapping commands to
deal with them correctly<sup><a id="fnr.18" name="fnr.18" class="footref" href="#fn.18">18</a></sup>, and by exporting them properly
(see <a href="#Exporting">Exporting</a>). Since indentation is what governs the structure of
these lists, many structural constructs like <code>#+BEGIN_...</code> blocks
can be indented to signal that they belong to a particular item.
</p>

<p>
If you find that using a different bullet for a sub-list (than that
used for the current list-level) improves readability, customize
the variable <code>org-list-demote-modify-bullet</code>. To get a greater
difference of indentation between items and their sub-items,
customize <code>org-list-indent-offset</code>.
</p>

<p>
The following commands act on items when the cursor is in the first
line of an item (the line with the bullet or number). Some of them
imply the application of automatic rules to keep list structure
intact. If some of these actions get in your way, configure
<code>org-list-automatic-rules</code> to disable them individually.
</p>

<ul class="org-ul">
<li><b><i>TAB</i></b> (<code>org-cycle</code>)

<p>
Items can be folded just like headline levels. Normally this
works only if the cursor is on a plain list item. For more
details, see the variable <code>org-cycle-include-plain-lists</code>. If
this variable is set to <code>integrate</code>, plain list items will be
treated like low-level headlines.  The level of an item is then
given by the indentation of the bullet/number. Items are always
subordinate to real headlines, however; the hierarchies remain
completely separated. In a new item with no text yet, the first
<code>TAB</code> demotes the item to become a child of the previous
one. Subsequent <code>TAB</code> 's move the item to meaningful levels in
the list and eventually get it back to its initial position.
</p>
</li>

<li><b><i>M-RET</i></b> (<code>org-insert-heading</code>)

<p>
Insert new item at current level. With a prefix argument, force
a new heading (see <a href="#Structure-editing">Structure editing</a>). If this command is used
in the middle of an item, that item is <i>split</i> in two, and the
second part becomes the new item<sup><a id="fnr.19" name="fnr.19" class="footref" href="#fn.19">19</a></sup>. If this command is
executed <i>before item's body</i>, the new item is created <i>before</i>
the current one.
</p>
</li>

<li><b><i>M-S-RET</i></b>

<p>
Insert a new item with a checkbox (see <a href="#Checkboxes">Checkboxes</a>).
</p>
</li>

<li><b><i>S-up</i></b>
</li>
<li><b><i>S-down</i></b>

<p>
Jump to the previous/next item in the current list<sup><a id="fnr.20" name="fnr.20" class="footref" href="#fn.20">20</a></sup>,
but only if <code>org-support-shift-select</code> is off. If not, you can
still use paragraph jumping commands like <b><i>C-up</i></b> and
<b><i>C-down</i></b> to quite similar effect.
</p>
</li>

<li><b><i>M-up</i></b>
</li>
<li><b><i>M-down</i></b>

<p>
Move the item including subitems up/down<sup><a id="fnr.21" name="fnr.21" class="footref" href="#fn.21">21</a></sup> (swap with
previous/next item of same indentation). If the list is ordered,
renumbering is automatic.
</p>
</li>

<li><b><i>M-left</i></b>
</li>
<li><b><i>M-right</i></b>

<p>
Decrease/increase the indentation of an item, leaving children
alone.
</p>
</li>

<li><b><i>M-S-left</i></b>
</li>
<li><b><i>M-S-right</i></b>

<p>
Decrease/increase the indentation of the item, including
subitems.  Initially, the item tree is selected based on current
indentation. When these commands are executed several times in
direct succession, the initially selected region is used, even
if the new indentation would imply a different hierarchy. To use
the new hierarchy, break the command chain with a cursor motion
or so.
</p>

<p>
As a special case, using this command on the very first item of
a list will move the whole list. This behavior can be disabled
by configuring <code>org-list-automatic-rules</code>. The global
indentation of a list has no influence on the text <i>after</i> the
list.
</p>
</li>

<li><b><i>C-c C-c</i></b>

<p>
If there is a checkbox (see <a href="#Checkboxes">Checkboxes</a>) in the item line, toggle
the state of the checkbox. In any case, verify bullets and
indentation consistency in the whole list.
</p>
</li>

<li><b><i>C-c -</i></b>

<p>
Cycle the entire list level through the different
itemize/enumerate bullets (‘-', ‘+', ‘*', ‘1.', ‘1)') or a
subset of them, depending on
<code>org-plain-list-ordered-item-terminator</code>, the type of list, and
its indentation. With a numeric prefix argument N, select the
Nth bullet from this list. If there is an active region when
calling this, selected text will be changed into an item. With a
prefix argument, all lines will be converted to list items. If
the first line already was a list item, any item marker will be
removed from the list. Finally, even without an active region, a
normal line will be converted into a list item.
</p>
</li>

<li><b><i>C-c *</i></b>

<p>
Turn a plain list item into a headline (so that it becomes a
subheading at its location). See <a href="#Structure-editing">Structure editing</a>, for a
detailed explanation.
</p>
</li>

<li><b><i>C-c C-*</i></b>

<p>
Turn the whole plain list into a subtree of the current heading.
Checkboxes (see <a href="#Checkboxes">Checkboxes</a>) will become TODO (resp.  DONE)
keywords when unchecked (resp. checked).
</p>
</li>

<li><b><i>S-left/right</i></b>

<p>
This command also cycles bullet styles when the cursor in on the
bullet or anywhere in an item line, details depending on
<code>org-support-shift-select</code>.
</p>
</li>

<li><b><i>C-c ^</i></b>

<p>
Sort the plain list. You will be prompted for the sorting
method: numerically, alphabetically, by time, by checked status
for check lists, or by a custom function.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-8" class="outline-3">
<h3 id="sec-2-8">2.8 Drawers                                                        <a id="Drawers" name="Drawers"></a></h3>
<div class="outline-text-3" id="text-2-8">
<p>
Sometimes you want to keep information associated with an entry,
but you normally don't want to see it. For this, Org mode has
<i>drawers</i>. They can contain anything but a headline and another
drawer. Drawers look like this:
</p>

<pre class="example">
** This is a headline
   Still outside the drawer
   :DRAWERNAME:
   This is inside the drawer.
   :END:
   After the drawer.
</pre>

<p>
You can interactively insert drawers at point by calling
<code>org-insert-drawer</code>, which is bound to <code>C-c C-x d</code>. With an active
region, this command will put the region inside the drawer. With a
prefix argument, this command calls <code>org-insert-property-drawer</code>
and add a property drawer right below the current
headline. Completion over drawer keywords is also possible using
<code>M-TAB</code>.
</p>

<p>
Visibility cycling (see <a href="#Visibility-cycling">Visibility cycling</a>) on the headline will
hide and show the entry, but keep the drawer collapsed to a single
line. In order to look inside the drawer, you need to move the
cursor to the drawer line and press <code>TAB</code> there. Org mode uses the
<code>PROPERTIES</code> drawer for storing properties (see <a href="#Properties-and-columns">Properties and
columns</a>), and you can also arrange for state change notes (see
<a href="#Tracking-TODO-state-changes">Tracking TODO state changes</a>) and clock times (see <a href="#Clocking-work-time">Clocking work
time</a>) to be stored in a drawer <code>LOGBOOK</code>. If you want to store a
quick note in the LOGBOOK drawer, in a similar way to state
changes, use
</p>

<ul class="org-ul">
<li><b><i>C-c C-z</i></b>

<p>
Add a time-stamped note to the LOGBOOK drawer.
</p>
</li>
</ul>

<p>
You can select the name of the drawers which should be exported
with <code>org-export-with-drawers</code>. In that case, drawer contents will
appear in export output. Property drawers are not affected by this
variable: configure <code>org-export-with-properties</code> instead.
</p>
</div>
</div>

<div id="outline-container-sec-2-9" class="outline-3">
<h3 id="sec-2-9">2.9 Blocks                                                         <a id="Blocks" name="Blocks"></a></h3>
<div class="outline-text-3" id="text-2-9">
<p>
Org mode uses begin&#x2026;end blocks for various purposes from
including source code examples (see <a href="#Literal-examples">Literal examples</a>) to capturing
time logging information (see <a href="#Clocking-work-time">Clocking work time</a>). These blocks can
be folded and unfolded by pressing TAB in the begin line. You can
also get all blocks folded at startup by configuring the option
<code>org-hide-block-startup</code> or on a per-file basis by using
</p>

<pre class="example">
#+STARTUP: hideblocks
#+STARTUP: nohideblocks
</pre>
</div>
</div>

<div id="outline-container-sec-2-10" class="outline-3">
<h3 id="sec-2-10">2.10 Footnotes                                                     <a id="Footnotes" name="Footnotes"></a></h3>
<div class="outline-text-3" id="text-2-10">
<p>
Org mode supports the creation of footnotes. In contrast to the
footnote.el package, Org mode's footnotes are designed for work on
a larger document, not only for one-off documents like emails.
</p>

<p>
A footnote is started by a footnote marker in square brackets in
column 0, no indentation allowed. It ends at the next footnote
definition, headline, or after two consecutive empty lines. The
footnote reference is simply the marker in square brackets, inside
text. For example:
</p>

<pre class="example">
The Org homepage[fn:1] now looks a lot better than it used to.
...
[fn:1] The link is: http://orgmode.org
</pre>

<p>
Org mode extends the number-based syntax to <i>named</i> footnotes and
optional inline definition. Using plain numbers as markers (as
footnote.el does) is supported for backward compatibility, but not
encouraged because of possible conflicts with LaTeX snippets (see
<a href="#Embedded-LaTeX">Embedded LaTeX</a>). Here are the valid references:
</p>

<dl class="org-dl">
<dt> <code>[1]</code> </dt><dd>      A plain numeric footnote marker. Compatible with footnote.el,
but not recommended because something like <code>[1]</code> could easily be
part of a code snippet.
</dd>

<dt> <code>[fn:name]</code> </dt><dd>      A named footnote reference, where <code>name</code> is a unique label word,
or, for simplicity of automatic creation, a number.
</dd>

<dt> <code>[fn:: This is the inline definition of this footnote]</code> </dt><dd>      A LaTeX-like anonymous footnote where the definition is given
directly at the reference point.
</dd>

<dt> <code>[fn:name: a definition]</code> </dt><dd>      An inline definition of a footnote, which also specifies a name
for the note. Since Org allows multiple references to the same
note, you can then use <code>[fn:name]</code> to create additional
references.
</dd>
</dl>

<p>
Footnote labels can be created automatically, or you can create
names yourself. This is handled by the variable
<code>org-footnote-auto-label</code> and its corresponding <code>#+STARTUP</code>
keywords. See the docstring of that variable for details.
</p>

<p>
The following command handles footnotes:
</p>

<ul class="org-ul">
<li><b><i>C-c C-x f</i></b>

<p>
The footnote action command.
</p>

<p>
When the cursor is on a footnote reference, jump to the
definition. When it is at a definition, jump to the (first)
reference.
</p>

<p>
Otherwise, create a new footnote. Depending on the option
<code>org-footnote-define-inline</code> <sup><a id="fnr.22" name="fnr.22" class="footref" href="#fn.22">22</a></sup>, the definition will be
placed right into the text as part of the reference, or
separately into the location determined by the option
<code>org-footnote-section</code>.
</p>

<p>
When this command is called with a prefix argument, a menu of
additional options is offered:
</p>

<pre class="example">
s   Sort the footnote definitions by reference sequence.  During editing,
    Org makes no effort to sort footnote definitions into a particular
    sequence.  If you want them sorted, use this command, which will
    also move entries according to org-footnote-section.  Automatic
    sorting after each insertion/deletion can be configured using the
    option org-footnote-auto-adjust.
r   Renumber the simple fn:N footnotes.  Automatic renumbering
    after each insertion/deletion can be configured using the option
    org-footnote-auto-adjust.
S   Short for first r, then s action.
n   Normalize the footnotes by collecting all definitions (including
    inline definitions) into a special section, and then numbering them
    in sequence.  The references will then also be numbers.  This is
    meant to be the final step before finishing a document (e.g., sending
    off an email).
d   Delete the footnote at point, and all definitions of and references
    to it.
</pre>

<p>
Depending on the variable =org-footnote-auto-adjust=<sup><a id="fnr.23" name="fnr.23" class="footref" href="#fn.23">23</a></sup>,
renumbering and sorting footnotes can be automatic after each
insertion or deletion.
</p>
</li>

<li><b><i>C-c C-c</i></b>

<p>
If the cursor is on a footnote reference, jump to the
definition. If it is a the definition, jump back to the
reference. When called at a footnote location with a prefix
argument, offer the same menu as <b><i>C-c C-x f</i></b>.
</p>
</li>

<li><b><i>C-c C-o or mouse-1/2</i></b>

<p>
Footnote labels are also links to the corresponding
definition/reference, and you can use the usual commands to
follow these links.
</p>
</li>

<li><b>/C-c '/</b>

<p>
Edit the footnote definition corresponding to the reference at
point in a seperate window. This may be useful if editing
footnotes in a narrowed buffer. The window can be closed by
pressing <b>/C-c '/</b>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-11" class="outline-3">
<h3 id="sec-2-11">2.11 The Orgstruct minor mode                                      <a id="Orgstruct-mode" name="Orgstruct-mode"></a></h3>
<div class="outline-text-3" id="text-2-11">
<p>
If you like the intuitive way the Org mode structure editing and
list formatting works, you might want to use these commands in
other modes like Text mode or Mail mode as well. The minor mode
<code>orgstruct-mode</code> makes this possible. Toggle the mode with <b><i>M-x
orgstruct-mode RET</i></b>, or turn it on by default, for example in
Message mode, with one of:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'message-mode-hook 'turn-on-orgstruct)
(add-hook 'message-mode-hook 'turn-on-orgstruct++)
</pre>
</div>

<p>
When this mode is active and the cursor is on a line that looks to
Org like a headline or the first line of a list item, most
structure editing commands will work, even if the same keys
normally have different functionality in the major mode you are
using. If the cursor is not in one of those special lines,
Orgstruct mode lurks silently in the shadows.
</p>

<p>
When you use <code>orgstruct++-mode</code>, Org will also export indentation
and autofill settings into that mode, and detect item context after
the first line of an item.
</p>

<p>
You can also use Org structure editing to fold and unfold headlines
in <i>any</i> file, provided you defined
<code>orgstruct-heading-prefix-regexp</code>: the regular expression must
match the local prefix to use before Org's headlines. For example,
if you set this variable to ";; " in Emacs Lisp files, you will be
able to fold and unfold headlines in Emacs Lisp commented
lines. Some commands like <code>org-demote</code> are disabled when the prefix
is set, but folding/unfolding will work correctly.
</p>
</div>
</div>

<div id="outline-container-sec-2-12" class="outline-3">
<h3 id="sec-2-12">2.12 Org syntax                                                    <a id="Org-syntax" name="Org-syntax"></a></h3>
<div class="outline-text-3" id="text-2-12">
<p>
A reference document providing a formal description of Org's syntax
is available as <a href="http://orgmode.org/worg/dev/org-syntax.html">a draft on Worg</a>, written and maintained by Nicolas
Goaziou. It defines Org's core internal concepts such as
<code>headlines</code>, <code>sections</code>, <code>affiliated keywords</code>, <code>(greater)
   elements</code> and <code>objects</code>. Each part of an Org file falls into one of
the categories above.
</p>

<p>
To explore the abstract structure of an Org buffer, run this in a
buffer:
</p>

<div class="org-src-container">

<pre class="src src-lisp">M-: (org-element-parse-buffer) RET
</pre>
</div>

<p>
It will output a list containing the buffer's content represented
as an abstract structure. The export engine relies on the
information stored in this list. Most interactive commands (e.g.,
for structure editing) also rely on the syntactic meaning of the
surrounding context.
</p>

<p>
You can check syntax in your documents using <code>org-lint</code> command.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">3 Tables                                                            <a id="Tables" name="Tables"></a></h2>
<div class="outline-text-2" id="text-3">
<p>
Org comes with a fast and intuitive table editor. Spreadsheet-like
calculations are supported using the Emacs calc package (see <a href="http://www.gnu.org/software/emacs/manual/html_mono/calc.html#Top">Calc</a> in
Gnu Emacs Calculator Manual).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Built-in-table-editor">Built-in table editor</a>:</td>
<td class="left">Simple tables</td>
</tr>

<tr>
<td class="left">• <a href="#Column-width-and-alignment">Column width and alignment</a>:</td>
<td class="left">Overrule the automatic settings</td>
</tr>

<tr>
<td class="left">• <a href="#Column-groups">Column groups</a>:</td>
<td class="left">Grouping to trigger vertical lines</td>
</tr>

<tr>
<td class="left">• <a href="#Orgtbl-mode">Orgtbl mode</a>:</td>
<td class="left">The table editor as minor mode</td>
</tr>

<tr>
<td class="left">• <a href="#The-spreadsheet">The spreadsheet</a>:</td>
<td class="left">The table editor has spreadsheet capabilities</td>
</tr>

<tr>
<td class="left">• <a href="#Org-plot">Org-Plot</a>:</td>
<td class="left">Plotting from org tables</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">3.1 The built-in table editor                                      <a id="Built-in-table-editor" name="Built-in-table-editor"></a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Org makes it easy to format tables in plain ASCII. Any line with
‘|' as the first non-whitespace character is considered part of a
table. ‘|' is also the column separator<sup><a id="fnr.24" name="fnr.24" class="footref" href="#fn.24">24</a></sup>. A table might
look like this:
</p>

<pre class="example">
| Name  | Phone | Age |
|-------+-------+-----|
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
</pre>

<p>
A table is re-aligned automatically each time you press <code>TAB</code> or
<code>RET</code> or <b><i>C-c C-c</i></b> inside the table. <code>TAB</code> also moves to the next
field (<code>RET</code> to the next row) and creates new table rows at the end
of the table or before horizontal lines. The indentation of the
table is set by the first line. Any line starting with ‘|-' is
considered as a horizontal separator line and will be expanded on
the next re-align to span the whole table width. So, to create the
above table, you would only type
</p>

<pre class="example">
|Name|Phone|Age|
|-
</pre>

<p>
and then press <code>TAB</code> to align the table and start filling in
fields.  Even faster would be to type <code>|Name|Phone|Age</code> followed by
<b><i>C-c RET</i></b>.
</p>

<p>
When typing text into a field, Org treats <code>DEL</code>, <code>Backspace</code>, and
all character keys in a special way, so that inserting and deleting
avoids shifting other fields. Also, when typing <i>immediately after
the cursor was moved into a new field with TAB, S-TAB or RET</i>, the
field is automatically made blank. If this behavior is too
unpredictable for you, configure the options
<code>org-enable-table-editor</code> and <code>org-table-auto-blank-field</code>.
</p>
</div>

<div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1">Creation and conversion</h4>
<div class="outline-text-4" id="text-3-1-1">
<ul class="org-ul">
<li><b><i>C-c |</i></b> (<code>org-table-create-or-convert-from-region</code>)

<p>
Convert the active region to a table. If every line contains at
least one <b><i>TAB</i></b> character, the function assumes that the
material is tab separated.  If every line contains a comma,
comma-separated values (<code>CSV</code>) are assumed. If not, lines are
split at whitespace into fields. You can use a prefix argument
to force a specific separator: <b><i>C-u</i></b> forces <code>CSV</code>, <b><i>C-u C-u</i></b>
forces <b><i>TAB</i></b>, <b><i>C-u C-u C-u</i></b> will prompt for a regular
expression to match the separator, and a numeric argument N
indicates that at least N consecutive spaces, or alternatively a
<b><i>TAB</i></b> will be the separator.
</p>

<p>
If there is no active region, this command creates an empty Org
table. But it is easier just to start typing, like
<code>|Name|Phone|Age RET |- TAB</code>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2">Re-aligning and field motion</h4>
<div class="outline-text-4" id="text-3-1-2">
<ul class="org-ul">
<li><b><i>C-c C-c</i></b> (<code>org-table-align</code>)

<p>
Re-align the table and don't move to another field.
</p>
</li>

<li><b><i>C-c SPC</i></b> (<code>org-table-blank-field</code>)

<p>
Blank the field at point.
</p>
</li>

<li><b><i>&lt;TAB&gt;</i></b> (<code>org-table-next-field</code>)

<p>
Re-align the table, move to the next field. Creates a new row if
necessary.
</p>
</li>

<li><b><i>S-TAB</i></b> (<code>org-table-previous-field</code>)

<p>
Re-align, move to previous field.
</p>
</li>

<li><b><i>RET</i></b> (<code>org-table-next-row</code>)

<p>
Re-align the table and move down to next row. Creates a new row
if necessary. At the beginning or end of a line, <code>RET</code> still
does NEWLINE, so it can be used to split a table.
</p>
</li>

<li><b><i>M-a</i></b> (<code>org-table-beginning-of-field</code>)

<p>
Move to beginning of the current table field, or on to the
previous field.
</p>
</li>

<li><b><i>M-e</i></b> (<code>org-table-end-of-field</code>)

<p>
Move to end of the current table field, or on to the next field.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-1-3" class="outline-4">
<h4 id="sec-3-1-3">Column and row editing</h4>
<div class="outline-text-4" id="text-3-1-3">
<ul class="org-ul">
<li><b><i>M-left</i></b> (<code>org-table-move-column-left</code>)
</li>
<li><b><i>M-right</i></b> (<code>org-table-move-column-right</code>)

<p>
Move the current column left/right.
</p>
</li>

<li><b><i>M-S-left</i></b> (<code>org-table-delete-column</code>)

<p>
Kill the current column.
</p>
</li>

<li><b><i>M-S-right</i></b> (<code>org-table-insert-column</code>)

<p>
Insert a new column to the left of the cursor position.
</p>
</li>

<li><b><i>M-up</i></b> (<code>org-table-move-row-up</code>)
</li>
<li><b><i>M-down</i></b> (<code>org-table-move-row-down</code>)

<p>
Move the current row up/down.
</p>
</li>

<li><b><i>M-S-up</i></b> (<code>org-table-kill-row</code>)

<p>
Kill the current row or horizontal line.
</p>
</li>

<li><b><i>M-S-down</i></b> (<code>org-table-insert-row</code>)

<p>
Insert a new row above the current row. With a prefix argument,
the line is created below the current one.
</p>
</li>

<li><b><i>C-c -</i></b> (<code>org-table-insert-hline</code>)

<p>
Insert a horizontal line below current row. With a prefix
argument, the line is created above the current line.
</p>
</li>

<li><b><i>C-c RET</i></b> (<code>org-table-hline-and-move</code>)

<p>
Insert a horizontal line below current row, and move the cursor
into the row below that line.
</p>
</li>

<li><b><i>C-c ^</i></b> (<code>org-table-sort-lines</code>)

<p>
Sort the table lines in the region. The position of point
indicates the column to be used for sorting, and the range of
lines is the range between the nearest horizontal separator
lines, or the entire table. If point is before the first column,
you will be prompted for the sorting column. If there is an
active region, the mark specifies the first line and the sorting
column, while point should be in the last line to be included
into the sorting. The command prompts for the sorting type
(alphabetically, numerically, or by time). You can sort in
normal or reverse order. You can also supply your own key
extraction and comparison functions. When called with a prefix
argument, alphabetic sorting will be case-sensitive.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-1-4" class="outline-4">
<h4 id="sec-3-1-4">Regions</h4>
<div class="outline-text-4" id="text-3-1-4">
<ul class="org-ul">
<li><b><i>C-c C-x M-w</i></b> (<code>org-table-copy-region</code>)

<p>
Copy a rectangular region from a table to a special
clipboard. Point and mark determine edge fields of the
rectangle. If there is no active region, copy just the current
field. The process ignores horizontal separator lines.
</p>
</li>

<li><b><i>C-c C-x C-w</i></b> (<code>org-table-cut-region</code>)

<p>
Copy a rectangular region from a table to a special clipboard,
and blank all fields in the rectangle. So this is the “cut”
operation.
</p>
</li>

<li><b><i>C-c C-x C-y</i></b> (<code>org-table-paste-rectangle</code>)

<p>
Paste a rectangular region into a table. The upper left corner
ends up in the current field. All involved fields will be
overwritten. If the rectangle does not fit into the present
table, the table is enlarged as needed. The process ignores
horizontal separator lines.
</p>
</li>

<li><b><i>M-RET</i></b> (<code>org-table-wrap-region</code>)

<p>
Split the current field at the cursor position and move the rest
to the line below. If there is an active region, and both point
and mark are in the same column, the text in the column is
wrapped to minimum width for the given number of lines. A
numeric prefix argument may be used to change the number of
desired lines. If there is no region, but you specify a prefix
argument, the current field is made blank, and the content is
appended to the field above.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-1-5" class="outline-4">
<h4 id="sec-3-1-5">Calculations</h4>
<div class="outline-text-4" id="text-3-1-5">
<ul class="org-ul">
<li><b><i>C-c +</i></b> (<code>org-table-sum</code>)

<p>
Sum the numbers in the current column, or in the rectangle
defined by the active region. The result is shown in the echo
area and can be inserted with C-y.
</p>
</li>

<li><b><i>S-RET</i></b> (<code>org-table-copy-down</code>)

<p>
When current field is empty, copy from first non-empty field
above. When not empty, copy current field down to next row and
move cursor along with it. Depending on the option
<code>org-table-copy-increment</code>, integer field values will be
incremented during copy. Integers that are too large will not be
incremented. Also, a <code>0</code> prefix argument temporarily disables
the increment. This key is also used by shift-selection and
related modes (see <a href="#Conflicts">Conflicts</a>).
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-1-6" class="outline-4">
<h4 id="sec-3-1-6">Miscellaneous</h4>
<div class="outline-text-4" id="text-3-1-6">
<ul class="org-ul">
<li><b><i>C-c `</i></b> (<code>org-table-edit-field</code>)

<p>
Edit the current field in a separate window. This is useful for
fields that are not fully visible (see <a href="#Column-width-and-alignment">Column width and
alignment</a>).  When called with a C-u prefix, just make the full
field visible, so that it can be edited in place. When called
with two <b><i>C-u</i></b> prefixes, make the editor window follow the
cursor through the table and always show the current field. The
follow mode exits automatically when the cursor leaves the
table, or when you repeat this command with <b><i>C-u C-u C-c `</i></b>.
</p>
</li>

<li><b><i>M-x org-table-import RET</i></b>

<p>
Import a file as a table. The table should be TAB or whitespace
separated. Use, for example, to import a spreadsheet table or
data from a database, because these programs generally can write
TAB-separated text files. This command works by inserting the
file into the buffer and then converting the region to a
table. Any prefix argument is passed on to the converter, which
uses it to determine the separator.
</p>
</li>

<li><b><i>C-c |</i></b> (<code>org-table-create-or-convert-from-region</code>)

<p>
Tables can also be imported by pasting tabular text into the Org
buffer, selecting the pasted text with <b><i>C-x C-x</i></b> and then
using the <b><i>C-c</i></b> | command (see above under <i>Creation and
conversion</i>).
</p>
</li>

<li><b><i>M-x org-table-export RET</i></b>

<p>
Export the table, by default as a TAB-separated file. Use for
data exchange with, for example, spreadsheet or database
programs. The format used to export the file can be configured
in the option <code>org-table-export-default-format</code>.  You may also
use properties <code>TABLE_EXPORT_FILE</code> and <code>TABLE_EXPORT_FORMAT</code> to
specify the file name and the format for table export in a
subtree. Org supports quite general formats for exported
tables. The exporter format is the same as the format used by
Orgtbl radio tables, see <a href="#Translator-functions">Translator functions</a>, for a detailed
description.
</p>
</li>
</ul>

<p>
If you don't like the automatic table editor because it gets in
your way on lines which you would like to start with ‘|', you can
turn it off with
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-enable-table-editor nil)
</pre>
</div>

<p>
Then the only table command that still works is <b><i>C-c C-c</i></b> to do a
manual re-align.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">3.2 Column width and alignment                                     <a id="Column-width-and-alignment" name="Column-width-and-alignment"></a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
The width of columns is automatically determined by the table
editor.  And also the alignment of a column is determined
automatically from the fraction of number-like versus non-number
fields in the column.
</p>

<p>
Sometimes a single field or a few fields need to carry more text,
leading to inconveniently wide columns. Or maybe you want to make a
table with several columns having a fixed width, regardless of
content.  To set<sup><a id="fnr.25" name="fnr.25" class="footref" href="#fn.25">25</a></sup> the width of a column, one field
anywhere in the column may contain just the string ‘&lt;N&gt;' where ‘N'
is an integer specifying the width of the column in characters. The
next re-align will then set the width of this column to this value.
</p>

<pre class="example">
|---+------------------------------|               |---+--------|
|   |                              |               |   | &lt;6&gt;    |
| 1 | one                          |               | 1 | one    |
| 2 | two                          |     ----\     | 2 | two    |
| 3 | This is a long chunk of text |     ----/     | 3 | This=&gt; |
| 4 | four                         |               | 4 | four   |
|---+------------------------------|               |---+--------|
</pre>

<p>
Fields that are wider become clipped and end in the string
‘=&gt;'. Note that the full text is still in the buffer but is
hidden. To see the full text, hold the mouse over the field &#x2013; a
tool-tip window will show the full content. To edit such a field,
use the command <b><i>C-c `</i></b> (that is <b><i>C-c</i></b> followed by the grave
accent). This will open a new window with the full field. Edit it
and finish with <b><i>C-c C-c</i></b>.
</p>

<p>
When visiting a file containing a table with narrowed columns, the
necessary character hiding has not yet happened, and the table
needs to be aligned before it looks nice. Setting the option
<code>org-startup-align-all-tables</code> will realign all tables in a file
upon visiting, but also slow down startup. You can also set this
option on a per-file basis with:
</p>

<pre class="example">
#+STARTUP: align
#+STARTUP: noalign
</pre>

<p>
If you would like to overrule the automatic alignment of
number-rich columns to the right and of string-rich column to the
left, you can use ‘&lt;r&gt;', ‘&lt;c&gt;'<sup><a id="fnr.26" name="fnr.26" class="footref" href="#fn.26">26</a></sup> or ‘&lt;l&gt;' in a similar
fashion. You may also combine alignment and field width like this:
‘&lt;r10&gt;'.
</p>

<p>
Lines which only contain these formatting cookies will be removed
automatically when exporting the document.
</p>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">3.3 Column groups                                                  <a id="Column-groups" name="Column-groups"></a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
When Org exports tables, it does so by default without vertical
lines because that is visually more satisfying in
general. Occasionally however, vertical lines can be useful to
structure a table into groups of columns, much like horizontal
lines can do for groups of rows. In order to specify column groups,
you can use a special row where the first field contains only
‘/'. The further fields can either contain ‘&lt;' to indicate that
this column should start a group, ‘&gt;' to indicate the end of a
column, or ‘&lt;&gt;' (no space between ‘&lt;' and ‘&gt;') to make a column a
group of its own. Boundaries between column groups will upon export
be marked with vertical lines. Here is an example:
</p>

<pre class="example">
| N | N^2 | N^3 | N^4 | ~sqrt(n)~ | ~sqrt[4](N)~ |
|---+-----+-----+-----+-----------+--------------|
| / |   &lt; |     |   &gt; |         &lt; |            &gt; |
| 1 |   1 |   1 |   1 |         1 |            1 |
| 2 |   4 |   8 |  16 |    1.4142 |       1.1892 |
| 3 |   9 |  27 |  81 |    1.7321 |       1.3161 |
|---+-----+-----+-----+-----------+--------------|
#+TBLFM: $2=$1^2::$3=$1^3::$4=$1^4::$5=sqrt($1)::$6=sqrt(sqrt(($1)))
</pre>

<p>
It is also sufficient to just insert the column group starters
after every vertical line you would like to have:
</p>

<pre class="example">
|  N | N^2 | N^3 | N^4 | sqrt(n) | sqrt[4](N) |
|----+-----+-----+-----+---------+------------|
| /  | &lt;   |     |     | &lt;       |            |
</pre>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">3.4 The Orgtbl minor mode                                          <a id="Orgtbl-mode" name="Orgtbl-mode"></a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
If you like the intuitive way the Org table editor works, you might
also want to use it in other modes like Text mode or Mail mode. The
minor mode Orgtbl mode makes this possible. You can always toggle
the mode with <b><i>M-x orgtbl-mode RET</i></b>. To turn it on by default,
for example in Message mode, use
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'message-mode-hook 'turn-on-orgtbl)
</pre>
</div>

<p>
Furthermore, with some special setup, it is possible to maintain
tables in arbitrary syntax with Orgtbl mode. For example, it is
possible to construct LaTeX tables with the underlying ease and
power of Orgtbl mode, including spreadsheet capabilities. For
details, see <a href="#Tables-in-arbitrary-syntax">Tables in arbitrary syntax</a>.
</p>
</div>
</div>

<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5">3.5 The spreadsheet                                                <a id="The-spreadsheet" name="The-spreadsheet"></a></h3>
<div class="outline-text-3" id="text-3-5">
<p>
The table editor makes use of the Emacs calc package to implement
spreadsheet-like capabilities. It can also evaluate Emacs Lisp
forms to derive fields from other fields. While fully featured,
Org's implementation is not identical to other spreadsheets. For
example, Org knows the concept of a <i>column formula</i> that will be
applied to all non-header fields in a column without having to copy
the formula to each relevant field. There is also a formula
debugger, and a formula editor with features for highlighting
fields in the table corresponding to the references at the point in
the formula, moving these references by arrow keys
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#References">References</a>:</td>
<td class="left">How to refer to another field or range</td>
</tr>

<tr>
<td class="left">• <a href="#Formula-syntax-for-Calc">Formula syntax for Calc</a>:</td>
<td class="left">Using Calc to compute stuff</td>
</tr>

<tr>
<td class="left">• <a href="#Formula-syntax-for-Lisp">Formula syntax for Lisp</a>:</td>
<td class="left">Writing formulas in Emacs Lisp</td>
</tr>

<tr>
<td class="left">• <a href="#Durations-and-time-values">Durations and time values</a>:</td>
<td class="left">How to compute durations and time values</td>
</tr>

<tr>
<td class="left">• <a href="#Field-and-range-formulas">Field and range formulas</a>:</td>
<td class="left">Formula for specific (ranges of) fields</td>
</tr>

<tr>
<td class="left">• <a href="#Column-formulas">Column formulas</a>:</td>
<td class="left">Formulas valid for an entire column</td>
</tr>

<tr>
<td class="left">• <a href="#Lookup-functions">Lookup functions</a>:</td>
<td class="left">Lookup functions for searching tables</td>
</tr>

<tr>
<td class="left">• <a href="#Editing-and-debugging-formulas">Editing and debugging formulas</a>:</td>
<td class="left">Fixing formulas</td>
</tr>

<tr>
<td class="left">• <a href="#Updating-the-table">Updating the table</a>:</td>
<td class="left">Recomputing all dependent fields</td>
</tr>

<tr>
<td class="left">• <a href="#Advanced-features">Advanced features</a>:</td>
<td class="left">Field and column names, parameters and automatic recalc</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-3-5-1" class="outline-4">
<h4 id="sec-3-5-1">3.5.1 References                                                  <a id="References" name="References"></a></h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
To compute fields in the table from other fields, formulas must
reference other fields or ranges. In Org, fields can be referenced
by name, by absolute coordinates, and by relative coordinates. To
find out what the coordinates of a field are, press <b><i>C-c ?</i></b> in
that field, or press <b><i>C-c }</i></b> to toggle the display of a grid.
</p>
</div>

<div id="outline-container-sec-3-5-1-1" class="outline-5">
<h5 id="sec-3-5-1-1">Field references</h5>
<div class="outline-text-5" id="text-3-5-1-1">
<p>
Formulas can reference the value of another field in two
ways. Like in any other spreadsheet, you may reference fields
with a letter/number combination like <code>B3</code>, meaning the 2nd field
in the 3rd row. However, Org prefers<sup><a id="fnr.27" name="fnr.27" class="footref" href="#fn.27">27</a></sup> to use another,
more general representation that looks like this:
</p>

<pre class="example">
@row$column
</pre>

<p>
Column specifications can be absolute like <code>$1</code>, <code>$2</code>,&#x2026; <code>$N</code>,
or relative to the current column (i.e., the column of the field
which is being computed) like <code>$+1</code> or <code>$-2</code>. <code>$&lt;</code> and <code>$&gt;</code> are
immutable references to the first and last column, respectively,
and you can use <code>$&gt;&gt;&gt;</code> to indicate the third column from the
right.
</p>

<p>
The row specification only counts data lines and ignores
horizontal separator lines (hlines). Like with columns, you can
use absolute row numbers <code>@1</code>, <code>@2</code>,&#x2026; <code>@N</code>, and row numbers
relative to the current row like <code>@+3</code> or <code>@-1</code>. <code>@&lt;</code> and <code>@&gt;</code>
are immutable references the first and last<sup><a id="fnr.28" name="fnr.28" class="footref" href="#fn.28">28</a></sup> row in the
table, respectively. You may also specify the row relative to one
of the hlines: <code>@I</code> refers to the first hline, <code>@II</code> to the
second, etc. <code>@-I</code> refers to the first such line above the
current line, <code>@+I</code> to the first such line below the current
line. You can also write <code>@III+2</code> which is the second data line
after the third hline in the table.
</p>

<p>
<code>@0</code> and <code>$0</code> refer to the current row and column, respectively,
i.e., to the row/column for the field being computed. Also, if
you omit either the column or the row part of the reference, the
current row/column is implied.
</p>

<p>
Org's references with <i>unsigned</i> numbers are fixed references in
the sense that if you use the same reference in the formula for
two different fields, the same field will be referenced each
time. Org's references with <i>signed</i> numbers are floating
references because the same reference operator can reference
different fields depending on the field being calculated by the
formula.
</p>

<p>
Here are a few examples:
</p>

<pre class="example">
@2$3      2nd row, 3rd column (same as C2)
$5        column 5 in the current row (same as E&amp;)
@2        current column, row 2
@-1$-3    the field one row up, three columns to the left
@-I$2     field just under hline above current row, column 2
@&gt;$5      field in the last row, in column 5
</pre>
</div>
</div>

<div id="outline-container-sec-3-5-1-2" class="outline-5">
<h5 id="sec-3-5-1-2">Range references</h5>
<div class="outline-text-5" id="text-3-5-1-2">
<p>
You may reference a rectangular range of fields by specifying two
field references connected by two dots ‘..'. If both fields are
in the current row, you may simply use ‘$2..$7', but if at least
one field is in a different row, you need to use the general
<code>@row$column</code> format at least for the first field (i.e the
reference must start with ‘@' in order to be interpreted
correctly). Examples:
</p>

<pre class="example">
$1..$3        first three fields in the current row
$P..$Q        range, using column names (see under Advanced)
$&lt;&lt;&lt;..$&gt;&gt;     start in third column, continue to the last but one
@2$1..@4$3    6 fields between these two fields (same as A2..C4)
@-1$-2..@-1   3 fields in the row above, starting from 2 columns on the left
@I..II        between first and second hline, short for @I..@II
</pre>

<p>
Range references return a vector of values that can be fed into
Calc vector functions. Empty fields in ranges are normally
suppressed, so that the vector contains only the non-empty
fields. For other options with the mode switches ‘E', ‘N' and
examples see <a href="#Formula-syntax-for-Calc">Formula syntax for Calc</a>.
</p>
</div>
</div>

<div id="outline-container-sec-3-5-1-3" class="outline-5">
<h5 id="sec-3-5-1-3">Field coordinates in formulas</h5>
<div class="outline-text-5" id="text-3-5-1-3">
<p>
One of the very first actions during evaluation of Calc formulas
and Lisp formulas is to substitute <code>@#</code> and <code>$#</code> in the formula
with the row or column number of the field where the current
result will go to. The traditional Lisp formula equivalents are
<code>org-table-current-dline</code> and
<code>org-table-current-column</code>. Examples:
</p>

<dl class="org-dl">
<dt> <code>if(@# % 2, $#, string(""))</code> </dt><dd>        Insert column number on odd rows, set field to empty on even
rows.
</dd>

<dt> <code>$2 = '(identity remote(FOO, @@#$1))</code> </dt><dd>        Copy text or values of each row of column 1 of the table named
<code>FOO</code> into column 2 of the current table.
</dd>

<dt> <code>@3 = 2 * remote(FOO, @1$$#)</code> </dt><dd>        Insert the doubled value of each column of row 1 of the table
named <code>FOO</code> into row 3 of the current table.
</dd>
</dl>

<p>
For the second/third example, the table named <code>FOO</code> must have at
least as many rows/columns as the current table. Note that this
is inefficient<sup><a id="fnr.29" name="fnr.29" class="footref" href="#fn.29">29</a></sup> for large number of rows/columns.
</p>
</div>
</div>

<div id="outline-container-sec-3-5-1-4" class="outline-5">
<h5 id="sec-3-5-1-4">Named references</h5>
<div class="outline-text-5" id="text-3-5-1-4">
<p>
‘$name' is interpreted as the name of a column, parameter or
constant.  Constants are defined globally through the option
<code>org-table-formula-constants</code>, and locally (for the file) through
a line like
</p>

<pre class="example">
#+CONSTANTS: c=299792458. pi=3.14 eps=2.4e-6
</pre>

<p>
Also properties (see <a href="#Properties-and-columns">Properties and columns</a>) can be used as
constants in table formulas: for a property ‘:Xyz:' use the name
<code>$PROP_Xyz</code>, and the property will be searched in the current
outline entry and in the hierarchy above it. If you have the
constants.el package, it will also be used to resolve constants,
including natural constants like ‘$h' for Planck's constant, and
units like ‘$km' for kilometers<sup><a id="fnr.30" name="fnr.30" class="footref" href="#fn.30">30</a></sup>. Column names and
parameters can be specified in special table lines. These are
described below, see <a href="#Advanced-features">Advanced features</a>. All names must start with
a letter, and further consist of letters and numbers.
</p>
</div>
</div>

<div id="outline-container-sec-3-5-1-5" class="outline-5">
<h5 id="sec-3-5-1-5">Remote references</h5>
<div class="outline-text-5" id="text-3-5-1-5">
<p>
You may also reference constants, fields and ranges from a
different table, either in the current file or even in a
different file. The syntax is
</p>

<pre class="example">
remote(NAME-OR-ID,REF)
</pre>

<p>
where NAME can be the name of a table in the current file as set
by a <code>#+NAME: Name</code> line before the table. It can also be the ID
of an entry, even in a different file, and the reference then
refers to the first table in that entry. REF is an absolute field
or range reference as described above for example <code>@3$3</code> or
<code>$somename</code>, valid in the referenced table.
</p>

<p>
Indirection of NAME-OR-ID: When NAME-OR-ID has the format
<code>@ROW$COLUMN</code> it will be substituted with the name or ID found in
this field of the current table. For example <code>remote($1, @&gt;$2)</code>
<code>&gt; =remote(year_2013, @&gt;$1)</code>. The format <code>B3</code> is not supported
because it can not be distinguished from a plain table name or
ID.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3-5-2" class="outline-4">
<h4 id="sec-3-5-2">3.5.2 Formula syntax for Calc                                     <a id="Formula-syntax-for-Calc" name="Formula-syntax-for-Calc"></a></h4>
<div class="outline-text-4" id="text-3-5-2">
<p>
A formula can be any algebraic expression understood by the Emacs
Calc package. Note that calc has the non-standard convention that
‘/' has lower precedence than ‘*', so that ‘a/b*c' is interpreted
as ‘a/(b*c)'.  Before evaluation by <code>calc-eval</code> (see <a href="http://www.gnu.org/software/emacs/manual/html_mono/calc.html#Calling-Calc-from-Your-Programs">Calling Calc
from Your Lisp Programs</a> in GNU Emacs Calc Manual), variable
substitution takes place according to the rules described
above. The range vectors can be directly fed into the Calc vector
functions like ‘vmean' and ‘vsum'.
</p>

<p>
A formula can contain an optional mode string after a
semicolon. This string consists of flags to influence Calc and
other modes during execution. By default, Org uses the standard
Calc modes (precision 12, angular units degrees, fraction and
symbolic modes off). The display format, however, has been changed
to <code>(float 8)</code> to keep tables compact.  The default settings can
be configured using the option <code>org-calc-default-modes</code>.
</p>

<p>
List of modes:
</p>

<dl class="org-dl">
<dt> <code>p20</code> </dt><dd>       Set the internal Calc calculation precision to 20 digits.
</dd>

<dt> <code>n3</code>, <code>s3</code>, <code>e2</code>, <code>f4</code> </dt><dd>       Normal, scientific, engineering or fixed format of the result
of Calc passed back to Org. Calc formatting is unlimited in
precision as long as the Calc calculation precision is greater.
</dd>

<dt> <code>D</code>, <code>R</code> </dt><dd>       Degree and radian angle modes of Calc.
</dd>

<dt> <code>F</code>, <code>S</code> </dt><dd>       Fraction and symbolic modes of Calc.
</dd>

<dt> <code>T</code>, <code>t</code> </dt><dd>       Duration computations in Calc or Lisp, see <a href="#Durations-and-time-values">Durations and time
values</a>.
</dd>

<dt> <code>E</code> </dt><dd>       If and how to consider empty fields. Without ‘E' empty fields
in range references are suppressed so that the Calc vector or
Lisp list contains only the non-empty fields. With ‘E' the
empty fields are kept. For empty fields in ranges or empty
field references the value ‘nan' (not a number) is used in Calc
formulas and the empty string is used for Lisp formulas. Add
‘N' to use 0 instead for both formula types. For the value of a
field the mode ‘N' has higher precedence than ‘E'.
</dd>

<dt> <code>N</code> </dt><dd>       Interpret all fields as numbers, use 0 for non-numbers. See the
next section to see how this is essential for computations with
Lisp formulas. In Calc formulas it is used only occasionally
because there number strings are already interpreted as numbers
without ‘N'.
</dd>

<dt> <code>L</code> </dt><dd>       Literal, for Lisp formulas only. See the next section.
</dd>
</dl>

<p>
Unless you use large integer numbers or high-precision-calculation
and -display for floating point numbers you may alternatively
provide a ‘printf' format specifier to reformat the Calc result
after it has been passed back to Org instead of letting Calc
already do the formatting<sup><a id="fnr.31" name="fnr.31" class="footref" href="#fn.31">31</a></sup>. A few examples:
</p>

<pre class="example">
$1+$2                Sum of first and second field
$1+$2;%.2f           Same, format result to two decimals
exp($2)+exp($1)      Math functions can be used
$0;%.1f              Reformat current cell to 1 decimal
($3-32)*5/9          Degrees F -&gt; C conversion
$c/$1/$cm            Hz -&gt; cm conversion, using constants.el
tan($1);Dp3s1        Compute in degrees, precision 3, display SCI 1
sin($1);Dp3%.1e      Same, but use printf specifier for display
taylor($3,x=7,2)     Taylor series of $3, at x=7, second degree
</pre>

<p>
Calc also contains a complete set of logical operations, (see
<a href="http://www.gnu.org/software/emacs/manual/html_mono/calc.html#Logical-Operations">Logical Operations</a> in GNU Emacs Calc Manual). For example
</p>

<dl class="org-dl">
<dt> if($1 &lt; 20, teen, string("")) </dt><dd>       "teen" if age $1 is less than 20, else the Org table result
field is set to empty with the empty string.
</dd>

<dt> if("$1" <code>= "nan" || "$2" =</code> "nan", string(""), $1 + $2); E f-1 </dt><dd>       Sum of the first two columns. When at least one of the input
fields is empty the Org table result field is set to empty. ‘E'
is required to not convert empty fields to 0. ‘f-1' is an
optional Calc format string similar to ‘%.1f' but leaves empty
results empty.
</dd>

<dt> if(typeof(vmean($1..$7)) == 12, string(""), vmean($1..$7); E </dt><dd>       Mean value of a range unless there is any empty field. Every
field in the range that is empty is replaced by ‘nan' which
lets ‘vmean' result in ‘nan'. Then ‘typeof == 12' detects the
‘nan' from ‘vmean' and the Org table result field is set to
empty. Use this when the sample set is expected to never have
missing values.
</dd>

<dt> if("$1..$7" == "[]", string(""), vmean($1..$7)) </dt><dd>       Mean value of a range with empty fields skipped. Every field in
the range that is empty is skipped. When all fields in the
range are empty the mean value is not defined and the Org table
result field is set to empty.  Use this when the sample set can
have a variable size.
</dd>

<dt> vmean($1..$7); EN= </dt><dd>       To complete the example before: Mean value of a range with
empty fields counting as samples with value 0. Use this only
when incomplete sample sets should be padded with 0 to the full
size.
</dd>
</dl>

<p>
You can add your own Calc functions defined in Emacs Lisp with
<code>defmath</code> and use them in formula syntax for Calc.
</p>
</div>
</div>

<div id="outline-container-sec-3-5-3" class="outline-4">
<h4 id="sec-3-5-3">3.5.3 Emacs Lisp forms as formulas                                <a id="Formula-syntax-for-Lisp" name="Formula-syntax-for-Lisp"></a></h4>
<div class="outline-text-4" id="text-3-5-3">
<p>
It is also possible to write a formula in Emacs Lisp. This can be
useful for string manipulation and control structures, if Calc's
functionality is not enough.
</p>

<p>
If a formula starts with an apostrophe followed by an opening
parenthesis, then it is evaluated as a Lisp form. The evaluation
should return either a string or a number. Just as with calc
formulas, you can specify modes and a printf format after a
semicolon.
</p>

<p>
With Emacs Lisp forms, you need to be conscious about the way
field references are interpolated into the form. By default, a
reference will be interpolated as a Lisp string (in double-quotes)
containing the field. If you provide the ‘N' mode switch, all
referenced elements will be numbers (non-number fields will be
zero) and interpolated as Lisp numbers, without quotes. If you
provide the ‘L' flag, all fields will be interpolated literally,
without quotes. I.e., if you want a reference to be interpreted as
a string by the Lisp form, enclose the reference operator itself
in double-quotes, like "$3". Ranges are inserted as
space-separated fields, so you can embed them in list or vector
syntax.
</p>

<p>
Here are a few examples &#x2013; note how the ‘N' mode is used when we
do computations in Lisp:
</p>

<dl class="org-dl">
<dt> ='(concat (substring $1 1 2) (substring $1 0 1) (substring $1 2))= </dt><dd>       Swap the first two characters of the content of column 1.
</dd>

<dt> ='(+ $1 $2);N= </dt><dd>       Add columns 1 and 2, equivalent to Calc's <code>$1+$2</code>.
</dd>

<dt> ='(apply '+ '($1..$4));N= </dt><dd>       Compute the sum of columns 1 to 4, like Calc's <code>vsum($1..$4)</code>.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-3-5-4" class="outline-4">
<h4 id="sec-3-5-4">3.5.4 Durations and time values                                   <a id="Durations-and-time-values" name="Durations-and-time-values"></a></h4>
<div class="outline-text-4" id="text-3-5-4">
<p>
If you want to compute time values use the <code>T</code> flag, either in
Calc formulas or Elisp formulas:
</p>

<pre class="example">
|  Task 1 |   Task 2 |    Total |
|---------+----------+----------|
|    2:12 |     1:47 | 03:59:00 |
| 3:02:20 | -2:07:00 |     0.92 |
#+TBLFM: @2$3=$1+$2;T::@3$3=$1+$2;t
</pre>

<p>
Input duration values must be of the form <code>HH:MM[:SS]</code>, where
seconds are optional. With the <code>T</code> flag, computed durations will
be displayed as <code>HH:MM:SS</code> (see the first formula above). With the
<code>t</code> flag, computed durations will be displayed according to the
value of the option <code>org-table-duration-custom-format</code>, which
defaults to ='hours= and will display the result as a fraction of
hours (see the second formula in the example above).
</p>

<p>
Negative duration values can be manipulated as well, and integers
will be considered as seconds in addition and subtraction.
</p>
</div>
</div>

<div id="outline-container-sec-3-5-5" class="outline-4">
<h4 id="sec-3-5-5">3.5.5 Field and range formulas                                    <a id="Field-and-range-formulas" name="Field-and-range-formulas"></a></h4>
<div class="outline-text-4" id="text-3-5-5">
<p>
To assign a formula to a particular field, type it directly into
the field, preceded by ‘:=', for example ‘:=vsum(@II..III)'. When
you press <code>TAB</code> or <code>RET</code> or <b><i>C-c C-c</i></b> with the cursor still in the
field, the formula will be stored as the formula for this field,
evaluated, and the current field will be replaced with the result.
</p>

<p>
Formulas are stored in a special line starting with ‘#+TBLFM:'
directly below the table. If you type the equation in the 4th
field of the 3rd data line in the table, the formula will look
like ‘@3$4=$1+$2'. When inserting/deleting/swapping columns and
rows with the appropriate commands, <i>absolute references</i> (but not
relative ones) in stored formulas are modified in order to still
reference the same field. To avoid this, in particular in range
references, anchor ranges at the table borders (using <code>@&lt;</code>, <code>@&gt;</code>,
<code>$&lt;</code>, <code>$&gt;</code>), or at hlines using the <code>@I</code> notation. Automatic
adaptation of field references does of course not happen if you
edit the table structure with normal editing commands &#x2013; then you
must fix the equations yourself.
</p>

<p>
Instead of typing an equation into the field, you may also use the
following command
</p>

<ul class="org-ul">
<li><b>/C-u C-c = /</b> (<code>org-table-eval-formula</code>)

<p>
Install a new formula for the current field. The command
prompts for a formula with default taken from the ‘#+TBLFM:'
line, applies it to the current field, and stores it.
</p>
</li>
</ul>

<p>
The left-hand side of a formula can also be a special expression
in order to assign the formula to a number of different
fields. There is no keyboard shortcut to enter such range
formulas. To add them, use the formula editor (see <a href="#Editing-and-debugging-formulas">Editing and
debugging formulas</a>) or edit the <code>#+TBLFM:</code> line directly.
</p>

<dl class="org-dl">
<dt> <code>$2=</code> </dt><dd>       Column formula, valid for the entire column. This is so common
that Org treats these formulas in a special way, see <a href="#Column-formulas">Column
formulas</a>.
</dd>

<dt> <code>@3=</code> </dt><dd>       Row formula, applies to all fields in the specified row.  <code>@&gt;=</code>
       means the last row.
</dd>

<dt> <code>@1$2..@4$3=</code> </dt><dd>       Range formula, applies to all fields in the given rectangular
range. This can also be used to assign a formula to some but
not all fields in a row.
</dd>

<dt> <code>$name=</code> </dt><dd>       Named field, see <a href="#Advanced-features">Advanced features</a>.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-3-5-6" class="outline-4">
<h4 id="sec-3-5-6">3.5.6 Column formulas                                             <a id="Column-formulas" name="Column-formulas"></a></h4>
<div class="outline-text-4" id="text-3-5-6">
<p>
When you assign a formula to a simple column reference like <code>$3=</code>,
the same formula will be used in all fields of that column, with
the following very convenient exceptions: (i) If the table
contains horizontal separator hlines with rows above and below,
everything before the first such hline is considered part of the
table <i>header</i> and will not be modified by column
formulas. Therefore a header is mandatory when you use column
formulas and want to add hlines to group rows, like for example to
separate a total row at the bottom from the summand rows
above. (ii) Fields that already get a value from a field/range
formula will be left alone by column formulas. These conditions
make column formulas very easy to use.
</p>

<p>
To assign a formula to a column, type it directly into any field
in the column, preceded by an equal sign, like ‘=$1+$2'. When you
press <code>TAB</code> or <code>RET</code> or <b><i>C-c C-c</i></b> with the cursor still in the
field, the formula will be stored as the formula for the current
column, evaluated and the current field replaced with the
result. If the field contains only ‘=', the previously stored
formula for this column is used. For each column, Org will only
remember the most recently used formula. In the ‘#+TBLFM:' line,
column formulas will look like ‘$4=$1+$2'. The left-hand side of a
column formula cannot be the name of column, it must be the
numeric column reference or <code>$&gt;</code>.
</p>

<p>
Instead of typing an equation into the field, you may also use the
following command:
</p>

<ul class="org-ul">
<li><b><i>C-c =</i></b> (<code>org-table-eval-formula</code>)

<p>
Install a new formula for the current column and replace current
field with the result of the formula. The command prompts for a
formula, with default taken from the ‘#+TBLFM' line, applies it
to the current field and stores it. With a numeric prefix
argument(e.g., <b><i>C-5 C-c =</i></b>) the command will apply it to that
many consecutive fields in the current column.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-5-7" class="outline-4">
<h4 id="sec-3-5-7">3.5.7 Lookup functions                                            <a id="Lookup-functions" name="Lookup-functions"></a></h4>
<div class="outline-text-4" id="text-3-5-7">
<p>
Org has three predefined Emacs Lisp functions for lookups in
tables.
</p>

<dl class="org-dl">
<dt> (org-lookup-first VAL S-LIST R-LIST &amp;optional PREDICATE) </dt><dd>       Searches for the first element <code>S</code> in list <code>S-LIST</code> for which

<div class="org-src-container">

<pre class="src src-lisp">(PREDICATE VAL S)
</pre>
</div>

<p>
is <code>t</code>; returns the value from the corresponding position in
list <code>R-LIST</code>. The default <code>PREDICATE</code> is <code>equal</code>. Note that
the parameters <code>VAL</code> and <code>S</code> are passed to <code>PREDICATE</code> in the
same order as the corresponding parameters are in the call to
<code>org-lookup-first</code>, where <code>VAL</code> precedes <code>S-LIST</code>. If <code>R-LIST</code>
is <code>nil</code>, the matching element <code>S</code> of <code>S-LIST</code> is returned.
</p>
</dd>

<dt> (org-lookup-last VAL S-LIST R-LIST &amp;optional PREDICATE)= </dt><dd>       Similar to <code>org-lookup-first</code> above, but searches for the
<i>last</i> element for which <code>PREDICATE</code> is <code>t</code>.
</dd>

<dt> (org-lookup-all VAL S-LIST R-LIST &amp;optional PREDICATE)= </dt><dd>       Similar to <code>org-lookup-first</code>, but searches for <i>all</i> elements
for which <code>PREDICATE</code> is <code>t</code>, and returns <i>all</i> corresponding
values. This function can not be used by itself in a formula,
because it returns a list of values. However, powerful lookups
can be built when this function is combined with other Emacs
Lisp functions.
</dd>
</dl>

<p>
If the ranges used in these functions contain empty fields, the
<code>E</code> mode for the formula should usually be specified: otherwise
empty fields will not be included in <code>S-LIST</code> and/or <code>R-LIST</code>
which can, for example, result in an incorrect mapping from an
element of <code>S-LIST</code> to the corresponding element of <code>R-LIST</code>.
</p>

<p>
These three functions can be used to implement associative arrays,
count matching cells, rank results, group data etc. For practical
examples see <a href="http://orgmode.org/worg/org-tutorials/org-lookups.html">this tutorial on Worg</a>.
</p>
</div>
</div>

<div id="outline-container-sec-3-5-8" class="outline-4">
<h4 id="sec-3-5-8">3.5.8 Editing and debugging formulas                              <a id="Editing-and-debugging-formulas" name="Editing-and-debugging-formulas"></a></h4>
<div class="outline-text-4" id="text-3-5-8">
<p>
You can edit individual formulas in the minibuffer or directly in
the field. Org can also prepare a special buffer with all active
formulas of a table. When offering a formula for editing, Org
converts references to the standard format (like <code>B3</code> or <code>D&amp;</code>) if
possible. If you prefer to only work with the internal format
(like <code>@3$2</code> or <code>$4</code>), configure the option
<code>org-table-use-standard-references</code>.
</p>

<ul class="org-ul">
<li><b><i>C-c =</i></b> or <b>/C-u C-c = /</b> (<code>org-table-eval-formula</code>)

<p>
Edit the formula associated with the current column/field in
the minibuffer. See <a href="#Column-formulas">Column formulas</a>, and <a href="#Field-and-range-formulas">Field and range
formulas</a>.
</p>
</li>

<li><b>/C-u C-u C-c = /</b> (<code>org-table-eval-formula</code>)

<p>
Re-insert the active formula (either a field formula, or a
column formula) into the current field, so that you can edit it
directly in the field. The advantage over editing in the
minibuffer is that you can use the command <b><i>C-c ?</i></b>.
</p>
</li>

<li><b><i>C-c ?</i></b> (<code>org-table-field-info</code>)

<p>
While editing a formula in a table field, highlight the
field(s) referenced by the reference at the cursor position in
the formula.
</p>
</li>

<li><b><i>C-c }</i></b>

<p>
Toggle the display of row and column numbers for a table, using
overlays (<code>org-table-toggle-coordinate-overlays</code>). These are
updated each time the table is aligned; you can force it with
<b><i>C-c C-c</i></b>.
</p>
</li>

<li><b><i>C-c {</i></b>

<p>
Toggle the formula debugger on and off
(<code>org-table-toggle-formula-debugger</code>). See below.
</p>
</li>

<li>C-c ' (<code>org-table-edit-formulas</code>)

<p>
Edit all formulas for the current table in a special buffer,
where the formulas will be displayed one per line. If the
current field has an active formula, the cursor in the formula
editor will mark it. While inside the special buffer, Org will
automatically highlight any field or range reference at the
cursor position. You may edit, remove and add formulas, and use
the following commands:
</p>

<ul class="org-ul">
<li><b><i>C-c C-c</i></b> or <b><i>C-x C-s</i></b> (<code>org-table-fedit-finish</code>)

<p>
Exit the formula editor and store the modified
formulas. With C-u prefix, also apply the new formulas to
the entire table.
</p>
</li>

<li><b><i>C-c C-q</i></b> (<code>org-table-fedit-abort</code>)

<p>
Exit the formula editor without installing changes.
</p>
</li>

<li><b><i>C-c C-r</i></b> (<code>org-table-fedit-toggle-ref-type</code>)

<p>
Toggle all references in the formula editor between standard
(like <code>B3</code>) and internal (like <code>@3$2</code>).
</p>
</li>

<li><b><i>TAB</i></b> (<code>org-table-fedit-lisp-indent</code>)

<p>
Pretty-print or indent Lisp formula at point. When in a line
containing a Lisp formula, format the formula according to
Emacs Lisp rules.  Another <code>TAB</code> collapses the formula back
again. In the open formula, <code>TAB</code> re-indents just like in
Emacs Lisp mode.
</p>
</li>

<li><b><i>M-TAB</i></b> (<code>lisp-complete-symbol</code>)

<p>
Complete Lisp symbols, just like in Emacs Lisp mode.
</p>
</li>

<li><b><i>S-up/down/left/right</i></b>

<p>
Shift the reference at point. For example, if the reference
is <code>B3</code> and you press S-right, it will become <code>C3</code>. This
also works for relative references and for hline references.
</p>
</li>

<li><b><i>M-S-up</i></b> (<code>org-table-fedit-line-up</code>)
</li>
<li><b><i>M-S-down</i></b> (<code>org-table-fedit-line-down</code>)

<p>
Move the test line for column formulas in the Org buffer up
and down.
</p>
</li>

<li><b><i>M-up</i></b> (<code>org-table-fedit-scroll-down</code>)
</li>
<li><b><i>M-down</i></b> (<code>org-table-fedit-scroll-up</code>)

<p>
Scroll the window displaying the table.
</p>
</li>

<li><b><i>C-c }</i></b>

<p>
Turn the coordinate grid in the table on and off.
</p>
</li>
</ul>
</li>
</ul>

<p>
Making a table field blank does not remove the formula associated
with the field, because that is stored in a different line (the
‘#+TBLFM' line) &#x2013; during the next recalculation the field will be
filled again. To remove a formula from a field, you have to give
an empty reply when prompted for the formula, or to edit the
‘#+TBLFM' line.
</p>

<p>
You may edit the ‘#+TBLFM' directly and re-apply the changed
equations with <b><i>C-c C-c</i></b> in that line or with the normal
recalculation commands in the table.
</p>
</div>

<div id="outline-container-sec-3-5-8-1" class="outline-5">
<h5 id="sec-3-5-8-1">Using multiple #+TBLFM lines</h5>
<div class="outline-text-5" id="text-3-5-8-1">
<p>
You may apply the formula temporarily. This is useful when you
switch the formula. Place multiple ‘#+TBLFM' lines right after
the table, and then press <b><i>C-c C-c</i></b> on the formula to
apply. Here is an example:
</p>

<pre class="example">
| x | y |
|---+---|
| 1 |   |
| 2 |   |
#+TBLFM: $2=$1*1
#+TBLFM: $2=$1*2
</pre>

<p>
Pressing <b><i>C-c C-c</i></b> in the line of ‘#+TBLFM: $2=$1*2' yields:
</p>

<pre class="example">
| x | y |
|---+---|
| 1 | 2 |
| 2 | 4 |
#+TBLFM: $2=$1*1
#+TBLFM: $2=$1*2
</pre>

<p>
Note: If you recalculate this table (with <b><i>C-u C-c *</i></b>, for
example), you will get the following result of applying only the
first ‘#+TBLFM' line.
</p>

<pre class="example">
| x | y |
|---+---|
| 1 | 1 |
| 2 | 2 |
#+TBLFM: $2=$1*1
#+TBLFM: $2=$1*2
</pre>
</div>
</div>

<div id="outline-container-sec-3-5-8-2" class="outline-5">
<h5 id="sec-3-5-8-2">Debugging formulas</h5>
<div class="outline-text-5" id="text-3-5-8-2">
<p>
When the evaluation of a formula leads to an error, the field
content becomes the string ‘#ERROR'. If you would like see what
is going on during variable substitution and calculation in order
to find a bug, turn on formula debugging in the <code>Tbl</code> menu and
repeat the calculation, for example by pressing <b><i>C-u C-u C-c =
RET</i></b> in a field. Detailed information will be displayed.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3-5-9" class="outline-4">
<h4 id="sec-3-5-9">3.5.9 Updating the table                                          <a id="Updating-the-table" name="Updating-the-table"></a></h4>
<div class="outline-text-4" id="text-3-5-9">
<p>
Recalculation of a table is normally not automatic, but needs to
be triggered by a command. See <a href="#Advanced-features">Advanced features</a>, for a way to
make recalculation at least semi-automatic.
</p>

<p>
In order to recalculate a line of a table or the entire table, use
the following commands:
</p>

<ul class="org-ul">
<li><b><i>C-c *</i></b> (<code>org-table-recalculate</code>)

<p>
Recalculate the current row by first applying the stored column
formulas from left to right, and all field/range formulas in
the current row.
</p>
</li>

<li><b><i>C-u C-c *</i></b>
</li>
<li><b><i>C-u C-c C-c</i></b>

<p>
Recompute the entire table, line by line. Any lines before the
first hline are left alone, assuming that these are part of the
table header.
</p>
</li>

<li><b><i>C-u C-u C-c *</i></b> or <b><i>C-u C-u C-c C-c</i></b> (<code>org-table-iterate</code>)

<p>
Iterate the table by recomputing it until no further changes
occur. This may be necessary if some computed fields use the
value of other fields that are computed <i>later</i> in the
calculation sequence.
</p>
</li>

<li><b><i>M-x org-table-recalculate-buffer-tables RET</i></b>

<p>
Recompute all tables in the current buffer.
</p>
</li>

<li><b><i>M-x org-table-iterate-buffer-tables RET</i></b>

<p>
Iterate all tables in the current buffer, in order to converge
table-to-table dependencies.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-5-10" class="outline-4">
<h4 id="sec-3-5-10">3.5.10 Advanced features                                          <a id="Advanced-features" name="Advanced-features"></a></h4>
<div class="outline-text-4" id="text-3-5-10">
<p>
If you want the recalculation of fields to happen automatically,
or if you want to be able to assign <i>names</i> <sup><a id="fnr.32" name="fnr.32" class="footref" href="#fn.32">32</a></sup> to fields
and columns, you need to reserve the first column of the table for
special marking characters.
</p>

<ul class="org-ul">
<li><b><i>C-#</i></b> (<code>org-table-rotate-recalc-marks</code>)

<p>
Rotate the calculation mark in first column through the states
‘ ', ‘#', ‘*', ‘!', ‘$'. When there is an active region, change
all marks in the region.
</p>
</li>
</ul>

<p>
Here is an example of a table that collects exam results of
students and makes use of these features:
</p>

<pre class="example">
|---+---------+--------+--------+--------+-------+------|
|   | Student | Prob 1 | Prob 2 | Prob 3 | Total | Note |
|---+---------+--------+--------+--------+-------+------|
| ! |         |     P1 |     P2 |     P3 |   Tot |      |
| # | Maximum |     10 |     15 |     25 |    50 | 10.0 |
| ^ |         |     m1 |     m2 |     m3 |    mt |      |
|---+---------+--------+--------+--------+-------+------|
| # | Peter   |     10 |      8 |     23 |    41 |  8.2 |
| # | Sam     |      2 |      4 |      3 |     9 |  1.8 |
|---+---------+--------+--------+--------+-------+------|
|   | Average |        |        |        |  25.0 |      |
| ^ |         |        |        |        |    at |      |
| $ | max=50  |        |        |        |       |      |
|---+---------+--------+--------+--------+-------+------|
#+TBLFM: $6=vsum($P1..$P3)::$7=10*$Tot/$max;%.1f::$at=vmean(@-II..@-I);%.1f
</pre>

<p>
<b>Important</b>: please note that for these special tables,
recalculating the table with <b><i>C-u C-c *</i></b> will only affect rows
that are marked ‘#' or ‘*', and fields that have a formula
assigned to the field itself. The column formulas are not applied
in rows with empty first field.
</p>

<p>
The marking characters have the following meaning:
</p>

<dl class="org-dl">
<dt> ‘!' </dt><dd>       The fields in this line define names for the columns, so that
you may refer to a column as ‘$Tot' instead of ‘$6'.
</dd>

<dt> ‘<sup>'</sup> </dt><dd>       This row defines names for the fields <i>above</i> the row. With
such a definition, any formula in the table may use ‘$m1' to
refer to the value ‘10'. Also, if you assign a formula to a
names field, it will be stored as ‘$name=&#x2026;'.
</dd>

<dt> ‘<sub>'</sub> </dt><dd>       Similar to ‘q<sup>'</sup>, but defines names for the fields in the row
<i>below</i>.
</dd>

<dt> ‘$' </dt><dd>       Fields in this row can define <i>parameters</i> for formulas. For
example, if a field in a ‘$' row contains ‘max=50', then
formulas in this table can refer to the value 50 using
‘$max'. Parameters work exactly like constants, only that they
can be defined on a per-table basis.
</dd>

<dt> ‘#' </dt><dd>       Fields in this row are automatically recalculated when pressing
<code>TAB</code> or <code>RET</code> or <b><i>S-TAB</i></b> in this row. Also, this row is
selected for a global recalculation with <b><i>C-u C-c
*</i></b>. Unmarked lines will be left alone by this command.
</dd>

<dt> ‘*' </dt><dd>       Selects this line for global recalculation with <b><i>C-u C-c *</i></b>,
but not for automatic recalculation. Use this when automatic
recalculation slows down editing too much.
</dd>

<dt> ' ' </dt><dd>       Unmarked lines are exempt from recalculation with <b><i>C-u C-c
*</i></b>.  All lines that should be recalculated should be marked
with ‘#' or ‘*'.
</dd>

<dt> ‘/' </dt><dd>       Do not export this line. Useful for lines that contain the
narrowing ‘&lt;N&gt;' markers or column group markers.
</dd>
</dl>

<p>
Finally, just to whet your appetite for what can be done with the
fantastic <code>calc.el</code> package, here is a table that computes the
Taylor series of degree <code>n</code> at location <code>x</code> for a couple of
functions.
</p>

<pre class="example">
|---+-------------+---+-----+--------------------------------------|
|   | Func        | n | x   | Result                               |
|---+-------------+---+-----+--------------------------------------|
| # | exp(x)      | 1 | x   | 1 + x                                |
| # | exp(x)      | 2 | x   | 1 + x + x^2 / 2                      |
| # | exp(x)      | 3 | x   | 1 + x + x^2 / 2 + x^3 / 6            |
| # | x^2+sqrt(x) | 2 | x=0 | x*(0.5 / 0) + x^2 (2 - 0.25 / 0) / 2 |
| # | x^2+sqrt(x) | 2 | x=1 | 2 + 2.5 x - 2.5 + 0.875 (x - 1)^2    |
| * | tan(x)      | 3 | x   | 0.0175 x + 1.77e-6 x^3               |
|---+-------------+---+-----+--------------------------------------|
#+TBLFM: $5=taylor($2,$4,$3);n3
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6">3.6 Org-Plot                                                       <a id="Org-plot" name="Org-plot"></a></h3>
<div class="outline-text-3" id="text-3-6">
<p>
Org-Plot can produce graphs of information stored in org tables,
either graphically or in ASCII-art.
</p>
</div>

<div id="outline-container-sec-3-6-1" class="outline-4">
<h4 id="sec-3-6-1">Graphical plots using Gnuplot</h4>
<div class="outline-text-4" id="text-3-6-1">
<p>
Org-Plot produces 2D and 3D graphs using Gnuplot
<a href="http://www.gnuplot.info/">http://www.gnuplot.info/</a> and gnuplot-mode
<a href="http://xafs.org/BruceRavel/GnuplotMode">http://xafs.org/BruceRavel/GnuplotMode</a>. To see this in action,
ensure that you have both Gnuplot and Gnuplot mode installed on
your system, then call <b><i>C-c " g</i></b> or <b><i>M-x org-plot/gnuplot RET</i></b>
on the following table.
</p>

<pre class="example">
#+PLOT: title:"Citas" ind:1 deps:(3) type:2d with:histograms set:"yrange [0:]"
| Sede      | Max cites | H-index |
|-----------+-----------+---------|
| Chile     |    257.72 |   21.39 |
| Leeds     |    165.77 |   19.68 |
| Sao Paolo |     71.00 |   11.50 |
| Stockholm |    134.19 |   14.33 |
| Morelia   |    257.56 |   17.67 |
</pre>

<p>
Notice that Org Plot is smart enough to apply the table's headers
as labels. Further control over the labels, type, content, and
appearance of plots can be exercised through the <code>#+PLOT:</code> lines
preceding a table.  See below for a complete list of Org-plot
options. The <code>#+PLOT:</code> lines are optional. For more information
and examples see the Org-plot tutorial at
<a href="http://orgmode.org/worg/org-tutorials/org-plot.html">http://orgmode.org/worg/org-tutorials/org-plot.html</a>.
</p>
</div>
</div>

<div id="outline-container-sec-3-6-2" class="outline-4">
<h4 id="sec-3-6-2">Plot Options</h4>
<div class="outline-text-4" id="text-3-6-2">
<dl class="org-dl">
<dt> <code>set</code> </dt><dd>       Specify any <code>gnuplot</code> option to be set when graphing.
</dd>

<dt> <code>title</code> </dt><dd>       Specify the title of the plot.
</dd>

<dt> <code>ind</code> </dt><dd>       Specify which column of the table to use as the <code>x</code> axis.
</dd>

<dt> <code>deps</code> </dt><dd>       Specify the columns to graph as a Lisp style list, surrounded
by parentheses and separated by spaces for example <code>dep:(3 4)</code>
to graph the third and fourth columns (defaults to graphing all
other columns aside from the <code>ind</code> column).
</dd>

<dt> <code>type</code> </dt><dd>       Specify whether the plot will be <code>2d</code>, <code>3d</code>, or <code>grid</code>.
</dd>

<dt> <code>with</code> </dt><dd>       Specify a <code>with</code> option to be inserted for every col being
plotted (e.g., <code>lines</code>, <code>points</code>, <code>boxes</code>, <code>impulses</code>, etc&#x2026;).
Defaults to <code>lines</code>.
</dd>

<dt> <code>file</code> </dt><dd>       If you want to plot to a file, specify
"path/to/desired/output-file".
</dd>

<dt> <code>labels</code> </dt><dd>       List of labels to be used for the <code>deps</code> (defaults to the
column headers if they exist).
</dd>

<dt> <code>line</code> </dt><dd>       Specify an entire line to be inserted in the Gnuplot script.
</dd>

<dt> <code>map</code> </dt><dd>       When plotting <code>3d</code> or <code>grid</code> types, set this to <code>t</code> to graph a
flat mapping rather than a <code>3d</code> slope.
</dd>

<dt> <code>timefmt</code> </dt><dd>       Specify format of Org mode timestamps as they will be parsed by
Gnuplot. Defaults to ‘%Y-%m-%d-%H:%M:%S'.
</dd>

<dt> <code>script</code> </dt><dd>       If you want total control, you can specify a script file (place
the file name between double-quotes) which will be used to
plot. Before plotting, every instance of <code>$datafile</code> in the
specified script will be replaced with the path to the
generated data file.  Note: even if you set this option, you
may still want to specify the plot type, as that can impact the
content of the data file.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-3-6-3" class="outline-4">
<h4 id="sec-3-6-3">ASCII bar plots</h4>
<div class="outline-text-4" id="text-3-6-3">
<p>
While the cursor is on a column, typing <b>/C-c "/</b> a or <b><i>M-x
orgtbl-ascii-plot RET</i></b> create a new column containing an
ASCII-art bars plot. The plot is implemented through a regular
column formula. When the source column changes, the bar plot may
be updated by refreshing the table, for example typing <b><i>C-u C-c
*</i></b>.
</p>

<pre class="example">
| Sede          | Max cites |              |
|---------------+-----------+--------------|
| Chile         |    257.72 | WWWWWWWWWWWW |
| Leeds         |    165.77 | WWWWWWWh     |
| Sao Paolo     |     71.00 | WWW;         |
| Stockholm     |    134.19 | WWWWWW:      |
| Morelia       |    257.56 | WWWWWWWWWWWH |
| Rochefourchat |      0.00 |              |
#+TBLFM: $3='(orgtbl-ascii-draw $2 0.0 257.72 12)
</pre>

<p>
The formula is an elisp call:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(orgtbl-ascii-draw COLUMN MIN MAX WIDTH)
</pre>
</div>

<dl class="org-dl">
<dt> <code>COLUMN</code> </dt><dd>       is a reference to the source column.
</dd>

<dt> <code>MIN MAX</code> </dt><dd>       are the minimal and maximal values displayed. Sources values
outside this range are displayed as ‘too small' or ‘too large'.
</dd>

<dt> <code>WIDTH</code> </dt><dd>       is the width in characters of the bar-plot. It defaults to
‘12'.
</dd>
</dl>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">4 Hyperlinks                                                        <a id="Hyperlinks" name="Hyperlinks"></a></h2>
<div class="outline-text-2" id="text-4">
<p>
Like HTML, Org provides links inside a file, external links to other
files, Usenet articles, emails, and much more.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Link-format">Link format</a>:</td>
<td class="left">How links in Org are formatted</td>
</tr>

<tr>
<td class="left">• <a href="#Internal-links">Internal links</a>:</td>
<td class="left">Links to other places in the current file</td>
</tr>

<tr>
<td class="left">• <a href="#External-links">External links</a>:</td>
<td class="left">URL-like links to the world</td>
</tr>

<tr>
<td class="left">• <a href="#Handling-links">Handling links</a>:</td>
<td class="left">Creating, inserting and following</td>
</tr>

<tr>
<td class="left">• <a href="#Using-links-outside-Org">Using links outside Org</a>:</td>
<td class="left">Linking from my C source code?</td>
</tr>

<tr>
<td class="left">• <a href="#Link-abbreviations">Link abbreviations</a>:</td>
<td class="left">Shortcuts for writing complex links</td>
</tr>

<tr>
<td class="left">• <a href="#Search-options">Search options</a>:</td>
<td class="left">Linking to a specific location</td>
</tr>

<tr>
<td class="left">• <a href="#Custom-searches">Custom searches</a>:</td>
<td class="left">When the default search is not enough</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">4.1 Link format                                                    <a id="Link-format" name="Link-format"></a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
Org will recognize plain URL-like links and activate them as
clickable links. The general link format, however, looks like this:
</p>

<pre class="example">
[[link][description]]       or alternatively           [[link]]
</pre>

<p>
Once a link in the buffer is complete (all brackets present), Org
will change the display so that ‘description' is displayed instead
of
</p>

<pre class="example">
[[link][description]]
</pre>

<p>
and ‘link' is displayed instead of
</p>

<pre class="example">
[[link]]
</pre>

<p>
Links will be highlighted in the face <code>org-link</code>, which by default
is an underlined face. You can directly edit the visible part of a
link. Note that this can be either the ‘link' part (if there is no
description) or the ‘description' part. To edit also the invisible
‘link' part, use <b><i>C-c C-l</i></b> with the cursor on the link.
</p>

<p>
If you place the cursor at the beginning or just behind the end of
the displayed text and press <code>BACKSPACE</code>, you will remove the
(invisible) bracket at that location. This makes the link
incomplete and the internals are again displayed as plain
text. Inserting the missing bracket hides the link internals
again. To show the internal structure of all links, use the menu
entry <code>Org-&gt;Hyperlinks-&gt;Literal links</code>.
</p>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">4.2 Internal links                                                 <a id="Internal-links" name="Internal-links"></a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
If the link does not look like a URL, it is considered to be
internal in the current file. The most important case is a link
like
</p>

<pre class="example">
[[@my-custom-id]]
</pre>

<p>
which will link to the entry with the <code>CUSTOM_ID</code> property
‘my-custom-id'. You are responsible yourself to make sure these
custom IDs are unique in a file.
</p>

<p>
Links such as
</p>

<pre class="example">
‘[[My Target]]'
</pre>

<p>
or
</p>

<pre class="example">
‘[[My Target][Find my target]]'
</pre>

<p>
lead to a text search in the current file.
</p>

<p>
The link can be followed with <b><i>C-c C-o</i></b> when the cursor is on the
link, or with a mouse click (see <a href="#Handling-links">Handling links</a>). Links to custom
IDs will point to the corresponding headline. The preferred match
for a text link is a <i>dedicated target</i>: the same string in double
angular brackets, like
</p>

<pre class="example">
‘&lt;&lt;My Target&gt;&gt;'
</pre>

<p>
If no dedicated target exists, the link will then try to match the
exact name of an element within the buffer. Naming is done with the
<code>#+NAME</code> keyword, which has to be put in the line before the
element it refers to, as in the following example
</p>

<pre class="example">
#+NAME: My Target
| a  | table      |
|----+------------|
| of | four cells |
</pre>

<p>
If none of the above succeeds, Org will search for a headline that
is exactly the link text but may also include a TODO keyword and
tags<sup><a id="fnr.33" name="fnr.33" class="footref" href="#fn.33">33</a></sup>.
</p>

<p>
During export, internal links will be used to mark objects and
assign them a number. Marked objects will then be referenced by
links pointing to them. In particular, links without a description
will appear as the number assigned to the marked
object<sup><a id="fnr.34" name="fnr.34" class="footref" href="#fn.34">34</a></sup>. In the following excerpt from an Org buffer
</p>

<pre class="example">
- one item
- &lt;&lt;target&gt;&gt;another item
Here we refer to item [[target]].
</pre>

<p>
The last sentence will appear as ‘Here we refer to item 2' when
exported.
</p>

<p>
In non-Org files, the search will look for the words in the link
text.  In the above example the search would be for ‘my target'.
</p>

<p>
Following a link pushes a mark onto Org's own mark ring. You can
return to the previous position with <b><i>C-c &amp;</i></b>. Using this command
several times in direct succession goes back to positions recorded
earlier.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Radio-targets">Radio targets</a>:</td>
<td class="left">Make targets trigger links in plain text</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-4-2-1" class="outline-4">
<h4 id="sec-4-2-1">4.2.1 Radio targets                                               <a id="Radio-targets" name="Radio-targets"></a></h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Org can automatically turn any occurrences of certain target names
in normal text into a link. So without explicitly creating a link,
the text connects to the target radioing its position. Radio
targets are enclosed by triple angular brackets. For example, a
target
</p>

<pre class="example">
‘&lt;&lt;&lt;My Target&gt;&gt;&gt;'
</pre>

<p>
causes each occurrence of ‘my target' in normal text to become
activated as a link. The Org file is scanned automatically for
radio targets only when the file is first loaded into Emacs. To
update the target list during editing, press <b><i>C-c C-c</i></b> with the
cursor on or at a target.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">4.3 External links                                                 <a id="External-links" name="External-links"></a></h3>
<div class="outline-text-3" id="text-4-3">
<p>
Org supports links to files, websites, Usenet and email messages,
BBDB database entries and links to both IRC conversations and their
logs.  External links are URL-like locators. They start with a
short identifying string followed by a colon. There can be no space
after the colon. The following list shows examples for each link
type.
</p>

<pre class="example">
http://www.astro.uva.nl/~dominik          on the web
doi:10.1000/182                           DOI for an electronic resource
file:/home/dominik/images/jupiter.jpg     file, absolute path
/home/dominik/images/jupiter.jpg          same as above
file:papers/last.pdf                      file, relative path
./papers/last.pdf                         same as above
file:/myself@some.where:papers/last.pdf   file, path on remote machine
/myself@some.where:papers/last.pdf        same as above
file:sometextfile::NNN                    file, jump to line number
file:projects.org                         another Org file
file:projects.org::some words             text search in Org file(35)
file:projects.org::*task title heading search in Org
file(36)
file+sys:/path/to/file                    open via OS, like double-click
file+emacs:/path/to/file                  force opening by Emacs
docview:papers/last.pdf::NNN              open in doc-view mode at page
id:B7423F4D-2E8A-471B-8810-C40F074717E9   Link to heading by ID
news:comp.emacs                           Usenet link
mailto:adent@galaxy.net                   Mail link
mhe:folder                                MH-E folder link
mhe:folder#id                             MH-E message link
rmail:folder                              RMAIL folder link
rmail:folder#id                           RMAIL message link
gnus:group                                Gnus group link
gnus:group#id                             Gnus article link
bbdb:R.*Stallman                          BBDB link (with regexp)
irc:/irc.com/#emacs/bob                   IRC link
info:org#External links                   Info node or index link
shell:ls *.org                            A shell command
elisp:org-agenda                          Interactive Elisp command
elisp:(find-file-other-frame "Elisp.org") Elisp form to evaluate
</pre>

<p>
On top of these built-in link types, some are available through the
<code>contrib/</code> directory (see <a href="#Installation">Installation</a>). For example, these links
to VM or Wanderlust messages are available when you load the
corresponding libraries from the <code>contrib/</code> directory:
</p>

<pre class="example">
vm:folder                                 VM folder link
vm:folder#id                              VM message link
vm://myself@some.where.org/folder#id      VM on remote machine
vm-imap:account:folder                    VM IMAP folder link
vm-imap:account:folder#id                 VM IMAP message link
wl:folder                                 WANDERLUST folder link
wl:folder#id                              WANDERLUST message link
</pre>

<p>
For customizing Org to add new link types <a href="#Adding-hyperlink-types">Adding hyperlink types</a>.
</p>

<p>
A link should be enclosed in double brackets and may contain a
descriptive text to be displayed instead of the URL (see <a href="#Link-format">Link
format</a>), for example:
</p>

<pre class="example">
[[http://www.gnu.org/software/emacs/][GNU Emacs]]
</pre>

<p>
If the description is a file name or URL that points to an image,
HTML export (see <a href="#HTML-export">HTML export</a>) will inline the image as a clickable
button. If there is no description at all and the link points to an
image, that image will be inlined into the exported HTML file.
</p>

<p>
Org also finds external links in the normal text and activates them
as links. If spaces must be part of the link (for example in
<code>bbdb:Richard Stallman</code>), or if you need to remove ambiguities
about the end of the link, enclose them in square brackets.
</p>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">4.4 Handling links                                                 <a id="Handling-links" name="Handling-links"></a></h3>
<div class="outline-text-3" id="text-4-4">
<p>
Org provides methods to create a link in the correct syntax, to
insert it into an Org file, and to follow the link.
</p>

<ul class="org-ul">
<li><b><i>C-c l</i></b> (<code>org-store-link</code>)

<p>
Store a link to the current location. This is a <i>global</i> command
(you must create the key binding yourself) which can be used in
any buffer to create a link. The link will be stored for later
insertion into an Org buffer (see below). What kind of link will
be created depends on the current buffer:
</p>

<ul class="org-ul">
<li><b>Org mode buffers</b>

<p>
For Org files, if there is a
</p>

<pre class="example">
‘&lt;&lt;target&gt;&gt;'
</pre>

<p>
at the cursor, the link points to the target. Otherwise it
points to the current headline, which will also be the
description<sup><a id="fnr.35" name="fnr.35" class="footref" href="#fn.35">35</a></sup>.
</p>

<p>
If the headline has a <code>CUSTOM_ID</code> property, a link to this
custom ID will be stored. In addition or alternatively
(depending on the value of <code>org-id-link-to-org-use-id</code>), a
globally unique <code>ID</code> property will be created and/or used to
construct a link<sup><a id="fnr.36" name="fnr.36" class="footref" href="#fn.36">36</a></sup>. So using this command in Org
buffers will potentially create two links: a human-readable
from the custom ID, and one that is globally unique and works
even if the entry is moved from file to file. Later, when
inserting the link, you need to decide which one to use.
</p>
</li>

<li><b>Email/News clients: VM, Rmail, Wanderlust, MH-E, Gnus</b>

<p>
Pretty much all Emacs mail clients are supported. The link
will point to the current article, or, in some GNUS buffers,
to the group. The description is constructed from the author
and the subject.
</p>
</li>

<li><b>Web browsers: W3 and W3M</b><br  />

<p>
Here the link will be the current URL, with the page title as
description.
</p>
</li>

<li><b>Contacts: BBDB</b>

<p>
Links created in a BBDB buffer will point to the current
entry.
</p>
</li>

<li><b>Chat: IRC</b>

<p>
For IRC links, if you set the option <code>org-irc-link-to-logs</code> to
<code>t</code>, a ‘file:/' style link to the relevant point in the logs
for the current conversation is created. Otherwise an ‘irc:/'
style link to the user/channel/server under the point will be
stored.
</p>
</li>

<li><b>Other files</b>

<p>
For any other files, the link will point to the file, with a
search string (see <a href="#Search-options">Search options</a>) pointing to the contents of
the current line. If there is an active region, the selected
words will form the basis of the search string. If the
automatically created link is not working correctly or
accurately enough, you can write custom functions to select
the search string and to do the search for particular file
types &#x2013; see <a href="#Custom-searches">Custom searches</a>.  The key binding C-c l is only a
suggestion &#x2013; see <a href="#Installation">Installation</a>.
</p>
</li>

<li><b>Agenda view</b>

<p>
When the cursor is in an agenda view, the created link points
to the entry referenced by the current line.
</p>
</li>
</ul>
</li>

<li><b><i>C-c C-l</i></b> (<code>org-insert-link</code>)

<p>
Insert a link<sup><a id="fnr.37" name="fnr.37" class="footref" href="#fn.37">37</a></sup>. This prompts for a link to be inserted
into the buffer. You can just type a link, using text for an
internal link, or one of the link type prefixes mentioned in the
examples above.  The link will be inserted into the
buffer<sup><a id="fnr.38" name="fnr.38" class="footref" href="#fn.38">38</a></sup>, along with a descriptive text. If some text
was selected when this command is called, the selected text
becomes the default description.
</p>

<ul class="org-ul">
<li><b>Inserting stored links</b>

<p>
All links stored during the current session are part of the
history for this prompt, so you can access them with <code>up</code> and
<code>down</code> (or <b><i>M-p/n</i></b>).
</p>
</li>

<li><b>Completion support</b>

<p>
Completion with <code>TAB</code> will help you to insert valid link
prefixes like ‘http:' or ‘ftp:', including the prefixes
defined through link abbreviations (see <a href="#Link-abbreviations">Link abbreviations</a>).
If you press <code>RET</code> after inserting only the prefix, Org will
offer specific completion support for some link
types<sup><a id="fnr.39" name="fnr.39" class="footref" href="#fn.39">39</a></sup> For example, if you type file RET, file name
completion (alternative access: <b><i>C-u C-c C-l</i></b>, see below)
will be offered, and after bbdb RET you can complete contact
names.
</p>
</li>
</ul>
</li>

<li><b><i>C-u C-c C-l</i></b>

<p>
When <b><i>C-c C-l</i></b> is called with a <b><i>C-u</i></b> prefix argument, a
link to a file will be inserted and you may use file name
completion to select the name of the file. The path to the file
is inserted relative to the directory of the current Org file,
if the linked file is in the current directory or in a
sub-directory of it, or if the path is written relative to the
current directory using ‘../'. Otherwise an absolute path is
used, if possible with ‘~/' for your home directory. You can
force an absolute path with two <b><i>C-u</i></b> prefixes.
</p>
</li>

<li><b><i>C-c C-l</i></b> (with cursor on existing link)

<p>
When the cursor is on an existing link, <b><i>C-c C-l</i></b> allows you
to edit the link and description parts of the link.
</p>
</li>

<li><b><i>C-c C-o</i></b> (<code>org-open-at-point</code>)

<p>
Open link at point. This will launch a web browser for URLs
(using <code>browse-url-at-point</code>), run
VM/MH-E/Wanderlust/Rmail/Gnus/BBDB for the corresponding links,
and execute the command in a shell link. When the cursor is on
an internal link, this command runs the corresponding
search. When the cursor is on a TAG list in a headline, it
creates the corresponding TAGS view. If the cursor is on a
timestamp, it compiles the agenda for that date. Furthermore, it
will visit text and remote files in ‘file:' links with Emacs and
select a suitable application for local non-text
files. Classification of files is based on file extension
only. See option <code>org-file-apps</code>. If you want to override the
default application and visit the file with Emacs, use a C-u
prefix. If you want to avoid opening in Emacs, use a <b><i>C-u C-u</i></b>
prefix.
</p>

<p>
If the cursor is on a headline, but not on a link, offer all
links in the headline and entry text. If you want to setup the
frame configuration for following links, customize
<code>org-link-frame-setup</code>.
</p>
</li>

<li><b><i>RET</i></b>

<p>
When <code>org-return-follows-link</code> is set, RET will also follow the
link at point.
</p>
</li>

<li><b>mouse-2</b>
</li>
<li><b>mouse-1</b>

<p>
On links, <b>mouse-2</b> will open the link just as <b><i>C-c C-o</i></b>
would. Under Emacs 22 and later, mouse-1 will also follow a
link.
</p>
</li>

<li><b>mouse-3</b>

<p>
Like <b>mouse-2</b>, but force file links to be opened with Emacs,
and internal links to be displayed in another window<sup><a id="fnr.40" name="fnr.40" class="footref" href="#fn.40">40</a></sup>.
</p>
</li>

<li><b><i>C-c C-x C-v</i></b> (<code>org-toggle-inline-images</code>)

<p>
Toggle the inline display of linked images. Normally this will
only inline images that have no description part in the link,
i.e., images that will also be inlined during export. When
called with a prefix argument, also display images that do have
a link description. You can ask for inline images to be
displayed at startup by configuring the variable
<code>org-startup-with-inline-images</code> <sup><a id="fnr.41" name="fnr.41" class="footref" href="#fn.41">41</a></sup>.
</p>
</li>

<li><b><i>C-c %</i></b> (<code>org-mark-ring-push</code>)

<p>
Push the current position onto the mark ring, to be able to
return easily. Commands following an internal link do this
automatically.
</p>
</li>

<li><b><i>C-c &amp;</i></b> (<code>org-mark-ring-goto</code>)

<p>
Jump back to a recorded position. A position is recorded by the
commands following internal links, and by <b><i>C-c %</i></b>. Using this
command several times in direct succession moves through a ring
of previously recorded positions.
</p>
</li>

<li><b><i>C-c C-x C-n</i></b> (<code>org-next-link</code>)
</li>
<li><b><i>C-c C-x C-p</i></b> (<code>org-previous-link</code>)

<p>
Move forward/backward to the next link in the buffer. At the
limit of the buffer, the search fails once, and then wraps
around. The key bindings for this are really too long; you might
want to bind this also to <b><i>C-n</i></b> and <b><i>C-p</i></b>
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'org-load-hook
  (lambda ()
    (define-key org-mode-map "\C-n" 'org-next-link)
    (define-key org-mode-map "\C-p" 'org-previous-link)))
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">4.5 Using links outside Org                                        <a id="Using-links-outside-Org" name="Using-links-outside-Org"></a></h3>
<div class="outline-text-3" id="text-4-5">
<p>
You can insert and follow links that have Org syntax not only in
Org, but in any Emacs buffer. For this, you should create two
global commands, like this (please select suitable global keys
yourself):
</p>

<div class="org-src-container">

<pre class="src src-lisp">(global-set-key "\C-c L" 'org-insert-link-global)
(global-set-key "\C-c o" 'org-open-at-point-global)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">4.6 Link abbreviations                                             <a id="Link-abbreviations" name="Link-abbreviations"></a></h3>
<div class="outline-text-3" id="text-4-6">
<p>
Long URLs can be cumbersome to type, and often many similar links
are needed in a document. For this you can use link
abbreviations. An abbreviated link looks like this
</p>

<pre class="example">
[[linkword:tag][description]]
</pre>

<p>
where the tag is optional. The <i>linkword</i> must be a word, starting
with a letter, followed by letters, numbers, ‘-', and
‘<sub>'</sub>. Abbreviations are resolved according to the information in
the variable <code>org-link-abbrev-alist</code> that relates the linkwords to
replacement text.  Here is an example:
</p>

<pre class="example">
(setq org-link-abbrev-alist
  '(("bugzilla"  . "http://10.1.2.9/bugzilla/show_bug.cgi?id=")
    ("url-to-ja" . "http://translate.google.fr/translate?sl=en&amp;tl=ja&amp;u=%h")
    ("google"    . "http://www.google.com/search?q=")
    ("gmap"      . "http://maps.google.com/maps?q=%s")
    ("omap"      . "http://nominatim.openstreetmap.org/search?q=%s&amp;polygon=1")
    ("ads"       . "http://adsabs.harvard.edu/cgi-bin/nph-abs_connect?author=%s&amp;db_key=AST")))
</pre>

<p>
If the replacement text contains the string ‘%s', it will be
replaced with the tag. Using ‘%h' instead of ‘%s' will url-encode
the tag (see the example above, where we need to encode the URL
parameter.) Using ‘%(my-function)' will pass the tag to a custom
function, and replace it by the resulting string.
</p>

<p>
If the replacement text doesn't contain any specifier, it will
simply be appended to the string in order to create the link.
</p>

<p>
Instead of a string, you may also specify a function that will be
called with the tag as the only argument to create the link.
</p>

<p>
With the above setting, you could link to a specific bug with
<code>[[bugzilla:129]]</code>, search the web for ‘OrgMode' with <code>[[google:OrgMode]]</code>,
show the map location of the Free Software Foundation <code>[[gmap:51
   Franklin Street, Boston]]</code> or of Carsten office <code>[[omap:Science Park
   904, Amsterdam, The Netherlands]]</code> and find out what the Org author
is doing besides Emacs hacking with <code>[[ads:Dominik,C]]</code>.
</p>

<p>
If you need special abbreviations just for a single Org buffer, you
can define them in the file with
</p>

<pre class="example">
#+LINK: bugzilla  http://10.1.2.9/bugzilla/show_bug.cgi?id=
#+LINK: google    http://www.google.com/search?q=%s
</pre>

<p>
In-buffer completion (see <a href="#Completion">Completion</a>) can be used after ‘[' to
complete link abbreviations. You may also define a function
<code>org-PREFIX-complete-link</code> that implements special (e.g.,
completion) support for inserting such a link with <b><i>C-c
C-l</i></b>. Such a function should not accept any arguments, and return
the full link with prefix.
</p>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7">4.7 Search options in file links                                   <a id="Search-options" name="Search-options"></a></h3>
<div class="outline-text-3" id="text-4-7">
<p>
File links can contain additional information to make Emacs jump to
a particular location in the file when following a link. This can
be a line number or a search option after a double<sup><a id="fnr.42" name="fnr.42" class="footref" href="#fn.42">42</a></sup>
colon.  For example, when the command <b><i>C-c l</i></b> creates a link (see
<a href="#Handling-links">Handling links</a>) to a file, it encodes the words in the current line
as a search string that can be used to find this line back later
when following the link with <b><i>C-c C-o</i></b>.
</p>

<p>
Here is the syntax of the different ways to attach a search to a
file link, together with an explanation:
</p>

<pre class="example">
[[file:~/code/main.c::255]]
[[file:~/xx.org::My Target]]
[[file:~/xx.org::*My Target]]
[[file:~/xx.org::#my-custom-id]]
[[file:~/xx.org::/regexp/]]
</pre>

<dl class="org-dl">
<dt> <code>255</code> </dt><dd>      Jump to line 255.
</dd>

<dt> <code>My Target</code> </dt><dd>      Search for a link target <code>&lt;&lt;My Target&gt;&gt;</code>, or do a text search
for ‘my target', similar to the search in internal links, see
<a href="#Internal-links">Internal links</a>. In HTML export (see <a href="#HTML-export">HTML export</a>), such a file
link will become an HTML reference to the corresponding named
anchor in the linked file.
</dd>

<dt> <code>*My Target</code> </dt><dd>      In an Org file, restrict search to headlines.
</dd>

<dt> <code>#my-custom-id</code> </dt><dd>      Link to a heading with a <code>CUSTOM_ID</code> property
</dd>

<dt> <code>/regexp/</code> </dt><dd>      Do a regular expression search for <code>regexp</code>. This uses the Emacs
command <code>occur</code> to list all matches in a separate window.  If
the target file is in Org mode, <code>org-occur</code> is used to create a
sparse tree with the matches.
</dd>
</dl>

<p>
As a degenerate case, a file link with an empty file name can be
used to search the current file. For example, <code>[[file:::find me]]</code> does
a search for ‘find me' in the current file, just as
</p>

<pre class="example">
[[find me]]
</pre>

<p>
would.
</p>
</div>
</div>

<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8">4.8 Custom Searches                                                <a id="Custom-searches" name="Custom-searches"></a></h3>
<div class="outline-text-3" id="text-4-8">
<p>
The default mechanism for creating search strings and for doing the
actual search related to a file link may not work correctly in all
cases. For example, BibTeX database files have many entries like
‘year="1993"' which would not result in good search strings,
because the only unique identification for a BibTeX entry is the
citation key.
</p>

<p>
If you come across such a problem, you can write custom functions
to set the right search string for a particular file type, and to
do the search for the string in the file. Using <code>add-hook</code>, these
functions need to be added to the hook variables
<code>org-create-file-search-functions</code> and
<code>org-execute-file-search-functions</code>. See the docstring for these
variables for more information. Org actually uses this mechanism
for BibTeX database files, and you can use the corresponding code
as an implementation example. See the file org-bibtex.el.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">5 TODO items                                                        <a id="TODO-items" name="TODO-items"></a></h2>
<div class="outline-text-2" id="text-5">
<p>
Org mode does not maintain TODO lists as separate
documents<sup><a id="fnr.43" name="fnr.43" class="footref" href="#fn.43">43</a></sup>. Instead, TODO items are an integral part of
the notes file, because TODO items usually come up while taking
notes!  With Org mode, simply mark any entry in a tree as being a
TODO item. In this way, information is not duplicated, and the
entire context from which the TODO item emerged is always present.
</p>

<p>
Of course, this technique for managing TODO items scatters them
throughout your notes file. Org mode compensates for this by
providing methods to give you an overview of all the things that you
have to do.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#TODO-basics">TODO basics</a>:</td>
<td class="left">Marking and displaying TODO entries</td>
</tr>

<tr>
<td class="left">• <a href="#TODO-extensions">TODO extensions</a>:</td>
<td class="left">Workflow and assignments</td>
</tr>

<tr>
<td class="left">• <a href="#Progress-logging">Progress logging</a>:</td>
<td class="left">Dates and notes for progress</td>
</tr>

<tr>
<td class="left">• <a href="#Priorities">Priorities</a>:</td>
<td class="left">Some things are more important than others</td>
</tr>

<tr>
<td class="left">• <a href="#Breaking-down-tasks">Breaking down tasks</a>:</td>
<td class="left">Splitting a task into manageable pieces</td>
</tr>

<tr>
<td class="left">• <a href="#Checkboxes">Checkboxes</a>:</td>
<td class="left">Tick-off lists</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">5.1 Basic TODO functionality                                       <a id="TODO-basics" name="TODO-basics"></a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
Any headline becomes a TODO item when it starts with the word
‘TODO', for example:
</p>

<pre class="example">
*** TODO Write letter to Sam Fortune
</pre>

<p>
The most important commands to work with TODO entries are:
</p>

<ul class="org-ul">
<li><b><i>C-c C-t</i></b> (<code>org-todo</code>)

<p>
Rotate the TODO state of the current item among
</p>

<pre class="example">
,-&gt; (unmarked) -&gt; TODO -&gt; DONE --.
'--------------------------------'
</pre>

<p>
If TODO keywords have fast access keys (see <a href="#Fast-access-to-TODO-states">Fast access to TODO
states</a>), you will be prompted for a TODO keyword through the
fast selection interface; this is the default behavior when
<code>org-use-fast-todo-selection</code> is non-=nil=.
</p>

<p>
The same rotation can also be done “remotely” from the timeline
and agenda buffers with the t command key (see <a href="#Agenda-commands">Agenda commands</a>).
</p>
</li>

<li><b><i>C-u C-c C-t</i></b>

<p>
When TODO keywords have no selection keys, select a specific
keyword using completion; otherwise force cycling through TODO
states with no prompt. When <code>org-use-fast-todo-selection</code> is set
to <code>prefix</code>, use the fast selection interface.
</p>
</li>

<li><b><i>S-right</i></b> / <b><i>S-left</i></b>

<p>
Select the following/preceding TODO state, similar to
cycling. Useful mostly if more than two TODO states are possible
(see <a href="#TODO-extensions">TODO extensions</a>). See also <a href="#Conflicts">Conflicts</a>, for a discussion of
the interaction with <code>shift-selection-mode</code>. See also the
variable <code>org-treat-S-cursor-todo-selection-as-state-change</code>.
</p>
</li>

<li><b><i>C-c / t</i></b> (<code>org-show-todo-tree</code>)

<p>
View TODO items in a <i>sparse tree</i> (see <a href="#Sparse-trees">Sparse trees</a>). Folds the
entire buffer, but shows all TODO items (with not-DONE state)
and the headings hierarchy above them. With a prefix argument
(or by using C-c / T), search for a specific TODO. You will be
prompted for the keyword, and you can also give a list of
keywords like <code>KWD1|KWD2|...</code> to list entries that match any one
of these keywords.  With a numeric prefix argument N, show the
tree for the Nth keyword in the option <code>org-todo-keywords</code>. With
two prefix arguments, find all TODO states, both un-done and
done.
</p>
</li>

<li><b><i>C-c a t</i></b> (<code>org-todo-list</code>)

<p>
Show the global TODO list. Collects the TODO items (with
not-DONE states) from all agenda files (see <a href="#Agenda-views">Agenda views</a>) into a
single buffer. The new buffer will be in <code>agenda-mode</code>, which
provides commands to examine and manipulate the TODO entries
from the new buffer (see <a href="#Agenda-commands">Agenda commands</a>). See <a href="#Global-TODO-list">Global TODO list</a>,
for more information.
</p>
</li>

<li><b><i>S-M-RET</i></b> (<code>org-insert-todo-heading</code>)

<p>
Insert a new TODO entry below the current one.
</p>
</li>
</ul>

<p>
Changing a TODO state can also trigger tag changes. See the
docstring of the option <code>org-todo-state-tags-triggers</code> for details.
</p>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">5.2 Extended use of TODO keywords                                  <a id="TODO-extensions" name="TODO-extensions"></a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
By default, marked TODO entries have one of only two states: TODO
and DONE. Org mode allows you to classify TODO items in more
complex ways with <i>TODO keywords</i> (stored in
<code>org-todo-keywords</code>). With special setup, the TODO keyword system
can work differently in different files.
</p>

<p>
Note that <i>tags</i> are another way to classify headlines in general
and TODO items in particular (see <a href="#Tags">Tags</a>).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Workflow-states">Workflow states</a>:</td>
<td class="left">From TODO to DONE in steps</td>
</tr>

<tr>
<td class="left">• <a href="#TODO-types">TODO types</a>:</td>
<td class="left">I do this, Fred does the rest</td>
</tr>

<tr>
<td class="left">• <a href="#Multiple-sets-in-one-file">Multiple sets in one file</a>:</td>
<td class="left">Mixing it all, and still finding your way</td>
</tr>

<tr>
<td class="left">• <a href="#Fast-access-to-TODO-states">Fast access to TODO states</a>:</td>
<td class="left">Single letter selection of a state</td>
</tr>

<tr>
<td class="left">• <a href="#Per_file-keywords">Per-file keywords</a>:</td>
<td class="left">Different files, different requirements</td>
</tr>

<tr>
<td class="left">• <a href="#Faces-for-TODO-keywords">Faces for TODO keywords</a>:</td>
<td class="left">Highlighting states</td>
</tr>

<tr>
<td class="left">• <a href="#TODO-dependencies">TODO dependencies</a>:</td>
<td class="left">When one task needs to wait for others</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-5-2-1" class="outline-4">
<h4 id="sec-5-2-1">5.2.1 TODO keywords as workflow states                            <a id="Workflow-states" name="Workflow-states"></a></h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
You can use TODO keywords to indicate different <i>sequential</i>
states in the process of working on an item, for
example<sup><a id="fnr.44" name="fnr.44" class="footref" href="#fn.44">44</a></sup>:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-todo-keywords
  '((sequence "TODO" "FEEDBACK" "VERIFY" "|" "DONE" "DELEGATED")))
</pre>
</div>

<p>
The vertical bar separates the TODO keywords (states that <i>need
action</i>) from the DONE states (which need <i>no further action</i>). If
you don't provide the separator bar, the last state is used as the
DONE state.  With this setup, the command <b><i>C-c C-t</i></b> will cycle
an entry from TODO to FEEDBACK, then to VERIFY, and finally to
DONE and DELEGATED. You may also use a numeric prefix argument to
quickly select a specific state.  For example <b><i>C-3 C-c C-t</i></b> will
change the state immediately to VERIFY. Or you can use <b><i>S-left</i></b>
to go backward through the sequence. If you define many keywords,
you can use in-buffer completion (see <a href="#Completion">Completion</a>) or even a
special one-key selection scheme (see <a href="#Fast-access-to-TODO-states">Fast access to TODO states</a>)
to insert these words into the buffer. Changing a TODO state can
be logged with a timestamp, see <a href="#Tracking-TODO-state-changes">Tracking TODO state changes</a>, for
more information.
</p>
</div>
</div>

<div id="outline-container-sec-5-2-2" class="outline-4">
<h4 id="sec-5-2-2">5.2.2 TODO keywords as types                                      <a id="TODO-types" name="TODO-types"></a></h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
The second possibility is to use TODO keywords to indicate
different <i>types</i> of action items. For example, you might want to
indicate that items are for “work” or “home”. Or, when you work
with several people on a single project, you might want to assign
action items directly to persons, by using their names as TODO
keywords. This would be set up like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-todo-keywords '((type "Fred" "Sara" "Lucy" "|" "DONE")))
</pre>
</div>

<p>
In this case, different keywords do not indicate a sequence, but
rather different types. So the normal work flow would be to assign
a task to a person, and later to mark it DONE. Org mode supports
this style by adapting the workings of the command <b><i>C-c
C-t</i></b> <sup><a id="fnr.45" name="fnr.45" class="footref" href="#fn.45">45</a></sup>. When used several times in succession, it will
still cycle through all names, in order to first select the right
type for a task. But when you return to the item after some time
and execute <b><i>C-c C-t</i></b> again, it will switch from any name
directly to DONE. Use prefix arguments or completion to quickly
select a specific name. You can also review the items of a
specific TODO type in a sparse tree by using a numeric prefix to
<b><i>C-c / t</i></b>. For example, to see all things Lucy has to do, you
would use <b><i>C-3 C-c / t</i></b>. To collect Lucy's items from all agenda
files into a single buffer, you would use the numeric prefix
argument as well when creating the global TODO list: <b><i>C-3 C-c a
t</i></b>.
</p>
</div>
</div>

<div id="outline-container-sec-5-2-3" class="outline-4">
<h4 id="sec-5-2-3">5.2.3 Multiple keyword sets in one file                           <a id="Multiple-sets-in-one-file" name="Multiple-sets-in-one-file"></a></h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
Sometimes you may want to use different sets of TODO keywords in
parallel. For example, you may want to have the basic
<code>TODO=/=DONE</code>, but also a workflow for bug fixing, and a separate
state indicating that an item has been canceled (so it is not
DONE, but also does not require action). Your setup would then
look like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-todo-keywords
      '((sequence "TODO" "|" "DONE")
        (sequence "REPORT" "BUG" "KNOWNCAUSE" "|" "FIXED")
        (sequence "|" "CANCELED")))
</pre>
</div>

<p>
The keywords should all be different, this helps Org mode to keep
track of which subsequence should be used for a given entry. In
this setup, <b><i>C-c C-t</i></b> only operates within a subsequence, so it
switches from <code>DONE</code> to (nothing) to <code>TODO</code>, and from <code>FIXED</code> to
(nothing) to <code>REPORT</code>.  Therefore you need a mechanism to
initially select the correct sequence.  Besides the obvious ways
like typing a keyword or using completion, you may also apply the
following commands:
</p>

<ul class="org-ul">
<li><b><i>C-u C-u C-c C-t</i></b>
</li>
<li><b><i>C-S-right</i></b>
</li>
<li><b><i>C-S-left</i></b>

<p>
These keys jump from one TODO subset to the next. In the above
example, <b><i>C-u C-u C-c C-t</i></b> or <b><i>C-S-right</i></b> would jump from
<code>TODO</code> or <code>DONE</code> to <code>REPORT</code>, and any of the words in the
second row to <code>CANCELED</code>. Note that the <b><i>C-S-</i></b> key binding
conflict with <code>shift-selection-mode</code> (see <a href="#Conflicts">Conflicts</a>).
</p>
</li>

<li><b><i>S-right</i></b>
</li>
<li><b><i>S-left</i></b>

<p>
<b><i>S-left</i></b> and <b><i>S-right</i></b> and walk through <i>all</i> keywords from
all sets, so for example S-right would switch from <code>DONE</code> to
<code>REPORT</code> in the example above. See also <a href="#Conflicts">Conflicts</a>, for a
discussion of the interaction with <code>shift-selection-mode</code>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-2-4" class="outline-4">
<h4 id="sec-5-2-4">5.2.4 Fast access to TODO states                                  <a id="Fast-access-to-TODO-states" name="Fast-access-to-TODO-states"></a></h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
If you would like to quickly change an entry to an arbitrary TODO
state instead of cycling through the states, you can set up keys
for single-letter access to the states. This is done by adding the
selection character after each keyword, in
parentheses<sup><a id="fnr.46" name="fnr.46" class="footref" href="#fn.46">46</a></sup>. For example:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-todo-keywords
      '((sequence "TODO(t)" "|" "DONE(d)")
        (sequence "REPORT(r)" "BUG(b)" "KNOWNCAUSE(k)" "|" "FIXED(f)")
        (sequence "|" "CANCELED(c)")))
</pre>
</div>

<p>
If you then press <b><i>C-c C-t</i></b> followed by the selection key, the
entry will be switched to this state. SPC can be used to remove
any TODO keyword from an entry.<sup><a id="fnr.47" name="fnr.47" class="footref" href="#fn.47">47</a></sup>
</p>
</div>
</div>

<div id="outline-container-sec-5-2-5" class="outline-4">
<h4 id="sec-5-2-5">5.2.5 Setting up keywords for individual files                    <a id="Per_file-keywords" name="Per_file-keywords"></a></h4>
<div class="outline-text-4" id="text-5-2-5">
<p>
It can be very useful to use different aspects of the TODO
mechanism in different files. For file-local settings, you need to
add special lines to the file which set the keywords and
interpretation for that file only. For example, to set one of the
two examples discussed above, you need one of the following lines
anywhere in the file:
</p>

<pre class="example">
#+TODO: TODO FEEDBACK VERIFY | DONE CANCELED
</pre>

<p>
(you may also write <code>#+SEQ_TODO</code> to be explicit about the
interpretation, but it means the same as <code>#+TODO</code>), or
</p>

<pre class="example">
#+TYP_TODO: Fred Sara Lucy Mike | DONE
</pre>

<p>
A setup for using several sets in parallel would be:
</p>

<pre class="example">
#+TODO: TODO | DONE
#+TODO: REPORT BUG KNOWNCAUSE | FIXED
#+TODO: | CANCELED
</pre>

<p>
To make sure you are using the correct keyword, type ‘#+' into the
buffer and then use M-TAB completion.
</p>

<p>
Remember that the keywords after the vertical bar (or the last
keyword if no bar is there) must always mean that the item is DONE
(although you may use a different word). After changing one of
these lines, use <b><i>C-c C-c</i></b> with the cursor still in the line to
make the changes known to Org mode<sup><a id="fnr.48" name="fnr.48" class="footref" href="#fn.48">48</a></sup>.
</p>
</div>
</div>

<div id="outline-container-sec-5-2-6" class="outline-4">
<h4 id="sec-5-2-6">5.2.6 Faces for TODO keywords                                     <a id="Faces-for-TODO-keywords" name="Faces-for-TODO-keywords"></a></h4>
<div class="outline-text-4" id="text-5-2-6">
<p>
Org mode highlights TODO keywords with special faces: <code>org-todo</code>
for keywords indicating that an item still has to be acted upon,
and <code>org-done</code> for keywords indicating that an item is
finished. If you are using more than 2 different states, you might
want to use special faces for some of them. This can be done using
the option <code>org-todo-keyword-faces</code>. For example:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-todo-keyword-faces
      '(("TODO" . org-warning) ("STARTED" . "yellow")
        ("CANCELED" . (:foreground "blue" :weight bold))))
</pre>
</div>

<p>
While using a list with face properties as shown for CANCELED
<i>should</i> work, this does not always seem to be the case. If
necessary, define a special face and use that. A string is
interpreted as a color. The option <code>org-faces-easy-properties</code>
determines if that color is interpreted as a foreground or a
background color.
</p>
</div>
</div>

<div id="outline-container-sec-5-2-7" class="outline-4">
<h4 id="sec-5-2-7">5.2.7 TODO dependencies                                           <a id="TODO-dependencies" name="TODO-dependencies"></a></h4>
<div class="outline-text-4" id="text-5-2-7">
<p>
The structure of Org files (hierarchy and lists) makes it easy to
define TODO dependencies. Usually, a parent TODO task should not
be marked DONE until all subtasks (defined as children tasks) are
marked as DONE. And sometimes there is a logical sequence to a
number of (sub)tasks, so that one task cannot be acted upon before
all siblings above it are done. If you customize the option
<code>org-enforce-todo-dependencies</code>, Org will block entries from
changing state to DONE while they have children that are not
DONE. Furthermore, if an entry has a property <code>ORDERED</code>, each of
its children will be blocked until all earlier siblings are marked
DONE.  Here is an example:
</p>

<pre class="example">
* TODO Blocked until (two) is done
** DONE one
** TODO two

* Parent
  :PROPERTIES:
  :ORDERED: t
  :END:
** TODO a
** TODO b, needs to wait for (a)
** TODO c, needs to wait for (a) and (b)
</pre>

<p>
You can ensure an entry is never blocked by using the <code>NOBLOCKING</code>
property:
</p>

<pre class="example">
* This entry is never blocked
  :PROPERTIES:
:NOBLOCKING: t
:END:
</pre>

<ul class="org-ul">
<li><b><i>C-c C-x o</i></b> (<code>org-toggle-ordered-property</code>)

<p>
Toggle the <code>ORDERED</code> property of the current entry. A property
is used for this behavior because this should be local to the
current entry, not inherited like a tag. However, if you would
like to <i>track</i> the value of this property with a tag for
better visibility, customize the option
<code>org-track-ordered-property-with-tag</code>.
</p>
</li>

<li><b><i>C-u C-u C-u C-c C-t</i></b>

<p>
Change TODO state, circumventing any state blocking.
</p>
</li>
</ul>

<p>
If you set the option <code>org-agenda-dim-blocked-tasks</code>, TODO entries
that cannot be closed because of such dependencies will be shown
in a dimmed font or even made invisible in agenda views (see
<a href="#Agenda-views">Agenda views</a>).
</p>

<p>
You can also block changes of TODO states by looking at checkboxes
(see <a href="#Checkboxes">Checkboxes</a>). If you set the option
<code>org-enforce-todo-checkbox-dependencies</code>, an entry that has
unchecked checkboxes will be blocked from switching to DONE.
</p>

<p>
If you need more complex dependency structures, for example dependencies
between entries in different trees or files, check out the contributed
module org-depend.el.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">5.3 Progress logging                                               <a id="Progress-logging" name="Progress-logging"></a></h3>
<div class="outline-text-3" id="text-5-3">
<p>
Org mode can automatically record a timestamp and possibly a note
when you mark a TODO item as DONE, or even each time you change the
state of a TODO item. This system is highly configurable; settings
can be on a per-keyword basis and can be localized to a file or
even a subtree. For information on how to clock working time for a
task, see <a href="#Clocking-work-time">Clocking work time</a>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Closing-items">Closing items</a>:</td>
<td class="left">When was this entry marked DONE?</td>
</tr>

<tr>
<td class="left">• <a href="#Tracking-TODO-state-changes">Tracking TODO state changes</a>:</td>
<td class="left">When did the status change?</td>
</tr>

<tr>
<td class="left">• <a href="#Tracking-your-habits">Tracking your habits</a>:</td>
<td class="left">How consistent have you been?</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-5-3-1" class="outline-4">
<h4 id="sec-5-3-1">5.3.1 Closing items                                               <a id="Closing-items" name="Closing-items"></a></h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
The most basic logging is to keep track of <i>when</i> a certain TODO
item was finished. This is achieved with<sup><a id="fnr.49" name="fnr.49" class="footref" href="#fn.49">49</a></sup>
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-log-done 'time)
</pre>
</div>

<p>
Then each time you turn an entry from a TODO (not-done) state into
any of the DONE states, a line <code>CLOSED: [timestamp]</code> will be
inserted just after the headline. If you turn the entry back into
a TODO item through further state cycling, that line will be
removed again. If you turn the entry back to a non-TODO state (by
pressing <code>C-c C-t SPC</code> for example), that line will also be
removed, unless you set <code>org-closed-keep-when-no-todo</code> to non-
<code>nil</code>. If you want to record a note along with the timestamp,
use<sup><a id="fnr.50" name="fnr.50" class="footref" href="#fn.50">50</a></sup>
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-log-done 'note)
</pre>
</div>

<p>
You will then be prompted for a note, and that note will be stored
below the entry with a ‘Closing Note' heading.
</p>

<p>
In the timeline (see <a href="#Timeline">Timeline</a>) and in the agenda (see <a href="#Weekly_daily-agenda">Weekly/daily
agenda</a>), you can then use the l key to display the TODO items with
a ‘CLOSED' timestamp on each day, giving you an overview of what
has been done.
</p>
</div>
</div>

<div id="outline-container-sec-5-3-2" class="outline-4">
<h4 id="sec-5-3-2">5.3.2 Tracking TODO state changes                                 <a id="Tracking-TODO-state-changes" name="Tracking-TODO-state-changes"></a></h4>
<div class="outline-text-4" id="text-5-3-2">
<p>
When TODO keywords are used as workflow states (see <a href="#Workflow-states">Workflow
states</a>), you might want to keep track of when a state change
occurred and maybe take a note about this change.  You can either
record just a timestamp, or a time-stamped note for a
change. These records will be inserted after the headline as an
itemized list, newest first<sup><a id="fnr.51" name="fnr.51" class="footref" href="#fn.51">51</a></sup>. When taking a lot of
notes, you might want to get the notes out of the way into a
drawer (see <a href="#Drawers">Drawers</a>). Customize <code>org-log-into-drawer</code> to get this
behavior &#x2013; the recommended drawer for this is called
<code>LOGBOOK</code> <sup><a id="fnr.52" name="fnr.52" class="footref" href="#fn.52">52</a></sup>. You can also overrule the setting of this
variable for a subtree by setting a <code>LOG_INTO_DRAWER</code> property.
</p>

<p>
Since it is normally too much to record a note for every state,
Org mode expects configuration on a per-keyword basis for
this. This is achieved by adding special markers ‘!' (for a
timestamp) or ‘@' (for a note with timestamp) in parentheses after
each keyword. For example, with the setting
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-todo-keywords
  '((sequence "TODO(t)" "WAIT(w@/!)" "|" "DONE(d!)" "CANCELED(c@)")))
</pre>
</div>

<p>
To record a timestamp without a note for TODO keywords configured
with ‘@', just type <b><i>C-c C-c</i></b> to enter a blank note when
prompted.
</p>

<p>
You not only define global TODO keywords and fast access keys, but
also request that a time is recorded when the entry is set to
DONE<sup><a id="fnr.53" name="fnr.53" class="footref" href="#fn.53">53</a></sup>, and that a note is recorded when switching to
WAIT or CANCELED. The setting for WAIT is even more special: the
‘!'  after the slash means that in addition to the note taken when
entering the state, a timestamp should be recorded when <i>leaving</i>
the WAIT state, if and only if the <i>target</i> state does not
configure logging for entering it. So it has no effect when
switching from WAIT to DONE, because DONE is configured to record
a timestamp only. But when switching from WAIT back to TODO, the
‘/!' in the WAIT setting now triggers a timestamp even though TODO
has no logging configured.
</p>

<p>
You can use the exact same syntax for setting logging preferences local
to a buffer:
</p>

<pre class="example">
#+TODO: TODO(t) WAIT(w@/!) | DONE(d!) CANCELED(c@)
</pre>

<p>
In order to define logging settings that are local to a subtree or
a single item, define a LOGGING property in this entry. Any
non-empty LOGGING property resets all logging settings to
<code>nil</code>. You may then turn on logging for this specific tree using
STARTUP keywords like <code>lognotedone</code> or <code>logrepeat</code>, as well as
adding state specific settings like <code>TODO(!)</code>. For example
</p>

<pre class="example">
* TODO Log each state with only a time
  :PROPERTIES:
  :LOGGING: TODO(!) WAIT(!) DONE(!) CANCELED(!)
  :END:
* TODO Only log when switching to WAIT, and when repeating
  :PROPERTIES:
  :LOGGING: WAIT(@) logrepeat
  :END:
* TODO No logging at all
  :PROPERTIES:
:LOGGING: nil
:END:
</pre>
</div>
</div>

<div id="outline-container-sec-5-3-3" class="outline-4">
<h4 id="sec-5-3-3">5.3.3 Tracking your habits                                        <a id="Tracking-your-habits" name="Tracking-your-habits"></a></h4>
<div class="outline-text-4" id="text-5-3-3">
<p>
Org has the ability to track the consistency of a special category
of TODOs, called “habits”. A habit has the following properties:
</p>

<ol class="org-ol">
<li>You have enabled the <code>habits</code> module by customizing
<code>org-modules</code>.
</li>

<li>The habit is a TODO item, with a TODO keyword representing an
open state.
</li>

<li>The property <code>STYLE</code> is set to the value <code>habit</code>.
</li>

<li>The TODO has a scheduled date, usually with a <code>.+</code> style
repeat interval. A <code>++</code> style may be appropriate for habits
with time constraints, e.g., must be done on weekends, or a
<code>+</code> style for an unusual habit that can have a backlog, e.g.,
weekly reports.
</li>

<li>The TODO may also have minimum and maximum ranges specified by
using the syntax ‘.+2d/3d', which says that you want to do the
task at least every three days, but at most every two days.
</li>

<li>You must also have state logging for the <code>DONE</code> state enabled
(see <a href="#Tracking-TODO-state-changes">Tracking TODO state changes</a>), in order for historical
data to be represented in the consistency graph.  If it is not
enabled it is not an error, but the consistency graphs will be
largely meaningless.
</li>
</ol>

<p>
To give you an idea of what the above rules look like in action,
here's an actual habit with some history:
</p>

<pre class="example">
** TODO Shave
   SCHEDULED: &lt;2009-10-17 Sat .+2d/4d&gt;
   :PROPERTIES:
   :STYLE:    habit
   :LAST_REPEAT: [2009-10-19 Mon 00:36]
   :END:
   - State "DONE"       from "TODO"       [2009-10-15 Thu]
   - State "DONE"       from "TODO"       [2009-10-12 Mon]
   - State "DONE"       from "TODO"       [2009-10-10 Sat]
   - State "DONE"       from "TODO"       [2009-10-04 Sun]
   - State "DONE"       from "TODO"       [2009-10-02 Fri]
   - State "DONE"       from "TODO"       [2009-09-29 Tue]
   - State "DONE"       from "TODO"       [2009-09-25 Fri]
   - State "DONE"       from "TODO"       [2009-09-19 Sat]
   - State "DONE"       from "TODO"       [2009-09-16 Wed]
   - State "DONE"       from "TODO"       [2009-09-12 Sat]
</pre>

<p>
What this habit says is: I want to shave at most every 2 days
(given by the <code>SCHEDULED</code> date and repeat interval) and at least
every 4 days. If today is the 15th, then the habit first appears
in the agenda on Oct 17, after the minimum of 2 days has elapsed,
and will appear overdue on Oct 19, after four days have elapsed.
</p>

<p>
What's really useful about habits is that they are displayed along with
a consistency graph, to show how consistent you've been at getting that
task done in the past. This graph shows every day that the task was done
over the past three weeks, with colors for each day. The colors used
are:
</p>

<dl class="org-dl">
<dt> <code>Blue</code> </dt><dd>       If the task wasn't to be done yet on that day.
</dd>

<dt> <code>Green</code> </dt><dd>       If the task could have been done on that day.
</dd>

<dt> <code>Yellow</code> </dt><dd>       If the task was going to be overdue the next day.
</dd>

<dt> <code>Red</code> </dt><dd>       If the task was overdue on that day.
</dd>
</dl>

<p>
In addition to coloring each day, the day is also marked with an
asterisk if the task was actually done that day, and an
exclamation mark to show where the current day falls in the graph.
</p>

<p>
There are several configuration variables that can be used to
change the way habits are displayed in the agenda.
</p>

<dl class="org-dl">
<dt> <code>org-habit-graph-column</code> </dt><dd>       The buffer column at which the consistency graph should be
drawn. This will overwrite any text in that column, so it is a
good idea to keep your habits' titles brief and to the point.
</dd>

<dt> <code>org-habit-preceding-days</code> </dt><dd>       The amount of history, in days before today, to appear in
consistency graphs.
</dd>

<dt> <code>org-habit-following-days</code> </dt><dd>       The number of days after today that will appear in consistency
graphs.
</dd>

<dt> <code>org-habit-show-habits-only-for-today</code> </dt><dd>       If non-=nil=, only show habits in today's agenda view. This is
set to true by default.
</dd>
</dl>

<p>
Lastly, pressing K in the agenda buffer will cause habits to
temporarily be disabled and they won't appear at all. Press K
again to bring them back. They are also subject to tag filtering,
if you have habits which should only be done in certain contexts,
for example.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4">5.4 Priorities                                                     <a id="Priorities" name="Priorities"></a></h3>
<div class="outline-text-3" id="text-5-4">
<p>
If you use Org mode extensively, you may end up with enough TODO
items that it starts to make sense to prioritize them. Prioritizing
can be done by placing a <i>priority cookie</i> into the headline of a
TODO item, like this
</p>

<pre class="example">
*** TODO [#A] Write letter to Sam Fortune
</pre>

<p>
By default, Org mode supports three priorities: ‘A', ‘B', and
‘C'. ‘A' is the highest priority. An entry without a cookie is
treated just like priority ‘B'. Priorities make a difference only
for sorting in the agenda (see <a href="#Weekly_daily-agenda">Weekly/daily agenda</a>); outside the
agenda, they have no inherent meaning to Org mode. The cookies can
be highlighted with special faces by customizing
<code>org-priority-faces</code>.
</p>

<p>
Priorities can be attached to any outline node; they do not need to
be TODO items.
</p>

<dl class="org-dl">
<dt> <b>/C-c ,/</b> </dt><dd>      Set the priority of the current headline (<code>org-priority</code>).  The
command prompts for a priority character ‘A', ‘B' or ‘C'. When
you press <code>SPC</code> instead, the priority cookie is removed from the
headline. The priorities can also be changed “remotely” from the
timeline and agenda buffer with the , command (see <a href="#Agenda-commands">Agenda
commands</a>).
</dd>

<dt> (no term) </dt><dd><b><i>S-up</i></b> (<code>org-priority-up</code>)
</dd>
<dt> <b><i>S-down</i></b> (<code>org-priority-down</code>) </dt><dd>      Increase/decrease priority of current headline<sup><a id="fnr.54" name="fnr.54" class="footref" href="#fn.54">54</a></sup>. Note
that these keys are also used to modify timestamps (see <a href="#Creating-timestamps">Creating
timestamps</a>). See also <a href="#Conflicts">Conflicts</a>, for a discussion of the
interaction with <code>shift-selection-mode</code>.
</dd>
</dl>

<p>
You can change the range of allowed priorities by setting the
options <code>org-highest-priority</code>, <code>org-lowest-priority</code>, and
<code>org-default-priority</code>. For an individual buffer, you may set these
values (highest, lowest, default) like this (please make sure that
the highest priority is earlier in the alphabet than the lowest
priority):
</p>

<pre class="example">
#+PRIORITIES: A C B
</pre>
</div>
</div>

<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5">5.5 Breaking tasks down into subtasks                              <a id="Breaking-down-tasks" name="Breaking-down-tasks"></a></h3>
<div class="outline-text-3" id="text-5-5">
<p>
It is often advisable to break down large tasks into smaller,
manageable subtasks. You can do this by creating an outline tree
below a TODO item, with detailed subtasks on the
tree<sup><a id="fnr.55" name="fnr.55" class="footref" href="#fn.55">55</a></sup>. To keep the overview over the fraction of subtasks
that are already completed, insert either <code>[/]</code> or <code>[%]</code> anywhere
in the headline. These cookies will be updated each time the TODO
status of a child changes, or when pressing <b><i>C-c C-c</i></b> on the
cookie. For example:
</p>

<pre class="example">
* Organize Party [33%]
** TODO Call people [1/2]
*** TODO Peter
*** DONE Sarah
** TODO Buy food
** DONE Talk to neighbor
</pre>

<p>
If a heading has both checkboxes and TODO children below it, the
meaning of the statistics cookie become ambiguous. Set the property
<code>COOKIE_DATA</code> to either ‘checkbox' or ‘todo' to resolve this issue.
</p>

<p>
If you would like to have the statistics cookie count any TODO
entries in the subtree (not just direct children), configure
<code>org-hierarchical-todo-statistics</code>. To do this for a single
subtree, include the word ‘recursive' into the value of the
<code>COOKIE_DATA</code> property.
</p>

<pre class="example">
* Parent capturing statistics [2/20]
  :PROPERTIES:
 :COOKIE_DATA: todo recursive
 :END:
</pre>

<p>
If you would like a TODO entry to automatically change to DONE when
all children are done, you can use the following setup:
</p>

<pre class="example">
(defun org-summary-todo (n-done n-not-done)
  "Switch entry to DONE when all subentries are done, to TODO otherwise."
  (let (org-log-done org-log-states)   ; turn off logging
    (org-todo (if (= n-not-done 0) "DONE" "TODO"))))

(add-hook 'org-after-todo-statistics-hook 'org-summary-todo)
</pre>

<p>
Another possibility is the use of checkboxes to identify (a
hierarchy of) a large number of subtasks (see <a href="#Checkboxes">Checkboxes</a>).
</p>
</div>
</div>

<div id="outline-container-sec-5-6" class="outline-3">
<h3 id="sec-5-6">5.6 Checkboxes                                                     <a id="Checkboxes" name="Checkboxes"></a></h3>
<div class="outline-text-3" id="text-5-6">
<p>
Every item in a plain list<sup><a id="fnr.56" name="fnr.56" class="footref" href="#fn.56">56</a></sup> (see <a href="#Plain-lists">Plain lists</a>) can be made
into a checkbox by starting it with the string ‘[ ]'. This feature
is similar to TODO items (see <a href="#TODO-items">TODO items</a>), but is more
lightweight. Checkboxes are not included in the global TODO list,
so they are often great to split a task into a number of simple
steps. Or you can use them in a shopping list. To toggle a
checkbox, use <b><i>C-c C-c</i></b>, or use the mouse (thanks to Piotr
Zielinski's org-mouse.el).
</p>

<p>
Here is an example of a checkbox list.
</p>

<pre class="example">
* TODO Organize party [2/4]
  - [-] call people [1/3]
    - [ ] Peter
    - [X] Sarah
    - [ ] Sam
  - [X] order food
  - [ ] think about what music to play
  - [X] talk to the neighbors
</pre>

<p>
Checkboxes work hierarchically, so if a checkbox item has children
that are checkboxes, toggling one of the children checkboxes will
make the parent checkbox reflect if none, some, or all of the
children are checked.
</p>

<p>
The ‘<code>[2/4]</code>' and ‘<code>[1/3]</code>' in the first and second line are cookies
indicating how many checkboxes present in this entry have been
checked off, and the total number of checkboxes present. This can
give you an idea on how many checkboxes remain, even without
opening a folded entry.  The cookies can be placed into a headline
or into (the first line of) a plain list item. Each cookie covers
checkboxes of direct children structurally below the headline/item
on which the cookie appears<sup><a id="fnr.57" name="fnr.57" class="footref" href="#fn.57">57</a></sup>. You have to insert the
cookie yourself by typing either ‘<code>[/]</code>' or ‘<code>[%]</code>'. With ‘<code>[/]</code>' you get
an ‘n out of m' result, as in the examples above. With ‘<code>[%]</code>' you
get information about the percentage of checkboxes checked (in the
above example, this would be ‘<code>[50%]</code>' and ‘<code>[33%]</code>', respectively). In
a headline, a cookie can count either checkboxes below the heading
or TODO states of children, and it will display whatever was
changed last. Set the property <code>COOKIE_DATA</code> to either ‘checkbox'
or ‘todo' to resolve this issue.
</p>

<p>
If the current outline node has an <code>ORDERED</code> property, checkboxes
must be checked off in sequence, and an error will be thrown if you
try to check off a box while there are unchecked boxes above it.
</p>

<p>
The following commands work with checkboxes:
</p>

<ul class="org-ul">
<li><b><i>C-c C-c</i></b> (<code>org-toggle-checkbox</code>)

<p>
Toggle checkbox status or (with prefix arg) checkbox presence at
point.  With a single prefix argument, add an empty checkbox or
remove the current one<sup><a id="fnr.58" name="fnr.58" class="footref" href="#fn.58">58</a></sup>. With a double prefix
argument, set it to ‘[-]', which is considered to be an
intermediate state.
</p>
</li>

<li><b><i>C-c C-x C-b</i></b> (<code>org-toggle-checkbox</code>)

<p>
Toggle checkbox status or (with prefix arg) checkbox presence at
point.  With double prefix argument, set it to ‘[-]', which is
considered to be an intermediate state.
</p>

<ul class="org-ul">
<li>If there is an active region, toggle the first checkbox in
the region and set all remaining boxes to the same status as
the first. With a prefix arg, add or remove the checkbox for
all items in the region.
</li>

<li>If the cursor is in a headline, toggle checkboxes in the
region between this headline and the next (so <i>not</i> the
entire subtree).
</li>

<li>If there is no active region, just toggle the checkbox at
point.
</li>
</ul>
</li>

<li><b><i>M-S-RET</i></b> (<code>org-insert-todo-heading</code>)

<p>
Insert a new item with a checkbox. This works only if the cursor
is already in a plain list item (see <a href="#Plain-lists">Plain lists</a>).
</p>
</li>

<li><b><i>C-c C-x o</i></b> (<code>org-toggle-ordered-property</code>)

<p>
Toggle the <code>ORDERED</code> property of the entry, to toggle if
checkboxes must be checked off in sequence. A property is used
for this behavior because this should be local to the current
entry, not inherited like a tag.  However, if you would like to
<i>track</i> the value of this property with a tag for better
visibility, customize <code>org-track-ordered-property-with-tag</code>.
</p>
</li>

<li><b><i>C-c #</i></b> (<code>org-update-statistics-cookies</code>)

<p>
Update the statistics cookie in the current outline entry. When
called with a <b><i>C-u</i></b> prefix, update the entire file. Checkbox
statistic cookies are updated automatically if you toggle
checkboxes with <b><i>C-c C-c</i></b> and make new ones with
<b><i>M-S-RET</i></b>. TODO statistics cookies update when changing TODO
states. If you delete boxes/entries or add/change them by hand,
use this command to get things back into sync.
</p>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">6 Tags                                                              <a id="Tags" name="Tags"></a></h2>
<div class="outline-text-2" id="text-6">
<p>
An excellent way to implement labels and contexts for
cross-correlating information is to assign <i>tags</i> to headlines. Org
mode has extensive support for tags.
</p>

<p>
Every headline can contain a list of tags; they occur at the end of
the headline. Tags are normal words containing letters, numbers,
‘<sub>'</sub>, and ‘@'. Tags must be preceded and followed by a single colon,
e.g., ‘:work:'. Several tags can be specified, as in
‘:work:urgent:'. Tags will by default be in bold face with the same
color as the headline. You may specify special faces for specific
tags using the option <code>org-tag-faces</code>, in much the same way as you
can for TODO keywords (see <a href="#Faces-for-TODO-keywords">Faces for TODO keywords</a>).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Tag-inheritance">Tag inheritance</a>:</td>
<td class="left">Tags use the tree structure of the outline</td>
</tr>

<tr>
<td class="left">• <a href="#Setting-tags">Setting tags</a>:</td>
<td class="left">How to assign tags to a headline</td>
</tr>

<tr>
<td class="left">• <a href="#Tag-hierarchy">Tag hierarchy</a>:</td>
<td class="left">Create a hierarchy of tags</td>
</tr>

<tr>
<td class="left">• <a href="#Tag-searches">Tag searches</a>:</td>
<td class="left">Searching for combinations of tags</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">6.1 Tag inheritance                                                <a id="Tag-inheritance" name="Tag-inheritance"></a></h3>
<div class="outline-text-3" id="text-6-1">
<p>
<i>Tags</i> make use of the hierarchical structure of outline trees. If
a heading has a certain tag, all subheadings will inherit the tag
as well.  For example, in the list
</p>

<pre class="example">
* Meeting with the French group      :work:
** Summary by Frank                  :boss:notes:
*** TODO Prepare slides for him      :action:
</pre>

<p>
the final heading will have the tags ‘:work:', ‘:boss:', ‘:notes:',
and ‘:action:' even though the final heading is not explicitly
marked with those tags. You can also set tags that all entries in a
file should inherit just as if these tags were defined in a
hypothetical level zero that surrounds the entire file. Use a line
like this<sup><a id="fnr.59" name="fnr.59" class="footref" href="#fn.59">59</a></sup>:
</p>

<pre class="example">
#+FILETAGS: :Peter:Boss:Secret:
</pre>

<p>
To limit tag inheritance to specific tags, use
<code>org-tags-exclude-from-inheritance</code>. To turn it off entirely, use
<code>org-use-tag-inheritance</code>.
</p>

<p>
When a headline matches during a tags search while tag inheritance
is turned on, all the sublevels in the same tree will (for a simple
match form) match as well<sup><a id="fnr.60" name="fnr.60" class="footref" href="#fn.60">60</a></sup>. The list of matches may then
become very long. If you only want to see the first tags match in a
subtree, configure <code>org-tags-match-list-sublevels</code> (not
recommended).
</p>

<p>
Tag inheritance is relevant when the agenda search tries to match a
tag, either in the <code>tags</code> or <code>tags-todo</code> agenda types. In other
agenda types, <code>org-use-tag-inheritance</code> has no effect. Still, you
may want to have your tags correctly set in the agenda, so that tag
filtering works fine, with inherited tags. Set
<code>org-agenda-use-tag-inheritance</code> to control this: the default value
includes all agenda types, but setting this to <code>nil</code> can really
speed up agenda generation.
</p>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">6.2 Setting tags                                                   <a id="Setting-tags" name="Setting-tags"></a></h3>
<div class="outline-text-3" id="text-6-2">
<p>
Tags can simply be typed into the buffer at the end of a
headline. After a colon, M-TAB offers completion on tags. There is
also a special command for inserting tags:
</p>

<ul class="org-ul">
<li><b><i>C-c C-q</i></b> (<code>org-set-tags-command</code>)

<p>
Enter new tags for the current headline. Org mode will either
offer completion or a special single-key interface for setting
tags, see below. After pressing <code>RET</code>, the tags will be inserted
and aligned to <code>org-tags-column</code>. When called with a C-u prefix,
all tags in the current buffer will be aligned to that column,
just to make things look nice. TAGS are automatically realigned
after promotion, demotion, and TODO state changes (see <a href="#TODO-basics">TODO
basics</a>).
</p>
</li>

<li><b><i>C-c C-c</i></b> (<code>org-set-tags-command</code>)

<p>
When the cursor is in a headline, this does the same as <b><i>C-c
C-q</i></b>.
</p>
</li>
</ul>

<p>
Org supports tag insertion based on a <i>list of tags</i>. By default
this list is constructed dynamically, containing all tags currently
used in the buffer. You may also globally specify a hard list of
tags with the variable <code>org-tag-alist</code>. Finally you can set the
default tags for a given file with lines like
</p>

<pre class="example">
#+TAGS: @work @home @tennisclub
#+TAGS: laptop car pc sailboat
</pre>

<p>
If you have globally defined your preferred set of tags using the
variable <code>org-tag-alist</code>, but would like to use a dynamic tag list
in a specific file, add an empty TAGS option line to that file:
</p>

<pre class="example">
#+TAGS:
</pre>

<p>
If you have a preferred set of tags that you would like to use in
every file, in addition to those defined on a per-file basis by
TAGS option lines, then you may specify a list of tags with the
variable <code>org-tag-persistent-alist</code>. You may turn this off on a
per-file basis by adding a STARTUP option line to that file:
</p>

<pre class="example">
#+STARTUP: noptag
</pre>

<p>
By default Org mode uses the standard minibuffer completion
facilities for entering tags. However, it also implements another,
quicker, tag selection method called <i>fast tag selection</i>. This
allows you to select and deselect tags with just a single key
press. For this to work well you should assign unique letters to
most of your commonly used tags. You can do this globally by
configuring the variable <code>org-tag-alist</code> in your .emacs file. For
example, you may find the need to tag many items in different files
with ‘:@home:'. In this case you can set something like:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-tag-alist '(("@work" . ?w) ("@home" . ?h) ("laptop" . ?l)))
</pre>
</div>

<p>
If the tag is only relevant to the file you are working on, then
you can instead set the TAGS option line as:
</p>

<pre class="example">
#+TAGS: @work(w)  @home(h)  @tennisclub(t)  laptop(l)  pc(p)
</pre>

<p>
The tags interface will show the available tags in a splash
window. If you want to start a new line after a specific tag,
insert ‘\n' into the tag list
</p>

<pre class="example">
#+TAGS: @work(w)  @home(h)  @tennisclub(t) \n laptop(l)  pc(p)
</pre>

<p>
or write them in two lines:
</p>

<pre class="example">
#+TAGS: @work(w)  @home(h)  @tennisclub(t)
#+TAGS: laptop(l)  pc(p)
</pre>

<p>
You can also group together tags that are mutually exclusive by
using braces, as in:
</p>

<pre class="example">
#+TAGS: { @work(w)  @home(h)  @tennisclub(t) }  laptop(l)  pc(p)
</pre>

<p>
you indicate that at most one of ‘@work', ‘@home', and
‘@tennisclub' should be selected. Multiple such groups are allowed.
</p>

<p>
Don't forget to press <b><i>C-c C-c</i></b> with the cursor in one of these
lines to activate any changes.
</p>

<p>
To set these mutually exclusive groups in the variable
<code>org-tag-alist</code>, you must use the dummy tags <code>:startgroup</code> and
<code>:endgroup</code> instead of the braces. Similarly, you can use
<code>:newline</code> to indicate a line break. The previous example would be
set globally by the following configuration:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-tag-alist '((:startgroup . nil)
                      ("@work" . ?w) ("@home" . ?h)
                      ("@tennisclub" . ?t)
                      (:endgroup . nil)
                      ("laptop" . ?l) ("pc" . ?p)))
</pre>
</div>

<p>
If at least one tag has a selection key then pressing <b><i>C-c C-c</i></b>
will automatically present you with a special interface, listing
inherited tags, the tags of the current headline, and a list of all
valid tags with corresponding keys<sup><a id="fnr.61" name="fnr.61" class="footref" href="#fn.61">61</a></sup>. In this interface,
you can use the following keys:
</p>

<dl class="org-dl">
<dt> <b><i>a-z&#x2026;</i></b> </dt><dd>      Pressing keys assigned to tags will add or remove them from the
list of tags in the current line. Selecting a tag in a group of
mutually exclusive tags will turn off any other tags from that
group.
</dd>

<dt> <b><i>TAB</i></b> </dt><dd>      Enter a tag in the minibuffer, even if the tag is not in the
predefined list. You will be able to complete on all tags
present in the buffer. You can also add several tags: just
separate them with a comma.
</dd>

<dt> <b><i>SPC</i></b> </dt><dd>      Clear all tags for this line.
</dd>

<dt> <b><i>RET</i></b> </dt><dd>      Accept the modified set.
</dd>

<dt> <b><i>C-g</i></b> </dt><dd>      Abort without installing changes.
</dd>

<dt> <b><i>q</i></b> </dt><dd>      If q is not assigned to a tag, it aborts like <b><i>C-g</i></b>.
</dd>

<dt> <b><i>!</i></b> </dt><dd>      Turn off groups of mutually exclusive tags. Use this to (as an
exception) assign several tags from such a group.
</dd>

<dt> <b><i>C-c</i></b> </dt><dd>      Toggle auto-exit after the next change (see below). If you are
using expert mode, the first <b><i>C-c</i></b> will display the selection
window.
</dd>
</dl>

<p>
This method lets you assign tags to a headline with very few
keys. With the above setup, you could clear the current tags and
set ‘@home', ‘laptop' and ‘pc' tags with just the following keys:
<b><i>C-c C-c SPC h l p RET</i></b>. Switching from ‘@home' to ‘@work' would
be done with <b><i>C-c C-c w RET</i></b> or alternatively with <b><i>C-c C-c C-c
w</i></b>. Adding the non-predefined tag ‘Sarah' could be done with <b><i>C-c
C-c TAB S a r a h RET RET</i></b>.
</p>

<p>
If you find that most of the time you need only a single key press
to modify your list of tags, set
<code>org-fast-tag-selection-single-key</code>. Then you no longer have to
press <code>RET</code> to exit fast tag selection &#x2013; it will immediately exit
after the first change. If you then occasionally need more keys,
press <b><i>C-c</i></b> to turn off auto-exit for the current tag selection
process (in effect: start selection with <b><i>C-c C-c C-c</i></b> instead of
<b><i>C-c C-c</i></b>). If you set the variable to the value <code>expert</code>, the
special window is not even shown for single-key tag selection, it
comes up only when you press an extra <b><i>C-c</i></b>.
</p>
</div>
</div>

<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3">6.3 Tag hierarchy                                                  <a id="Tag-hierarchy" name="Tag-hierarchy"></a></h3>
<div class="outline-text-3" id="text-6-3">
<p>
Tags can be defined in hierarchies. A tag can be defined as a
<i>group tag</i> for a set of other tags. The group tag can be seen as
the “broader term” for its set of tags. Defining multiple <i>group
tags</i> and nesting them creates a tag hierarchy.
</p>

<p>
One use-case is to create a taxonomy of terms (tags) that can be
used to classify nodes in a document or set of documents.
</p>

<p>
When you search for a group tag, it will return matches for all
members in the group and its subgroup. In an agenda view, filtering
by a group tag will display or hide headlines tagged with at least
one of the members of the group or any of its subgroups. This makes
tag searches and filters even more flexible.
</p>

<p>
You can set group tags by using brackets and inserting a colon
between the group tag and its related tags&#x2014;beware that all
whitespaces are mandatory so that Org can parse this line
correctly:
</p>

<pre class="example">
#+TAGS: [ GTD : Control Persp ]
</pre>

<p>
In this example, ‘GTD' is the <i>group tag</i> and it is related to two
other tags: ‘Control', ‘Persp'. Defining ‘Control' and ‘Persp' as
group tags creates an hierarchy of tags:
</p>

<pre class="example">
#+TAGS: [ Control : Context Task ]
#+TAGS: [ Persp : Vision Goal AOF Project ]
</pre>

<p>
That can conceptually be seen as a hierarchy of tags:
</p>

<pre class="example">
- GTD
  - Persp
    - Vision
    - Goal
    - AOF
    - Project
  - Control
    - Context
    - Task
</pre>

<p>
You can use the <code>:startgrouptag</code>, <code>:grouptags</code> and <code>:endgrouptag</code>
keyword directly when setting <code>org-tag-alist</code> directly:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-tag-alist '((:startgrouptag)
                      ("GTD")
                      (:grouptags)
                      ("Control")
                      ("Persp")
                      (:endgrouptag)
                      (:startgrouptag)
                      ("Control")
                      (:grouptags)
                      ("Context")
                      ("Task")
                      (:endgrouptag)))
</pre>
</div>

<p>
The tags in a group can be mutually exclusive if using the same
group syntax as is used for grouping mutually exclusive tags
together; using curly brackets.
</p>

<pre class="example">
#+TAGS: { Context : @Home @Work @Call }
</pre>

<p>
When setting <code>org-tag-alist</code> you can use <code>:startgroup</code> &amp;
<code>:endgroup</code> instead of <code>:startgrouptag</code> &amp; <code>:endgrouptag</code> to make
the tags mutually exclusive.
</p>

<p>
Furthermore; The members of a <i>group tag</i> can also be regular
expression, creating the possibility of more dynamic and rule-based
tag-structure. The regular expressions in the group must be marked
up within { }. Example use, to expand on the example given above:
</p>

<pre class="example">
#+TAGS: [ Vision : {V.+} ]
#+TAGS: [ Goal : {G.+} ]
#+TAGS: [ AOF : {AOF.+} ]
#+TAGS: [ Project : {P.+} ]
</pre>

<p>
Searching for the tag ‘Project' will now list all tags also
including regular expression matches for ‘P@.+'. Similar for
tag-searches on ‘Vision', ‘Goal' and ‘AOF'. This can be good for
example if tags for a certain project is tagged with a common
project-identifier, i.e.  ‘P@2014<sub>OrgTags'</sub>.
</p>

<p>
If you want to ignore group tags temporarily, toggle group tags
support with <code>org-toggle-tags-groups</code>, bound to <b><i>C-c C-x q</i></b>. If
you want to disable tag groups completely, set <code>org-group-tags</code> to
<code>nil</code>.
</p>
</div>
</div>

<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4">6.4 Tag searches                                                   <a id="Tag-searches" name="Tag-searches"></a></h3>
<div class="outline-text-3" id="text-6-4">
<p>
Once a system of tags has been set up, it can be used to collect
related information into special lists.
</p>

<ul class="org-ul">
<li><b><i>C-c / m</i></b> or <b>/C-c \ /</b> (<code>org-match-sparse-tree</code>)

<p>
Create a sparse tree with all headlines matching a
tags/property/TODO search. With a C-u prefix argument, ignore
headlines that are not a TODO line. See <a href="#Matching-tags-and-properties">Matching tags and
properties</a>.
</p>
</li>

<li><b><i>C-c a m</i></b> (<code>org-tags-view</code>)

<p>
Create a global list of tag matches from all agenda files. See
<a href="#Matching-tags-and-properties">Matching tags and properties</a>.
</p>
</li>

<li><b><i>C-c a M</i></b> (<code>org-tags-view</code>)

<p>
Create a global list of tag matches from all agenda files, but
check only TODO items and force checking subitems (see the
option <code>org-tags-match-list-sublevels</code>).
</p>
</li>
</ul>

<p>
These commands all prompt for a match string which allows basic
Boolean logic like ‘+boss+urgent-project1', to find entries with
tags ‘boss' and ‘urgent', but not ‘project1', or ‘Kathy|Sally' to
find entries which are tagged, like ‘Kathy' or ‘Sally'. The full
syntax of the search string is rich and allows also matching
against TODO keywords, entry levels and properties. For a complete
description with many examples, see <a href="#Matching-tags-and-properties">Matching tags and properties</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">7 Properties and columns                                            <a id="Properties-and-columns" name="Properties-and-columns"></a></h2>
<div class="outline-text-2" id="text-7">
<p>
A property is a key-value pair associated with an entry. Properties
can be set so they are associated with a single entry, with every
entry in a tree, or with every entry in an Org mode file.
</p>

<p>
There are two main applications for properties in Org mode. First,
properties are like tags, but with a value. Imagine maintaining a
file where you document bugs and plan releases for a piece of
software.  Instead of using tags like <code>:release_1:</code>, <code>:release_2:</code>,
you can use a property, say <code>:Release:</code>, that in different subtrees
has different values, such as <code>1.0</code> or <code>2.0</code>. Second, you can use
properties to implement (very basic) database capabilities in an Org
buffer. Imagine keeping track of your music CDs, where properties
could be things such as the album, artist, date of release, number
of tracks, and so on.
</p>

<p>
Properties can be conveniently edited and viewed in column view (see
<a href="#Column-view">Column view</a>).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Property-syntax">Property syntax</a>:</td>
<td class="left">How properties are spelled out</td>
</tr>

<tr>
<td class="left">• <a href="#Special-properties">Special properties</a>:</td>
<td class="left">Access to other Org mode features</td>
</tr>

<tr>
<td class="left">• <a href="#Property-searches">Property searches</a>:</td>
<td class="left">Matching property values</td>
</tr>

<tr>
<td class="left">• <a href="#Property-inheritance">Property inheritance</a>:</td>
<td class="left">Passing values down the tree</td>
</tr>

<tr>
<td class="left">• <a href="#Column-view">Column view</a>:</td>
<td class="left">Tabular viewing and editing</td>
</tr>

<tr>
<td class="left">• <a href="#Property-API">Property API</a>:</td>
<td class="left">Properties for Lisp programmers</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1">7.1 Property syntax                                                <a id="Property-syntax" name="Property-syntax"></a></h3>
<div class="outline-text-3" id="text-7-1">
<p>
Properties are key-value pairs. When they are associated with a
single entry or with a tree they need to be inserted into a special
drawer (see <a href="#Drawers">Drawers</a>) with the name <code>PROPERTIES</code>, which has to be
located right below a headline, and its planning line (see
<a href="#Deadlines-and-scheduling">Deadlines and scheduling</a>) when applicable. Each property is
specified on a single line, with the key (surrounded by colons)
first, and the value after it. Keys are case-insensitives. Here is
an example:
</p>

<pre class="example">
* CD collection
** Classic
*** Goldberg Variations
    :PROPERTIES:
   :Title:     Goldberg Variations
   :Composer:  J.S. Bach
   :Artist:    Glen Gould
   :Publisher: Deutsche Grammophon
   :NDisks:    1
   :END:
</pre>

<p>
Depending on the value of <code>org-use-property-inheritance</code>, a
property set this way will either be associated with a single
entry, or the subtree defined by the entry, see <a href="#Property-inheritance">Property
inheritance</a>.
</p>

<p>
You may define the allowed values for a particular property ‘:Xyz:'
by setting a property ‘:Xyz\<sub>ALL</sub>:'. This special property is
<i>inherited</i>, so if you set it in a level 1 entry, it will apply to
the entire tree.  When allowed values are defined, setting the
corresponding property becomes easier and is less prone to typing
errors. For the example with the CD collection, we can predefine
publishers and the number of disks in a box like this:
</p>

<pre class="example">
* CD collection
  :PROPERTIES:
 :NDisks_ALL:  1 2 3 4
 :Publisher_ALL: "Deutsche Grammophon" Philips EMI
 :END:
</pre>

<p>
If you want to set properties that can be inherited by any entry in
a file, use a line like
</p>

<pre class="example">
#+PROPERTY: NDisks_ALL 1 2 3 4
</pre>

<p>
Contrary to properties set from a special drawer, you have to
refresh the buffer with <b><i>C-c C-c</i></b> to activate this change.
</p>

<p>
If you want to add to the value of an existing property, append a
<code>+</code> to the property name. The following results in the property
<code>var</code> having the value “foo=1 bar=2”.
</p>

<pre class="example">
#+PROPERTY: var  foo=1
#+PROPERTY: var+ bar=2
</pre>

<p>
It is also possible to add to the values of inherited
properties. The following results in the <code>genres</code> property having
the value “Classic Baroque” under the <code>Goldberg Variations</code>
subtree.
</p>

<pre class="example">
* CD collection
** Classic
    :PROPERTIES:
    :GENRES: Classic
    :END:
*** Goldberg Variations
    :PROPERTIES:
    :Title:     Goldberg Variations
    :Composer:  J.S. Bach
    :Artist:    Glen Gould
    :Publisher: Deutsche Grammophon
    :NDisks:    1
    :GENRES+:   Baroque
    :END:
</pre>

<p>
Note that a property can only have one entry per Drawer.
</p>

<p>
Property values set with the global variable
<code>org-global-properties</code> can be inherited by all entries in all Org
files.
</p>

<p>
The following commands help to work with properties:
</p>

<ul class="org-ul">
<li><b><i>M-TAB</i></b> (<code>pcomplete</code>)

<p>
After an initial colon in a line, complete property keys. All
keys used in the current file will be offered as possible
completions.
</p>
</li>

<li><b><i>C-c C-x p</i></b> (<code>org-set-property</code>)

<p>
Set a property. This prompts for a property name and a value. If
necessary, the property drawer is created as well.
</p>
</li>

<li><b><i>C-u M-x org-insert-drawer RET</i></b>

<p>
Insert a property drawer into the current entry. The drawer will
be inserted early in the entry, but after the lines with
planning information like deadlines.
</p>
</li>

<li><b><i>C-c C-c</i></b> (<code>org-property-action</code>)

<p>
With the cursor in a property drawer, this executes property
commands.
</p>
</li>

<li><b><i>C-c C-c s</i></b> (<code>org-set-property</code>)

<p>
Set a property in the current entry. Both the property and the
value can be inserted using completion.
</p>
</li>

<li><b><i>S-right</i></b> (<code>org-property-next-allowed-value</code>)
</li>
<li><b><i>S-left</i></b> (<code>org-property-previous-allowed-value</code>)

<p>
Switch property at point to the next/previous allowed value.
</p>
</li>

<li><b><i>C-c C-c d</i></b> (<code>org-delete-property</code>)

<p>
Remove a property from the current entry.
</p>
</li>

<li><b><i>C-c C-c D</i></b> (<code>org-delete-property-globally</code>)

<p>
Globally remove a property, from all entries in the current
file.
</p>
</li>

<li><b><i>C-c C-c c</i></b> (<code>org-compute-property-at-point</code>)

<p>
Compute the property at point, using the operator and scope from
the nearest column format definition.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2">7.2 Special properties                                             <a id="Special-properties" name="Special-properties"></a></h3>
<div class="outline-text-3" id="text-7-2">
<p>
Special properties provide an alternative access method to Org mode
features, like the TODO state or the priority of an entry,
discussed in the previous chapters. This interface exists so that
you can include these states in a column view (see <a href="#Column-view">Column view</a>), or
to use them in queries. The following property names are special
and should not be used as keys in the properties drawer:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>ALLTAGS</code></td>
<td class="left">All tags, including inherited ones.</td>
</tr>

<tr>
<td class="left"><code>BLOCKED</code></td>
<td class="left">"t" if task is currently blocked by children or siblings.</td>
</tr>

<tr>
<td class="left"><code>CLOCKSUM</code></td>
<td class="left">The sum of CLOCK intervals in the subtree.  <code>org-clock-sum</code> must be run first to compute the values in the current buffer.</td>
</tr>

<tr>
<td class="left"><code>CLOCKSUM_T</code></td>
<td class="left">The sum of CLOCK intervals in the subtree for today. <code>org-clock-sum-today</code> must be run first to compute the values in the current buffer.</td>
</tr>

<tr>
<td class="left"><code>CLOSED</code></td>
<td class="left">When was this entry closed?</td>
</tr>

<tr>
<td class="left"><code>DEADLINE</code></td>
<td class="left">The deadline time string, without the angular brackets.</td>
</tr>

<tr>
<td class="left"><code>FILE</code></td>
<td class="left">The filename the entry is located in.</td>
</tr>

<tr>
<td class="left"><code>ITEM</code></td>
<td class="left">The headline of the entry, with stars.</td>
</tr>

<tr>
<td class="left"><code>PRIORITY</code></td>
<td class="left">The priority of the entry, a string with a single letter.</td>
</tr>

<tr>
<td class="left"><code>SCHEDULED</code></td>
<td class="left">The scheduling timestamp, without the angular brackets.</td>
</tr>

<tr>
<td class="left"><code>TAGS</code></td>
<td class="left">The tags defined directly in the headline.</td>
</tr>

<tr>
<td class="left"><code>TIMESTAMP</code></td>
<td class="left">The first keyword-less timestamp in the entry.</td>
</tr>

<tr>
<td class="left"><code>TIMESTAMP_IA</code></td>
<td class="left">The first inactive timestamp in the entry.</td>
</tr>

<tr>
<td class="left"><code>TODO</code></td>
<td class="left">The TODO keyword of the entry.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3">7.3 Property searches                                              <a id="Property-searches" name="Property-searches"></a></h3>
<div class="outline-text-3" id="text-7-3">
<p>
To create sparse trees and special lists with selection based on
properties, the same commands are used as for tag searches (see <a href="#Tag-searches">Tag
searches</a>).
</p>

<ul class="org-ul">
<li><b><i>C-c / m</i></b> or <b>/C-c \ /</b> (<code>org-match-sparse-tree</code>)

<p>
Create a sparse tree with all matching entries. With a C-u prefix
argument, ignore headlines that are not a TODO line.
</p>
</li>

<li><b><i>C-c a m</i></b> (<code>org-tags-view</code>)

<p>
Create a global list of tag/property matches from all agenda
files. See <a href="#Matching-tags-and-properties">Matching tags and properties</a>.
</p>
</li>

<li><b><i>C-c a M</i></b> (<code>org-tags-view</code>)

<p>
Create a global list of tag matches from all agenda files, but
check only TODO items and force checking of subitems (see the
option <code>org-tags-match-list-sublevels</code>).
</p>
</li>
</ul>

<p>
The syntax for the search string is described in <a href="#Matching-tags-and-properties">Matching tags and
properties</a>.
</p>

<p>
There is also a special command for creating sparse trees based on
a single property:
</p>

<ul class="org-ul">
<li><b><i>C-c / p</i></b>

<p>
Create a sparse tree based on the value of a property. This
first prompts for the name of a property, and then for a
value. A sparse tree is created with all entries that define
this property with the given value. If you enclose the value in
curly braces, it is interpreted as a regular expression and
matched against the property values.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-4" class="outline-3">
<h3 id="sec-7-4">7.4 Property Inheritance                                           <a id="Property-inheritance" name="Property-inheritance"></a></h3>
<div class="outline-text-3" id="text-7-4">
<p>
The outline structure of Org mode documents lends itself to an
inheritance model of properties: if the parent in a tree has a
certain property, the children can inherit this property. Org mode
does not turn this on by default, because it can slow down property
searches significantly and is often not needed. However, if you
find inheritance useful, you can turn it on by setting the variable
<code>org-use-property-inheritance</code>. It may be set to <code>t</code> to make all
properties inherited from the parent, to a list of properties that
should be inherited, or to a regular expression that matches
inherited properties. If a property has the value <code>nil</code>, this is
interpreted as an explicit undefine of the property, so that
inheritance search will stop at this value and return <code>nil</code>.
</p>

<p>
Org mode has a few properties for which inheritance is hard-coded,
at least for the special applications for which they are used:
</p>

<dl class="org-dl">
<dt> <code>COLUMNS</code> </dt><dd>      The <code>:COLUMNS:</code> property defines the format of column view (see
<a href="#Column-view">Column view</a>). It is inherited in the sense that the level where
a <code>:COLUMNS:</code> property is defined is used as the starting point
for a column view table, independently of the location in the
subtree from where columns view is turned on.
</dd>

<dt> <code>CATEGORY</code> </dt><dd>      For agenda view, a category set through a <code>:CATEGORY:</code> property
applies to the entire subtree.
</dd>

<dt> <code>ARCHIVE</code> </dt><dd>      For archiving, the <code>:ARCHIVE:</code> property may define the archive
location for the entire subtree (see <a href="#Moving-subtrees">Moving subtrees</a>).
</dd>

<dt> <code>LOGGING</code> </dt><dd>      The LOGGING property may define logging settings for an entry or
a subtree (see <a href="#Tracking-TODO-state-changes">Tracking TODO state changes</a>).
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-7-5" class="outline-3">
<h3 id="sec-7-5">7.5 Column view                                                    <a id="Column-view" name="Column-view"></a></h3>
<div class="outline-text-3" id="text-7-5">
<p>
A great way to view and edit properties in an outline tree is
<i>column view</i>. In column view, each outline node is turned into a
table row.  Columns in this table provide access to properties of
the entries. Org mode implements columns by overlaying a tabular
structure over the headline of each item. While the headlines have
been turned into a table row, you can still change the visibility
of the outline tree. For example, you get a compact table by
switching to CONTENTS view (<b><i>S-TAB S-TAB</i></b>, or simply c while
column view is active), but you can still open, read, and edit the
entry below each headline. Or, you can switch to column view after
executing a sparse tree command and in this way get a table only
for the selected items. Column view also works in agenda buffers
(see <a href="#Agenda-views">Agenda views</a>) where queries have collected selected items,
possibly from a number of files.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Defining-columns">Defining columns</a>:</td>
<td class="left">The COLUMNS format property</td>
</tr>

<tr>
<td class="left">• <a href="#Using-column-view">Using column view</a>:</td>
<td class="left">How to create and use column view</td>
</tr>

<tr>
<td class="left">• <a href="#Capturing-column-view">Capturing column view</a>:</td>
<td class="left">A dynamic block for column view</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-7-5-1" class="outline-4">
<h4 id="sec-7-5-1">7.5.1 Defining columns                                            <a id="Defining-columns" name="Defining-columns"></a></h4>
<div class="outline-text-4" id="text-7-5-1">
<p>
Setting up a column view first requires defining the columns. This
is done by defining a column format line.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Scope-of-column-definitions">Scope of column definitions</a>:</td>
<td class="left">Where defined, where valid?</td>
</tr>

<tr>
<td class="left">• <a href="#Column-attributes">Column attributes</a>:</td>
<td class="left">Appearance and content of a column</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-7-5-1-1" class="outline-5">
<h5 id="sec-7-5-1-1">7.5.1.1 Scope of column definitions                              <a id="Scope-of-column-definitions" name="Scope-of-column-definitions"></a></h5>
<div class="outline-text-5" id="text-7-5-1-1">
<p>
To define a column format for an entire file, use a line like
</p>

<pre class="example">
#+COLUMNS: %25ITEM %TAGS %PRIORITY %TODO
</pre>

<p>
To specify a format that only applies to a specific tree, add a
<code>:COLUMNS:</code> property to the top node of that tree, for example:
</p>

<pre class="example">
** Top node for columns view
   :PROPERTIES:
 :COLUMNS: %25ITEM %TAGS %PRIORITY %TODO
 :END:
</pre>

<p>
If a <code>:COLUMNS:</code> property is present in an entry, it defines
columns for the entry itself, and for the entire subtree below
it. Since the column definition is part of the hierarchical
structure of the document, you can define columns on level 1 that
are general enough for all sublevels, and more specific columns
further down, when you edit a deeper part of the tree.
</p>
</div>
</div>

<div id="outline-container-sec-7-5-1-2" class="outline-5">
<h5 id="sec-7-5-1-2">7.5.1.2 Column attributes                                        <a id="Column-attributes" name="Column-attributes"></a></h5>
<div class="outline-text-5" id="text-7-5-1-2">
<p>
A column definition sets the attributes of a column. The general
definition looks like this:
</p>

<pre class="example">
%[width]property[(title)][{summary-type}]
</pre>

<p>
Except for the percent sign and the property name, all items are
optional. The individual parts have the following meaning:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">width</th>
<th scope="col" class="left">An integer specifying the width of the column in characters.</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">If omitted, the width will be determined automatically.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">property</td>
<td class="left">The property that should be edited in this column.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Special properties representing meta data are allowed here as well (see <a href="#Special-properties">Special properties</a>)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">title</td>
<td class="left">The header text for the column.  If omitted, the property name is used.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">{summary-type}</td>
<td class="left">The summary type.  If specified, the column values for parent nodes are computed from the children.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Supported summary types are:</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{\+}       Sum numbers in this column.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{\+;%.1f}  Like ‘+’, but format result with ‘%.1f’.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{$}       Currency, short for ‘+;%.2f’.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{:}       Sum times, HH:MM, plain numbers are hours.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{X}       Checkbox status, ‘[X]’ if all children are ‘[X]’.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{X/}      Checkbox status, ‘[n/m]’.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{X%}      Checkbox status, ‘[n%]’.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{min}     Smallest number in column.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{max}     Largest number.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{mean}    Arithmetic mean of numbers.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{:min}    Smallest time value in column.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{:max}    Largest time value.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{:mean}   Arithmetic mean of time values.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{@min}    Minimum age (in days/hours/mins/seconds).</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{@max}    Maximum age (in days/hours/mins/seconds).</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{@mean}   Arithmetic mean of ages (in days/hours/mins/seconds).</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">{est+}    Add ‘low-high’ estimates.</td>
</tr>
</tbody>
</table>

<p>
Be aware that you can only have one summary type for any property
you include. Subsequent columns referencing the same property
will all display the same summary information.
</p>

<p>
The <code>est+</code> summary type requires further explanation. It is used
for combining estimates, expressed as ‘low-high' ranges or plain
numbers.  For example, instead of estimating a particular task
will take 5 days, you might estimate it as 5&#x2013;6 days if you're
fairly confident you know how much work is required, or 1&#x2013;10
days if you don't really know what needs to be done. Both ranges
average at 5.5 days, but the first represents a more predictable
delivery.
</p>

<p>
When combining a set of such estimates, simply adding the lows
and highs produces an unrealistically wide result. Instead,
<code>est+</code> adds the statistical mean and variance of the sub-tasks,
generating a final estimate from the sum. For example, suppose
you had ten tasks, each of which was estimated at 0.5 to 2 days
of work. Straight addition produces an estimate of 5 to 20 days,
representing what to expect if everything goes either extremely
well or extremely poorly. In contrast, <code>est+</code> estimates the full
job more realistically, at 10&#x2013;15 days.
</p>

<p>
Numbers are right-aligned when a format specifier with an
explicit width like <code>%5d</code> or <code>%5.1f</code> is used.
</p>

<p>
Here is an example for a complete columns definition, along with
allowed values.
</p>

<pre class="example">
:COLUMNS:  %25ITEM %9Approved(Approved?){X} %Owner %11Status \ [fn:FOOT64]
                   %10Time_Estimate{:} %CLOCKSUM %CLOCKSUM_T
:Owner_ALL: Tammy Mark Karl Lisa Don
:Status_ALL: "In progress" "Not started yet" "Finished" ""
:Approved_ALL: "[ ]" "[X]"
</pre>

<p>
The first column, ‘%25ITEM', means the first 25 characters of the
item itself, i.e., of the headline. You probably always should
start the column definition with the ‘ITEM' specifier. The other
specifiers create columns ‘Owner' with a list of names as allowed
values, for ‘Status' with four different possible values, and for
a checkbox field ‘Approved'. When no width is given after the ‘%'
character, the column will be exactly as wide as it needs to be
in order to fully display all values. The ‘Approved' column does
have a modified title (‘Approved?', with a question
mark). Summaries will be created for the ‘Time<sub>Estimate'</sub> column
by adding time duration expressions like HH:MM, and for the
‘Approved' column, by providing an ‘[X]' status if all children
have been checked. The ‘CLOCKSUM' and ‘CLOCKSUM<sub>T'</sub> columns are
special, they lists the sums of CLOCK intervals in the subtree,
either for all clocks or just for today.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7-5-2" class="outline-4">
<h4 id="sec-7-5-2">7.5.2 Using column view                                           <a id="Using-column-view" name="Using-column-view"></a></h4>
<div class="outline-text-4" id="text-7-5-2">
</div><div id="outline-container-sec-7-5-2-1" class="outline-5">
<h5 id="sec-7-5-2-1">Turning column view on and off</h5>
<div class="outline-text-5" id="text-7-5-2-1">
<ul class="org-ul">
<li><b><i>C-c C-x C-c</i></b> (<code>org-columns</code>)

<p>
Turn on column view. If the cursor is before the first headline
in the file, column view is turned on for the entire file,
using the <code>#+COLUMNS</code> definition. If the cursor is somewhere
inside the outline, this command searches the hierarchy, up
from point, for a <code>:COLUMNS:</code> property that defines a
format. When one is found, the column view table is established
for the tree starting at the entry that contains the
<code>:COLUMNS:</code> property. If no such property is found, the format
is taken from the <code>#+COLUMNS</code> line or from the variable
<code>org-columns-default-format</code>, and column view is established
for the current entry and its subtree.
</p>
</li>

<li><b><i>r</i></b> (<code>org-columns-redo</code>)

<p>
Recreate the column view, to include recent changes made in the
buffer.
</p>
</li>

<li><b><i>g</i></b> (<code>org-columns-redo</code>)

<p>
Same as r.
</p>
</li>

<li><b><i>q</i></b> (<code>org-columns-quit</code>)

<p>
Exit column view.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-5-2-2" class="outline-5">
<h5 id="sec-7-5-2-2">Editing values</h5>
<div class="outline-text-5" id="text-7-5-2-2">
<ul class="org-ul">
<li>(<code>left right up down</code>)

<p>
Move through the column view from field to field.
</p>
</li>

<li><b><i>S-left/right</i></b>

<p>
Switch to the next/previous allowed value of the field. For
this, you have to have specified allowed values for a property.
</p>
</li>

<li><b><i>1..9,0</i></b>

<p>
Directly select the Nth allowed value, 0 selects the 10th
value.
</p>
</li>

<li><b><i>n</i></b> (<code>org-columns-next-allowed-value</code>)<br  />
</li>
<li><b><i>p</i></b> (<code>org-columns-previous-allowed-value</code>)

<p>
Same as S-left/right
</p>
</li>

<li><b><i>e</i></b> (<code>org-columns-edit-value</code>)

<p>
Edit the property at point. For the special properties, this
will invoke the same interface that you normally use to change
that property. For example, when editing a TAGS property, the
tag completion or fast selection interface will pop up.
</p>
</li>

<li><b><i>C-c C-c</i></b> (<code>org-columns-set-tags-or-toggle</code>)

<p>
When there is a checkbox at point, toggle it.
</p>
</li>

<li><b><i>v</i></b> (<code>org-columns-show-value</code>)

<p>
View the full value of this property. This is useful if the
width of the column is smaller than that of the value.
</p>
</li>

<li><b><i>a</i></b> (<code>org-columns-edit-allowed</code>)

<p>
Edit the list of allowed values for this property. If the list is
found in the hierarchy, the modified value is stored there. If no
list is found, the new value is stored in the first entry that is
part of the current column view.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-5-2-3" class="outline-5">
<h5 id="sec-7-5-2-3">Modifying the table structure</h5>
<div class="outline-text-5" id="text-7-5-2-3">
<ul class="org-ul">
<li><b><i>&lt;</i></b> (<code>org-columns-narrow</code>)
</li>
<li><b><i>&gt;</i></b> (<code>org-columns-widen</code>)

<p>
Make the column narrower/wider by one character.
</p>
</li>

<li><b><i>S-M-right</i></b> (<code>org-columns-new</code>)

<p>
Insert a new column, to the left of the current column.
</p>
</li>

<li><b><i>S-M-left</i></b> (<code>org-columns-delete</code>)

<p>
Delete the current column.
</p>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-7-5-3" class="outline-4">
<h4 id="sec-7-5-3">7.5.3 Capturing column view                                       <a id="Capturing-column-view" name="Capturing-column-view"></a></h4>
<div class="outline-text-4" id="text-7-5-3">
<p>
Since column view is just an overlay over a buffer, it cannot be
exported or printed directly. If you want to capture a column
view, use a <code>columnview</code> dynamic block (see <a href="#Dynamic-blocks">Dynamic blocks</a>).  The
frame of this block looks like this:
</p>

<pre class="example">
* The column view
#+BEGIN: columnview :hlines 1 :id "label"

#+END:
</pre>

<p>
This dynamic block has the following parameters:
</p>

<ul class="org-ul">
<li><code>:id</code>

<p>
This is the most important parameter. Column view is a feature
that is often localized to a certain (sub)tree, and the capture
block might be at a different location in the file. To identify
the tree whose view to capture, you can use 4 values:
</p>

<ul class="org-ul">
<li>local

<p>
use the tree in which the capture block is located
</p>
</li>
<li>global

<p>
make a global view, including all headings in the file
</p>
</li>

<li><code>file:path-to-file</code>

<p>
run column view at the top of this file
</p>
</li>

<li>"ID"

<p>
call column view in the tree that has an <code>:ID:</code> property
with the value label.  You can use <b><i>M-x org-id-copy RET</i></b>
to create a globally unique ID for the current entry and
copy it to the kill-ring.
</p>
</li>
</ul>
</li>

<li><code>:hlines</code>

<p>
When <code>t</code>, insert an hline after every line. When a number N,
insert an hline before each headline with level <code>&lt;</code> N=.
</p>
</li>

<li><code>:vlines</code>

<p>
When set to <code>t</code>, force column groups to get vertical lines.
</p>
</li>

<li><code>:maxlevel</code>

<p>
When set to a number, don't capture entries below this level.
</p>
</li>

<li><code>:skip-empty-rows</code>

<p>
When set to <code>t</code>, skip rows where the only non-empty specifier
of the column view is <code>ITEM</code>.
</p>
</li>
</ul>

<p>
The following commands insert or update the dynamic block:
</p>

<ul class="org-ul">
<li><b><i>C-c C-x i</i></b> (<code>org-insert-columns-dblock</code>)

<p>
Insert a dynamic block capturing a column view. You will be
prompted for the scope or ID of the view.
</p>
</li>

<li><b><i>C-c C-c</i></b> or <b><i>C-c C-x C-u</i></b> (<code>org-dblock-update</code>)

<p>
Update dynamic block at point. The cursor needs to be in the
<code>#+BEGIN</code> line of the dynamic block.
</p>
</li>

<li><b><i>C-u C-c C-x C-u</i></b> (<code>org-update-all-dblocks</code>)

<p>
Update all dynamic blocks (see <a href="#Dynamic-blocks">Dynamic blocks</a>).  This is useful
if you have several clock table blocks, column-capturing blocks
or other dynamic blocks in a buffer.
</p>
</li>
</ul>

<p>
You can add formulas to the column view table and you may add
plotting instructions in front of the table &#x2013; these will survive
an update of the block. If there is a <code>#+TBLFM:</code> after the table,
the table will actually be recalculated automatically after an
update.
</p>

<p>
An alternative way to capture and process property values into a
table is provided by Eric Schulte's org-collector.el which is a
contributed package<sup><a id="fnr.62" name="fnr.62" class="footref" href="#fn.62">62</a></sup>. It provides a general API to
collect properties from entries in a certain scope, and arbitrary
Lisp expressions to process these values before inserting them into
a table or a dynamic block.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7-6" class="outline-3">
<h3 id="sec-7-6">7.6 The Property API                                               <a id="Property-API" name="Property-API"></a></h3>
<div class="outline-text-3" id="text-7-6">
<p>
There is a full API for accessing and changing properties. This API
can be used by Emacs Lisp programs to work with properties and to
implement features based on them. For more information see <a href="#Using-the-property-API">Using
the property API</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">8 Dates and times</h2>
<div class="outline-text-2" id="text-8">
<p>
To assist project planning, TODO items can be labeled with a date
and/or a time. The specially formatted string carrying the date and
time information is called a <i>timestamp</i> in Org mode. This may be a
little confusing because timestamp is often used to indicate when
something was created or last changed. However, in Org mode this
term is used in a much wider sense.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Timestamps">Timestamps</a>:</td>
<td class="left">Assigning a time to a tree entry</td>
</tr>

<tr>
<td class="left">• <a href="#Creating-timestamps">Creating timestamps</a>:</td>
<td class="left">Commands which insert timestamps</td>
</tr>

<tr>
<td class="left">• <a href="#Deadlines-and-scheduling">Deadlines and scheduling</a>:</td>
<td class="left">Planning your work</td>
</tr>

<tr>
<td class="left">• <a href="#Clocking-work-time">Clocking work time</a>:</td>
<td class="left">Tracking how long you spend on a task</td>
</tr>

<tr>
<td class="left">• <a href="#Effort-estimates">Effort estimates</a>:</td>
<td class="left">Planning work effort in advance</td>
</tr>

<tr>
<td class="left">• <a href="#Timers">Timers</a>:</td>
<td class="left">Notes with a running timer</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">8.1 Timestamps, deadlines, and scheduling                          <a id="Timestamps" name="Timestamps"></a></h3>
<div class="outline-text-3" id="text-8-1">
<p>
A timestamp is a specification of a date (possibly with a time or a
range of times) in a special format, either
‘<span class="timestamp-wrapper"><span class="timestamp">&lt;2003-09-16 Tue&gt;</span></span>'<sup><a id="fnr.63" name="fnr.63" class="footref" href="#fn.63">63</a></sup> or ‘<span class="timestamp-wrapper"><span class="timestamp">&lt;2003-09-16 Tue 09:39&gt;</span></span>' or
‘<span class="timestamp-wrapper"><span class="timestamp">&lt;2003-09-16 mar 12:00&gt;&#x2013;&lt;2003-09-16 mar 12:30&gt;</span></span>'<sup><a id="fnr.64" name="fnr.64" class="footref" href="#fn.64">64</a></sup>. A timestamp can appear
anywhere in the headline or body of an Org tree entry. Its presence
causes entries to be shown on specific dates in the agenda (see
<a href="#Weekly_daily-agenda">Weekly/daily agenda</a>). We distinguish:
</p>

<ul class="org-ul">
<li>Plain timestamp; Event; Appointment

<p>
A simple timestamp just assigns a date/time to an item. This is
just like writing down an appointment or event in a paper
agenda. In the timeline and agenda displays, the headline of an
entry associated with a plain timestamp will be shown exactly on
that date.
</p>

<pre class="example">
* Meet Peter at the movies
  &lt;2006-11-01 Wed 19:15&gt;
* Discussion on climate change
  &lt;2006-11-02 Thu 20:00-22:00&gt;
</pre>
</li>

<li>Timestamp with repeater interval

<p>
A timestamp may contain a <i>repeater interval</i>, indicating that
it applies not only on the given date, but again and again after
a certain interval of N days (d), weeks (w), months (m), or
years (y). The following will show up in the agenda every
Wednesday:
</p>

<pre class="example">
* Pick up Sam at school
  &lt;2007-05-16 Wed 12:30 +1w&gt;
</pre>
</li>

<li>Diary-style sexp entries

<p>
For more complex date specifications, Org mode supports using
the special sexp diary entries implemented in the Emacs
calendar/diary package<sup><a id="fnr.65" name="fnr.65" class="footref" href="#fn.65">65</a></sup>. For example with optional
time
</p>

<pre class="example">
* 22:00-23:00 The nerd meeting on every 2nd Thursday of the month
  &lt;%%(diary-float t 4 2)&gt;
</pre>
</li>

<li>Time/Date range

<p>
Two timestamps connected by ‘&#x2013;' denote a range.  The headline
will be shown on the first and last day of the range, and on any
dates that are displayed and fall in the range. Here is an
example:
</p>

<pre class="example">
** Meeting in Amsterdam
   &lt;2004-08-23 Mon&gt;--&lt;2004-08-26 Thu&gt;
</pre>
</li>

<li>Inactive timestamp

<p>
Just like a plain timestamp, but with square brackets instead of
angular ones. These timestamps are inactive in the sense that
they do <i>not</i> trigger an entry to show up in the agenda.
</p>

<pre class="example">
* Gillian comes late for the fifth time
  [2006-11-01 Wed]
</pre>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">8.2 Creating timestamps                                            <a id="Creating-timestamps" name="Creating-timestamps"></a></h3>
<div class="outline-text-3" id="text-8-2">
<p>
For Org mode to recognize timestamps, they need to be in the
specific format. All commands listed below produce timestamps in
the correct format.
</p>

<ul class="org-ul">
<li><b><i>C-c .</i></b> (<code>org-time-stamp</code>)

<p>
Prompt for a date and insert a corresponding timestamp. When the
cursor is at an existing timestamp in the buffer, the command is
used to modify this timestamp instead of inserting a new
one. When this command is used twice in succession, a time range
is inserted.
</p>
</li>

<li><b><i>C-c !</i></b> (<code>org-time-stamp-inactive</code>)

<p>
Like <b><i>C-c .</i></b>, but insert an inactive timestamp that will not
cause an agenda entry.
</p>
</li>

<li><b><i>C-u C-c .</i></b>
</li>
<li><b><i>C-u C-c !</i></b>

<p>
Like <b><i>C-c .</i></b> and <b><i>C-c !</i></b>, but use the alternative format
which contains date and time. The default time can be rounded to
multiples of 5 minutes, see the option
<code>org-time-stamp-rounding-minutes</code>.
</p>
</li>

<li><b><i>C-c C-c</i></b>

<p>
Normalize timestamp, insert/fix day name if missing or wrong.
</p>
</li>

<li><b><i>C-c &lt;</i></b> (<code>org-date-from-calendar</code>)

<p>
Insert a timestamp corresponding to the cursor date in the
Calendar.
</p>
</li>

<li><b><i>C-c &gt;</i></b> (<code>org-goto-calendar</code>)

<p>
Access the Emacs calendar for the current date. If there is a
timestamp in the current line, go to the corresponding date
instead.
</p>
</li>

<li><b><i>C-c C-o</i></b> (<code>org-open-at-point</code>)

<p>
Access the agenda for the date given by the timestamp or -range
at point (see <a href="#Weekly_daily-agenda">Weekly/daily agenda</a>).
</p>
</li>

<li><b><i>S-left</i></b> (<code>org-timestamp-down-day</code>)
</li>
<li><b><i>S-right</i></b> (<code>org-timestamp-up-day</code>)

<p>
Change date at cursor by one day. These key bindings conflict
with shift-selection and related modes (see <a href="#Conflicts">Conflicts</a>).
</p>
</li>

<li><b><i>S-up</i></b> (<code>org-timestamp-up</code>)
</li>
<li><b><i>S-down</i></b> (<code>org-timestamp-down-down</code>)

<p>
Change the item under the cursor in a timestamp. The cursor can
be on a year, month, day, hour or minute. When the timestamp
contains a time range like ‘15:30-16:30', modifying the first
time will also shift the second, shifting the time block with
constant length. To change the length, modify the second
time. Note that if the cursor is in a headline and not at a
timestamp, these same keys modify the priority of an item.  (see
<a href="#Priorities">Priorities</a>). The key bindings also conflict with shift-selection
and related modes (see <a href="#Conflicts">Conflicts</a>).
</p>
</li>

<li><b><i>C-c C-y</i></b> (<code>org-evaluate-time-range</code>)

<p>
Evaluate a time range by computing the difference between start
and end.  With a prefix argument, insert result after the time
range (in a table: into the following column).
</p>
</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#The-date_time-prompt">The date/time prompt</a>:</td>
<td class="left">How Org mode helps you entering date and time</td>
</tr>

<tr>
<td class="left">• <a href="#Custom-time-format">Custom time format</a>:</td>
<td class="left">Making dates look different</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-8-2-1" class="outline-4">
<h4 id="sec-8-2-1">8.2.1 The date/time prompt                                        <a id="The-date_time-prompt" name="The-date_time-prompt"></a></h4>
<div class="outline-text-4" id="text-8-2-1">
<p>
When Org mode prompts for a date/time, the default is shown in
default date/time format, and the prompt therefore seems to ask
for a specific format. But it will in fact accept date/time
information in a variety of formats. Generally, the information
should start at the beginning of the string. Org mode will find
whatever information is in there and derive anything you have not
specified from the <i>default date and time</i>. The default is usually
the current date and time, but when modifying an existing
timestamp, or when entering the second stamp of a range, it is
taken from the stamp in the buffer. When filling in information,
Org mode assumes that most of the time you will want to enter a
date in the future: if you omit the month/year and the given
day/month is <i>before</i> today, it will assume that you mean a future
date<sup><a id="fnr.66" name="fnr.66" class="footref" href="#fn.66">66</a></sup>. If the date has been automatically shifted into
the future, the time prompt will show this with ‘(=&gt;F).'
</p>

<p>
For example, let's assume that today is <b>June 13, 2006</b>. Here is
how various inputs will be interpreted, the items filled in by Org
mode are in <b>bold</b>.
</p>

<pre class="example">
3-2-5         ⇒ 2003-02-05
2/5/3         ⇒ 2003-02-05
14            ⇒ 2006-06-14
12            ⇒ 2006-07-12
2/5           ⇒ 2007-02-05
Fri           ⇒ nearest Friday after the default date
sep 15        ⇒ 2006-09-15
feb 15        ⇒ 2007-02-15
sep 12 9      ⇒ 2009-09-12
12:45         ⇒ 2006-06-13 12:45
22 sept 0:34  ⇒ 2006-09-22 00:34
w4            ⇒ ISO week for of the current year 2006
2012 w4 fri   ⇒ Friday of ISO week 4 in 2012
2012-w04-5    ⇒ Same as above
</pre>

<p>
Furthermore you can specify a relative date by giving, as the
<i>first</i> thing in the input: a plus/minus sign, a number and a
letter ([hdwmy]) to indicate change in hours, days, weeks, months,
or years. With a single plus or minus, the date is always relative
to today. With a double plus or minus, it is relative to the
default date. If instead of a single letter, you use the
abbreviation of day name, the date will be the Nth such day, e.g.:
</p>

<pre class="example">
+0            ⇒ today
.             ⇒ today
+4d           ⇒ four days from today
+4            ⇒ same as above
+2w           ⇒ two weeks from today
++5           ⇒ five days from default date
+2tue         ⇒ second Tuesday from now
-wed          ⇒ last Wednesday
</pre>

<p>
The function understands English month and weekday
abbreviations. If you want to use unabbreviated names and/or other
languages, configure the variables <code>parse-time-months</code> and
<code>parse-time-weekdays</code>.
</p>

<p>
Not all dates can be represented in a given Emacs
implementation. By default Org mode forces dates into the
compatibility range 1970&#x2013;2037 which works on all Emacs
implementations. If you want to use dates outside of this range,
read the docstring of the variable
<code>org-read-date-force-compatible-dates</code>.
</p>

<p>
You can specify a time range by giving start and end times or by
giving a start time and a duration (in HH:MM format). Use one or
two dash(es) as the separator in the former case and use '+' as
the separator in the latter case, e.g.:
</p>

<pre class="example">
11am-1:15pm    ⇒ 11:00-13:15
11am--1:15pm   ⇒ same as above
11am+2:15      ⇒ same as above
</pre>

<p>
Parallel to the minibuffer prompt, a calendar is popped
up<sup><a id="fnr.67" name="fnr.67" class="footref" href="#fn.67">67</a></sup>. When you exit the date prompt, either by clicking
on a date in the calendar, or by pressing <code>RET</code>, the date selected
in the calendar will be combined with the information entered at
the prompt. You can control the calendar fully from the
minibuffer:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">RET</td>
<td class="left">Choose date at cursor in calendar.</td>
</tr>

<tr>
<td class="left">mouse-1</td>
<td class="left">Select date by clicking on it.</td>
</tr>

<tr>
<td class="left">S-right/left</td>
<td class="left">One day forward/backward.</td>
</tr>

<tr>
<td class="left">S-down/up</td>
<td class="left">One week forward/backward.</td>
</tr>

<tr>
<td class="left">M-S-right/left</td>
<td class="left">One month forward/backward.</td>
</tr>

<tr>
<td class="left">&gt; / &lt;</td>
<td class="left">Scroll calendar forward/backward by one month.</td>
</tr>

<tr>
<td class="left">M-v / C-v</td>
<td class="left">Scroll calendar forward/backward by 3 months.</td>
</tr>

<tr>
<td class="left">M-S-down/up</td>
<td class="left">Scroll calendar forward/backward by one year.</td>
</tr>
</tbody>
</table>

<p>
The actions of the date/time prompt may seem complex, but I assure
you they will grow on you, and you will start getting annoyed by
pretty much any other way of entering a date/time out there. To
help you understand what is going on, the current interpretation
of your input will be displayed live in the minibuffer<sup><a id="fnr.68" name="fnr.68" class="footref" href="#fn.68">68</a></sup>.
</p>
</div>
</div>

<div id="outline-container-sec-8-2-2" class="outline-4">
<h4 id="sec-8-2-2">8.2.2 Custom time format                                          <a id="Custom-time-format" name="Custom-time-format"></a></h4>
<div class="outline-text-4" id="text-8-2-2">
<p>
Org mode uses the standard ISO notation for dates and times as it
is defined in ISO 8601. If you cannot get used to this and require
another representation of date and time to keep you happy, you can
get it by customizing the options <code>org-display-custom-times</code> and
<code>org-time-stamp-custom-formats</code>.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x C-t</i></b> (<code>org-toggle-time-stamp-overlays</code>)

<p>
Toggle the display of custom formats for dates and times.
</p>
</li>
</ul>

<p>
Org mode needs the default format for scanning, so the custom
date/time format does not <i>replace</i> the default format&#x2014;instead
it is put <i>over</i> the default format using text properties. This
has the following consequences:
</p>

<ul class="org-ul">
<li>You cannot place the cursor onto a timestamp anymore, only before or
after.
</li>

<li>The <b><i>S-up/down</i></b> keys can no longer be used to adjust each
component of a timestamp. If the cursor is at the beginning of
the stamp, <b><i>S-up/down</i></b> will change the stamp by one day, just
like <b><i>S-left/right</i></b>.  At the end of the stamp, the time will
be changed by one minute.
</li>

<li>If the timestamp contains a range of clock times or a repeater,
these will not be overlaid, but remain in the buffer as they
were.
</li>

<li>When you delete a timestamp character-by-character, it will only
disappear from the buffer after <i>all</i> (invisible) characters
belonging to the ISO timestamp have been removed.
</li>

<li>If the custom timestamp format is longer than the default and
you are using dates in tables, table alignment will be messed
up. If the custom format is shorter, things do work as expected.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3">8.3 Deadlines and scheduling                                       <a id="Deadlines-and-scheduling" name="Deadlines-and-scheduling"></a></h3>
<div class="outline-text-3" id="text-8-3">
<p>
A timestamp may be preceded by special keywords to facilitate
planning:
</p>

<ul class="org-ul">
<li>DEADLINE

<p>
Meaning: the task (most likely a TODO item, though not
necessarily) is supposed to be finished on that date.
</p>

<p>
On the deadline date, the task will be listed in the agenda. In
addition, the agenda for <i>today</i> will carry a warning about the
approaching or missed deadline, starting
<code>org-deadline-warning-days</code> before the due date, and continuing
until the entry is marked DONE.  An example:
</p>

<pre class="example">
*** TODO write article about the Earth for the Guide
    DEADLINE: &lt;2004-02-29 Sun&gt;
    The editor in charge is [[bbdb:Ford Prefect]]
</pre>

<p>
You can specify a different lead time for warnings for a
specific deadline using the following syntax. Here is an example
with a warning period of 5 days <code>DEADLINE:
      &lt;2004-02-29 Sun -5d&gt;</code>. This warning is deactivated if the task
gets scheduled and you set
<code>org-agenda-skip-deadline-prewarning-if-scheduled</code> to <code>t</code>.
</p>
</li>

<li>SCHEDULED

<p>
Meaning: you are planning to start working on that task on the
given date.
</p>

<p>
The headline will be listed under the given date<sup><a id="fnr.69" name="fnr.69" class="footref" href="#fn.69">69</a></sup>.  In
addition, a reminder that the scheduled date has passed will be
present in the compilation for <i>today</i>, until the entry is
marked DONE, i.e., the task will automatically be forwarded
until completed.
</p>

<pre class="example">
*** TODO Call Trillian for a date on New Years Eve.
    SCHEDULED: &lt;2004-12-25 Sat&gt;
</pre>

<p>
If you want to <i>delay</i> the display of this task in the agenda,
use <code>SCHEDULED: &lt;2004-12-25 Sat -2d&gt;</code>: the task is still
scheduled on the 25th but will appear two days later. In case
the task contains a repeater, the delay is considered to affect
all occurrences; if you want the delay to only affect the first
scheduled occurrence of the task, use <code>--2d</code> instead. See
<code>org-scheduled-delay-days</code> and
<code>org-agenda-skip-scheduled-delay-if-deadline</code> for details on how
to control this globally or per agenda.
</p>

<p>
<b>Important:</b> Scheduling an item in Org mode should <i>not</i> be
understood in the same way that we understand <i>scheduling a
meeting</i>.  Setting a date for a meeting is just a simple
appointment, you should mark this entry with a simple plain
timestamp, to get this item shown on the date where it
applies. This is a frequent misunderstanding by Org users. In
Org mode, <i>scheduling</i> means setting a date when you want to
start working on an action item.
</p>
</li>
</ul>

<p>
You may use timestamps with repeaters in scheduling and deadline
entries. Org mode will issue early and late warnings based on the
assumption that the timestamp represents the <i>nearest instance</i> of
the repeater. However, the use of diary sexp entries like
<code>&lt;%%(diary-float t 42)&gt;</code> in scheduling and deadline timestamps is
limited. Org mode does not know enough about the internals of each
sexp function to issue early and late warnings. However, it will
show the item on each day where the sexp entry matches.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Inserting-deadline_schedule">Inserting deadline/schedule</a>:</td>
<td class="left">Planning items</td>
</tr>

<tr>
<td class="left">• <a href="#Repeated-tasks">Repeated tasks</a>:</td>
<td class="left">Items that show up again and again</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-8-3-1" class="outline-4">
<h4 id="sec-8-3-1">8.3.1 Inserting deadlines or schedules                            <a id="Inserting-deadline_schedule" name="Inserting-deadline_schedule"></a></h4>
<div class="outline-text-4" id="text-8-3-1">
<p>
The following commands allow you to quickly insert<sup><a id="fnr.70" name="fnr.70" class="footref" href="#fn.70">70</a></sup> a
deadline or to schedule an item:
</p>

<ul class="org-ul">
<li><b><i>C-c C-d</i></b> (<code>org-deadline</code>)

<p>
Insert ‘DEADLINE' keyword along with a stamp. The insertion
will happen in the line directly following the headline. Any
CLOSED timestamp will be removed. When called with a prefix
arg, an existing deadline will be removed from the
entry. Depending on the variable
=org-log-redeadline=<sup><a id="fnr.71" name="fnr.71" class="footref" href="#fn.71">71</a></sup>, a note will be taken when
changing an existing deadline.
</p>
</li>

<li><b><i>C-c C-s</i></b> (<code>org-schedule</code>)

<p>
Insert ‘SCHEDULED' keyword along with a stamp. The insertion
will happen in the line directly following the headline. Any
CLOSED timestamp will be removed. When called with a prefix
argument, remove the scheduling date from the entry. Depending
on the variable <code>org-log-reschedule</code> <sup><a id="fnr.72" name="fnr.72" class="footref" href="#fn.72">72</a></sup>, a note will be
taken when changing an existing scheduling time.
</p>
</li>

<li><b><i>C-c / d</i></b> (<code>org-check-deadlines</code>)

<p>
Create a sparse tree with all deadlines that are either
past-due, or which will become due within
<code>org-deadline-warning-days</code>. With C-u prefix, show all
deadlines in the file. With a numeric prefix, check that many
days. For example, <b><i>C-1 C-c / d</i></b> shows all deadlines due
tomorrow.
</p>
</li>

<li><b><i>C-c / b</i></b> (<code>org-check-before-date</code>)

<p>
Sparse tree for deadlines and scheduled items before a given
date.
</p>
</li>

<li><b><i>C-c / a</i></b> (<code>org-check-after-date</code>)

<p>
Sparse tree for deadlines and scheduled items after a given
date.
</p>
</li>
</ul>

<p>
Note that <code>org-schedule</code> and <code>org-deadline</code> supports setting the
date by indicating a relative time: e.g., +1d will set the date to
the next day after today, and &#x2013; 1w will set the date to the
previous week before any current timestamp.
</p>
</div>
</div>

<div id="outline-container-sec-8-3-2" class="outline-4">
<h4 id="sec-8-3-2">8.3.2 Repeated tasks                                              <a id="Repeated-tasks" name="Repeated-tasks"></a></h4>
<div class="outline-text-4" id="text-8-3-2">
<p>
Some tasks need to be repeated again and again. Org mode helps to
organize such tasks using a so-called repeater in a DEADLINE,
SCHEDULED, or plain timestamp. In the following example
</p>

<pre class="example">
** TODO Pay the rent
   DEADLINE: &lt;2005-10-01 Sat +1m&gt;
</pre>

<p>
the <code>+1m</code> is a repeater; the intended interpretation is that the
task has a deadline on <span class="timestamp-wrapper"><span class="timestamp">&lt;2005-10-01&gt;</span></span> and repeats itself every (one)
month starting from that time. You can use yearly, monthly,
weekly, daily and hourly repeat cookies by using the <code>y/w/m/d/h</code>
letters. If you need both a repeater and a special warning period
in a deadline entry, the repeater should come first and the
warning period last: <code>DEADLINE: &lt;2005-10-01 Sat +1m -3d&gt;</code>.
</p>

<p>
Deadlines and scheduled items produce entries in the agenda when
they are over-due, so it is important to be able to mark such an
entry as completed once you have done so. When you mark a DEADLINE
or a SCHEDULE with the TODO keyword DONE, it will no longer
produce entries in the agenda. The problem with this is, however,
that then also the <i>next</i> instance of the repeated entry will not
be active. Org mode deals with this in the following way: When you
try to mark such an entry DONE (using <b><i>C-c C-t</i></b>), it will shift
the base date of the repeating timestamp by the repeater interval,
and immediately set the entry state back to TODO<sup><a id="fnr.73" name="fnr.73" class="footref" href="#fn.73">73</a></sup>. In
the example above, setting the state to DONE would actually switch
the date like this:
</p>

<pre class="example">
** TODO Pay the rent
   DEADLINE: &lt;2005-11-01 Tue +1m&gt;
</pre>

<p>
To mark a task with a repeater as <code>DONE</code>, use <b><i>C&#x2013; 1 C-c C-t</i></b>
(i.e., <code>org-todo</code> with a numeric prefix argument of -1.)
</p>

<p>
A timestamp<sup><a id="fnr.74" name="fnr.74" class="footref" href="#fn.74">74</a></sup> will be added under the deadline, to keep a
record that you actually acted on the previous instance of this
deadline.
</p>

<p>
As a consequence of shifting the base date, this entry will no
longer be visible in the agenda when checking past dates, but all
future instances will be visible.
</p>

<p>
With the ‘+1m' cookie, the date shift will always be exactly one
month.  So if you have not paid the rent for three months, marking
this entry DONE will still keep it as an overdue
deadline. Depending on the task, this may not be the best way to
handle it. For example, if you forgot to call your father for 3
weeks, it does not make sense to call him 3 times in a single day
to make up for it. Finally, there are tasks like changing
batteries which should always repeat a certain time <i>after</i> the
last time you did it. For these tasks, Org mode has special
repeaters ‘++' and ‘.+'. For example:
</p>

<pre class="example">
** TODO Call Father
   DEADLINE: &lt;2008-02-10 Sun ++1w&gt;
   Marking this DONE will shift the date by at least one week,
   but also by as many weeks as it takes to get this date into
   the future.  However, it stays on a Sunday, even if you called
   and marked it done on Saturday.
** TODO Check the batteries in the smoke detectors
   DEADLINE: &lt;2005-11-01 Tue .+1m&gt;
   Marking this DONE will shift the date to one month after
   today.
</pre>

<p>
You may have both scheduling and deadline information for a
specific task. If the repeater is set for the scheduling
information only, you probably want the repeater to be ignored
after the deadline. If so, set the variable
<code>org-agenda-skip-scheduled-if-deadline-is-shown</code> to
<code>repeated-after-deadline</code>. If you want both scheduling and
deadline information to repeat after the same interval, set the
same repeater for both timestamps.
</p>

<p>
An alternative to using a repeater is to create a number of copies
of a task subtree, with dates shifted in each copy. The command
<b><i>C-c C-x c</i></b> was created for this purpose, it is described in
<a href="#Structure-editing">Structure editing</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-8-4" class="outline-3">
<h3 id="sec-8-4">8.4 Clocking work time                                             <a id="Clocking-work-time" name="Clocking-work-time"></a></h3>
<div class="outline-text-3" id="text-8-4">
<p>
Org mode allows you to clock the time you spend on specific tasks
in a project. When you start working on an item, you can start the
clock.  When you stop working on that task, or when you mark the
task done, the clock is stopped and the corresponding time interval
is recorded. It also computes the total time spent on each
subtree<sup><a id="fnr.75" name="fnr.75" class="footref" href="#fn.75">75</a></sup> of a project. And it remembers a history or
tasks recently clocked, so that you can jump quickly between a
number of tasks absorbing your time.
</p>

<p>
To save the clock history across Emacs sessions, use
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-clock-persist 'history)
(org-clock-persistence-insinuate)
</pre>
</div>

<p>
When you clock into a new task after resuming Emacs, the incomplete
clock<sup><a id="fnr.76" name="fnr.76" class="footref" href="#fn.76">76</a></sup> will be found (see <a href="#Resolving-idle-time">Resolving idle time</a>) and you
will be prompted about what to do with it.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Clocking-commands">Clocking commands</a>:</td>
<td class="left">Starting and stopping a clock</td>
</tr>

<tr>
<td class="left">• <a href="#The-clock-table">The clock table</a>:</td>
<td class="left">Detailed reports</td>
</tr>

<tr>
<td class="left">• <a href="#Resolving-idle-time">Resolving idle time</a>:</td>
<td class="left">Resolving time when you've been idle</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-8-4-1" class="outline-4">
<h4 id="sec-8-4-1">8.4.1 Clocking commands                                           <a id="Clocking-commands" name="Clocking-commands"></a></h4>
<div class="outline-text-4" id="text-8-4-1">
<ul class="org-ul">
<li><b><i>C-c C-x C-i</i></b> (<code>org-clock-in</code>)

<p>
Start the clock on the current item (clock-in). This inserts
the CLOCK keyword together with a timestamp. If this is not the
first clocking of this item, the multiple CLOCK lines will be
wrapped into a <code>:LOGBOOK:</code> drawer (see also the variable
<code>org-clock-into-drawer</code>). You can also overrule the setting of
this variable for a subtree by setting a <code>CLOCK_INTO_DRAWER</code> or
<code>LOG_INTO_DRAWER</code> property. When called with a <b><i>C-u</i></b> prefix
argument, select the task from a list of recently clocked
tasks. With two <b><i>C-u C-u</i></b> prefixes, clock into the task at
point and mark it as the default task; the default task will
then always be available with letter d when selecting a
clocking task. With three <b><i>C-u C-u C-u</i></b> prefixes, force
continuous clocking by starting the clock when the last clock
stopped.
</p>

<p>
While the clock is running, the current clocking time is shown
in the mode line, along with the title of the task. The clock
time shown will be all time ever clocked for this task and its
children. If the task has an effort estimate (see <a href="#Effort-estimates">Effort
estimates</a>), the mode line displays the current clocking time
against it<sup><a id="fnr.77" name="fnr.77" class="footref" href="#fn.77">77</a></sup> If the task is a repeating one (see
<a href="#Repeated-tasks">Repeated tasks</a>), only the time since the last reset of the
task <sup><a id="fnr.78" name="fnr.78" class="footref" href="#fn.78">78</a></sup> will be shown. More control over what time is
shown can be exercised with the <code>CLOCK_MODELINE_TOTAL</code>
property.  It may have the values <code>current</code> to show only the
current clocking instance, <code>today</code> to show all time clocked on
this tasks today (see also the variable
<code>org-extend-today-until</code>), <code>all</code> to include all time, or <code>auto</code>
which is the default<sup><a id="fnr.79" name="fnr.79" class="footref" href="#fn.79">79</a></sup>.
</p>

<p>
Clicking with mouse-1 onto the mode line entry will pop up a
menu with clocking options.
</p>
</li>

<li><b><i>C-c C-x C-o</i></b> (<code>org-clock-out</code>)

<p>
Stop the clock (clock-out). This inserts another timestamp at
the same location where the clock was last started. It also
directly computes the resulting time and inserts it after the
time range as ‘=&gt; HH:MM'. See the variable
<code>org-log-note-clock-out</code> for the possibility to record an
additional note together with the clock-out
timestamp<sup><a id="fnr.80" name="fnr.80" class="footref" href="#fn.80">80</a></sup>.
</p>
</li>

<li><b><i>C-c C-x C-x</i></b> (<code>org-clock-in-last</code>)

<p>
Reclock the last clocked task. With one <b><i>C-u</i></b> prefix
argument, select the task from the clock history. With two
<b><i>C-u</i></b> prefixes, force continuous clocking by starting the
clock when the last clock stopped.
</p>
</li>

<li><b><i>C-c C-x C-e</i></b> (<code>org-clock-modify-effort-estimate</code>)

<p>
Update the effort estimate for the current clock task.
</p>
</li>

<li><b><i>C-c C-c</i></b> or <b><i>C-c C-y</i></b> (<code>org-evaluate-time-range</code>)

<p>
Recompute the time interval after changing one of the
timestamps. This is only necessary if you edit the timestamps
directly. If you change them with S-cursor keys, the update is
automatic.
</p>
</li>

<li><b><i>C-S-up/down</i></b> (<code>org-clock-timestamps-up/down</code>)

<p>
On <code>CLOCK</code> log lines, increase/decrease both timestamps so that
the clock duration keeps the same.
</p>
</li>

<li><b><i>S-M-up/down</i></b> (<code>org-timestamp-up/down</code>)

<p>
On <code>CLOCK</code> log lines, increase/decrease the timestamp at point
and the one of the previous (or the next clock) timestamp by
the same duration.  For example, if you hit S-M-up to increase
a clocked-out timestamp by five minutes, then the clocked-in
timestamp of the next clock will be increased by five minutes.
</p>
</li>

<li><b><i>C-c C-t</i></b> (<code>org-todo</code>)

<p>
Changing the TODO state of an item to DONE automatically stops
the clock if it is running in this same item.
</p>
</li>

<li><b><i>C-c C-x C-q</i></b> (<code>org-clock-cancel</code>)

<p>
Cancel the current clock. This is useful if a clock was started
by mistake, or if you ended up working on something else.
</p>
</li>

<li><b><i>C-c C-x C-j</i></b> (<code>org-clock-goto</code>)

<p>
Jump to the headline of the currently clocked in task. With a
<b><i>C-u</i></b> prefix arg, select the target task from a list of
recently clocked tasks.
</p>
</li>

<li><b><i>C-c C-x C-d</i></b> (<code>org-clock-display</code>)

<p>
Display time summaries for each subtree in the current
buffer. This puts overlays at the end of each headline, showing
the total time recorded under that heading, including the time
of any subheadings. You can use visibility cycling to study the
tree, but the overlays disappear when you change the buffer
(see variable <code>org-remove-highlights-with-change</code>) or press
<b><i>C-c C-c</i></b>.
</p>
</li>
</ul>

<p>
The <b>l</b> key may be used in the timeline (see <a href="#Timeline">Timeline</a>) and in the
agenda (see <a href="#Weekly_daily-agenda">Weekly/daily agenda</a>) to show which tasks have been
worked on or closed during a day.
</p>

<p>
<b>Important:</b> note that both <code>org-clock-out</code> and
<code>org-clock-in-last</code> can have a global keybinding and will not
modify the window disposition.
</p>
</div>
</div>

<div id="outline-container-sec-8-4-2" class="outline-4">
<h4 id="sec-8-4-2">8.4.2 The clock table                                             <a id="The-clock-table" name="The-clock-table"></a></h4>
<div class="outline-text-4" id="text-8-4-2">
<p>
Org mode can produce quite complex reports based on the time
clocking information. Such a report is called a <i>clock table</i>,
because it is formatted as one or several Org tables.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x C-r</i></b> (<code>org-clock-report</code>)

<p>
Insert a dynamic block (see <a href="#Dynamic-blocks">Dynamic blocks</a>) containing a clock
report as an Org mode table into the current file.  When the
cursor is at an existing clock table, just update it. When
called with a prefix argument, jump to the first clock report
in the current document and update it. The clock table always
includes also trees with <code>:ARCHIVE:</code> tag.
</p>
</li>

<li><b><i>C-c C-c</i></b> or <b><i>C-c C-x C-u</i></b> (<code>org-dblock-update</code>)

<p>
Update dynamic block at point. The cursor needs to be in the
<code>#+BEGIN</code> line of the dynamic block.
</p>
</li>

<li><b><i>C-u C-c C-x C-u</i></b>

<p>
Update all dynamic blocks (see <a href="#Dynamic-blocks">Dynamic blocks</a>).  This is useful
if you have several clock table blocks in a buffer.
</p>
</li>

<li><b><i>S-left</i></b>
</li>
<li><b><i>S-right</i></b> (<code>org-clocktable-try-shift</code>)

<p>
Shift the current <code>:block</code> interval and update the table. The
cursor needs to be in the <code>#+BEGIN: clocktable</code> line for this
command. If <code>:block</code> is <code>today</code>, it will be shifted to
<code>today-1</code> etc.
</p>
</li>
</ul>

<p>
Here is an example of the frame for a clock table as it is
inserted into the buffer with the <b><i>C-c C-x C-r</i></b> command:
</p>

<pre class="example">
#+BEGIN: clocktable :maxlevel 2 :emphasize nil :scope file
#+END: clocktable
</pre>

<p>
The ‘BEGIN' line specifies a number of options to define the
scope, structure, and formatting of the report. Defaults for all
these options can be configured in the variable
<code>org-clocktable-defaults</code>.
</p>

<p>
First there are options that determine which clock entries are to
be selected:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">:maxlevel</td>
<td class="left">Maximum level depth to which times are listed in the table.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Clocks at deeper levels will be summed into the upper level.</td>
</tr>

<tr>
<td class="left">:scope</td>
<td class="left">The scope to consider.  This can be any of the following:</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">nil        the current buffer or narrowed region</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">file       the full current buffer</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">subtree    the subtree where the clocktable is located</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">treeN      the surrounding level N tree, for example tree3</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">tree       the surrounding level 1 tree</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">agenda     all agenda files</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">("file"..) scan these files</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">file-with-archives    current file and its archives</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">agenda-with-archives  all agenda files, including archives</td>
</tr>

<tr>
<td class="left">:block</td>
<td class="left">The time block to consider.  This block is specified either absolutely, or relative to the current time and may be any of these formats:</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2007-12-31    New year eve 2007</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2007-12       December 2007</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2007-W50      ISO-week 50 in 2007</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2007-Q2       2nd quarter in 2007</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2007          the year 2007</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">today, yesterday, today-N          a relative day</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">thisweek, lastweek, thisweek-N     a relative week</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">thismonth, lastmonth, thismonth-N  a relative month</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">thisyear, lastyear, thisyear-N     a relative year</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">untilnow</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Use S-left/right keys to shift the time interval.</td>
</tr>

<tr>
<td class="left">:tstart</td>
<td class="left">A time string specifying when to start considering times.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Relative times like "&lt;-2w&gt;" can also be used.  See <a href="#Matching-tags-and-properties">Matching tags and properties</a> for relative time syntax.</td>
</tr>

<tr>
<td class="left">:tend</td>
<td class="left">A time string specifying when to stop considering times.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Relative times like "&lt;now&gt;" can also be used.  See <a href="#Matching-tags-and-properties">Matching tags and properties</a> for relative time syntax.</td>
</tr>

<tr>
<td class="left">:wstart</td>
<td class="left">The starting day of the week.  The default is 1 for monday.</td>
</tr>

<tr>
<td class="left">:mstart</td>
<td class="left">The starting day of the month.  The default 1 is for the first day of the month.</td>
</tr>

<tr>
<td class="left">:step</td>
<td class="left">week or day, to split the table into chunks.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">To use this, :block or :tstart, :tend are needed.</td>
</tr>

<tr>
<td class="left">:stepskip0</td>
<td class="left">Do not show steps that have zero time.</td>
</tr>

<tr>
<td class="left">:fileskip0</td>
<td class="left">Do not show table sections from files which did not contribute.</td>
</tr>

<tr>
<td class="left">:tags</td>
<td class="left">A tags match to select entries that should contribute.  See <a href="#Matching-tags-and-properties">Matching tags and properties</a> for the match syntax.</td>
</tr>
</tbody>
</table>


<p>
Then there are options which determine the formatting of the
table.  These options are interpreted by the function
<code>org-clocktable-write-default</code>, but you can specify your own
function using the <code>:formatter</code> parameter.
</p>

<pre class="example">
:emphasize   When t, emphasize level one and level two items.
:lang        Language(84) to use for descriptive cells like "Task".
:link        Link the item headlines in the table to their origins.
:narrow      An integer to limit the width of the headline column in
             the org table.  If you write it like ‘50!’, then the
             headline will also be shortened in export.
:indent      Indent each headline field according to its level.
:tcolumns    Number of columns to be used for times.  If this is smaller
             than :maxlevel, lower levels will be lumped into one column.
:level       Should a level number column be included?
:sort        A cons cell like containing the column to sort and a sorting type.
             E.g., :sort (1 . ?a) sorts the first column alphabetically.
:compact     Abbreviation for :level nil :indent t :narrow 40! :tcolumns 1
             All are overwritten except if there is an explicit :narrow
:timestamp   A timestamp for the entry, when available.  Look for SCHEDULED,
             DEADLINE, TIMESTAMP and TIMESTAMP_IA, in this order.
:properties  List of properties that should be shown in the table.  Each
             property will get its own column.
:inherit-props When this flag is t, the values for :properties will be inherited.
:formula     Content of a #+TBLFM line to be added and evaluated.
             As a special case, ‘:formula %’ adds a column with % time.
             If you do not specify a formula here, any existing formula
             below the clock table will survive updates and be evaluated.
:formatter   A function to format clock data and insert it into the buffer.
</pre>

<p>
To get a clock summary of the current level 1 tree, for the
current day, you could write
</p>

<pre class="example">
#+BEGIN: clocktable :maxlevel 2 :block today :scope tree1 :link t
#+END: clocktable
</pre>

<p>
and to use a specific time range you could write<sup><a id="fnr.81" name="fnr.81" class="footref" href="#fn.81">81</a></sup>
</p>

<pre class="example">
#+BEGIN: clocktable :tstart "&lt;2006-08-10 Thu 10:00&gt;"
                    :tend "&lt;2006-08-10 Thu 12:00&gt;"
#+END: clocktable
</pre>

<p>
A range starting a week ago and ending right now could be written
as
</p>

<pre class="example">
#+BEGIN: clocktable :tstart "&lt;-1w&gt;" :tend "&lt;now&gt;"
#+END: clocktable
</pre>

<p>
A summary of the current subtree with % times would be
</p>

<pre class="example">
#+BEGIN: clocktable :scope subtree :link t :formula %
#+END: clocktable
</pre>

<p>
A horizontally compact representation of everything clocked during
last week would be
</p>

<pre class="example">
#+BEGIN: clocktable :scope agenda :block lastweek :compact t
#+END: clocktable
</pre>
</div>
</div>

<div id="outline-container-sec-8-4-3" class="outline-4">
<h4 id="sec-8-4-3">8.4.3 Resolving idle time and continuous clocking                 <a id="Resolving-idle-time" name="Resolving-idle-time"></a></h4>
<div class="outline-text-4" id="text-8-4-3">
</div><div id="outline-container-sec-8-4-3-1" class="outline-5">
<h5 id="sec-8-4-3-1">Resolving idle time</h5>
<div class="outline-text-5" id="text-8-4-3-1">
<p>
If you clock in on a work item, and then walk away from your
computer &#x2013; perhaps to take a phone call &#x2013; you often need to
“resolve” the time you were away by either subtracting it from the
current clock, or applying it to another one.
</p>

<p>
By customizing the variable <code>org-clock-idle-time</code> to some integer,
such as 10 or 15, Emacs can alert you when you get back to your
computer after being idle for that many minutes<sup><a id="fnr.82" name="fnr.82" class="footref" href="#fn.82">82</a></sup>, and
ask what you want to do with the idle time. There will be a
question waiting for you when you get back, indicating how much
idle time has passed (constantly updated with the current amount),
as well as a set of choices to correct the discrepancy:
</p>

<ul class="org-ul">
<li>k

<p>
To keep some or all of the minutes and stay clocked in, press
k.  Org will ask how many of the minutes to keep. Press <code>RET</code>
to keep them all, effectively changing nothing, or enter a
number to keep that many minutes.
</p>
</li>

<li>K

<p>
If you use the shift key and press K, it will keep however many
minutes you request and then immediately clock out of that
task. If you keep all of the minutes, this is the same as just
clocking out of the current task.
</p>
</li>

<li>s

<p>
To keep none of the minutes, use s to subtract all the away
time from the clock, and then check back in from the moment you
returned.
</p>
</li>

<li>S

<p>
To keep none of the minutes and just clock out at the start of
the away time, use the shift key and press <b><i>S</i></b>. Remember that
using shift will always leave you clocked out, no matter which
option you choose.
</p>
</li>

<li>C

<p>
To cancel the clock altogether, use <b><i>C</i></b>. Note that if instead of
canceling you subtract the away time, and the resulting clock
amount is less than a minute, the clock will still be canceled
rather than clutter up the log with an empty entry.
</p>
</li>
</ul>

<p>
What if you subtracted those away minutes from the current clock,
and now want to apply them to a new clock? Simply clock in to any
task immediately after the subtraction. Org will notice that you
have subtracted time “on the books”, so to speak, and will ask if
you want to apply those minutes to the next task you clock in on.
</p>

<p>
There is one other instance when this clock resolution magic
occurs. Say you were clocked in and hacking away, and suddenly
your cat chased a mouse who scared a hamster that crashed into
your UPS's power button!  You suddenly lose all your buffers, but
thanks to auto-save you still have your recent Org mode changes,
including your last clock in.
</p>

<p>
If you restart Emacs and clock into any task, Org will notice that
you have a dangling clock which was never clocked out from your
last session. Using that clock's starting time as the beginning of
the unaccounted-for period, Org will ask how you want to resolve
that time.  The logic and behavior is identical to dealing with
away time due to idleness; it is just happening due to a recovery
event rather than a set amount of idle time.
</p>

<p>
You can also check all the files visited by your Org agenda for
dangling clocks at any time using <b><i>M-x org-resolve-clocks RET</i></b>
(or <b><i>C-c C-x C-z</i></b>).
</p>
</div>
</div>

<div id="outline-container-sec-8-4-3-2" class="outline-5">
<h5 id="sec-8-4-3-2">Continuous clocking</h5>
<div class="outline-text-5" id="text-8-4-3-2">
<p>
You may want to start clocking from the time when you clocked out
the previous task. To enable this systematically, set
<code>org-clock-continuously</code> to <code>t</code>. Each time you clock in, Org
retrieves the clock-out time of the last clocked entry for this
session, and start the new clock from there.
</p>

<p>
If you only want this from time to time, use three universal
prefix arguments with <code>org-clock-in</code> and two <b><i>C-u C-u</i></b> with
<code>org-clock-in-last</code>.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-8-5" class="outline-3">
<h3 id="sec-8-5">8.5 Effort estimates                                               <a id="Effort-estimates" name="Effort-estimates"></a></h3>
<div class="outline-text-3" id="text-8-5">
<p>
If you want to plan your work in a very detailed way, or if you
need to produce offers with quotations of the estimated work
effort, you may want to assign effort estimates to entries. If you
are also clocking your work, you may later want to compare the
planned effort with the actual working time, a great way to improve
planning estimates. Effort estimates are stored in a special
property <code>EFFORT</code>. You can set the effort for an entry with the
following commands:
</p>

<ul class="org-ul">
<li><b><i>C-c C-x e</i></b> (<code>org-set-effort</code>)

<p>
Set the effort estimate for the current entry. With a numeric
prefix argument, set it to the Nth allowed value (see
below). This command is also accessible from the agenda with the
e key.
</p>
</li>

<li><b><i>C-c C-x C-e</i></b> (<code>org-clock-modify-effort-estimate</code>)

<p>
Modify the effort estimate of the item currently being clocked.
</p>
</li>
</ul>

<p>
Clearly the best way to work with effort estimates is through
column view (see <a href="#Column-view">Column view</a>). You should start by setting up
discrete values for effort estimates, and a <code>COLUMNS</code> format that
displays these values together with clock sums (if you want to
clock your time). For a specific buffer you can use
</p>

<pre class="example">
#+PROPERTY: Effort_ALL 0 0:10 0:30 1:00 2:00 3:00 4:00 5:00 6:00 7:00
#+COLUMNS: %40ITEM(Task) %17Effort(Estimated Effort){:} %CLOCKSUM
</pre>

<p>
or, even better, you can set up these values globally by
customizing the variables <code>org-global-properties</code> and
<code>org-columns-default-format</code>. In particular if you want to use this
setup also in the agenda, a global setup may be advised.
</p>

<p>
The way to assign estimates to individual items is then to switch
to column mode, and to use <b><i>S-right</i></b> and <b><i>S-left</i></b> to change the
value. The values you enter will immediately be summed up in the
hierarchy. In the column next to it, any clocked time will be
displayed.
</p>

<p>
If you switch to column view in the daily/weekly agenda, the effort
column will summarize the estimated work effort for each
day<sup><a id="fnr.83" name="fnr.83" class="footref" href="#fn.83">83</a></sup>, and you can use this to find space in your
schedule. To get an overview of the entire part of the day that is
committed, you can set the option
<code>org-agenda-columns-add-appointments-to-effort-sum</code>. The
appointments on a day that take place over a specified time
interval will then also be added to the load estimate of the day.
</p>

<p>
Effort estimates can be used in secondary agenda filtering that is
triggered with the / key in the agenda (see <a href="#Agenda-commands">Agenda commands</a>). If
you have these estimates defined consistently, two or three key
presses will narrow down the list to stuff that fits into an
available time slot.
</p>
</div>
</div>

<div id="outline-container-sec-8-6" class="outline-3">
<h3 id="sec-8-6">8.6 Taking notes with a timer                                      <a id="Timers" name="Timers"></a></h3>
<div class="outline-text-3" id="text-8-6">
<p>
Org provides provides two types of timers. There is a relative
timer that counts up, which can be useful when taking notes during,
for example, a meeting or a video viewing. There is also a
countdown timer.
</p>

<p>
The relative and countdown are started with separate commands.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x 0</i></b> (<code>org-timer-start</code>)

<p>
Start or reset the relative timer. By default, the timer is set
to 0.  When called with a <b><i>C-u</i></b> prefix, prompt the user for a
starting offset. If there is a timer string at point, this is
taken as the default, providing a convenient way to restart
taking notes after a break in the process. When called with a
double prefix argument <b><i>C-u C-u</i></b>, change all timer strings in
the active region by a certain amount. This can be used to fix
timer strings if the timer was not started at exactly the right
moment.
</p>
</li>

<li><b><i>C-c C-x ;</i></b> (<code>org-timer-set-timer</code>)

<p>
Start a countdown timer. The user is prompted for a duration.
<code>org-timer-default-timer</code> sets the default countdown
value. Giving a prefix numeric argument overrides this default
value. This command is available as ; in agenda buffers.
</p>
</li>
</ul>

<p>
Once started, relative and countdown timers are controlled with the
same commands.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x .</i></b> (<code>org-timer</code>)

<p>
Insert the value of the current relative or countdown timer into
the buffer. If no timer is running, the relative timer will be
started. When called with a prefix argument, the relative timer
is restarted.
</p>
</li>

<li><b><i>C-c C-x -</i></b> (<code>org-timer-item</code>)

<p>
Insert a description list item with the value of the current
relative or countdown timer. With a prefix argument, first reset
the relative timer to 0.
</p>
</li>

<li><b><i>M-RET</i></b> (<code>org-insert-heading</code>)

<p>
Once the timer list is started, you can also use M-RET to insert
new timer items.
</p>
</li>

<li><b>/C-c C-x \ /</b> (<code>org-timer-pause-or-continue</code>)

<p>
Pause the timer, or continue it if it is already paused.
</p>
</li>

<li><b><i>C-c C-x _</i></b> (<code>org-timer-stop</code>)

<p>
Stop the timer. After this, you can only start a new timer, not
continue the old one. This command also removes the timer from
the mode line.
</p>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">9 Capture - Refile - Archive</h2>
<div class="outline-text-2" id="text-9">
<p>
An important part of any organization system is the ability to
quickly capture new ideas and tasks, and to associate reference
material with them. Org does this using a process called
<i>capture</i>. It also can store files related to a task (<i>attachments</i>)
in a special directory. Once in the system, tasks and projects need
to be moved around. Moving completed project trees to an archive
file keeps the system compact and fast.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Capture">Capture</a>:</td>
<td class="left">Capturing new stuff</td>
</tr>

<tr>
<td class="left">• <a href="#Attachments">Attachments</a>:</td>
<td class="left">Add files to tasks</td>
</tr>

<tr>
<td class="left">• <a href="#RSS-feeds">RSS feeds</a>:</td>
<td class="left">Getting input from RSS feeds</td>
</tr>

<tr>
<td class="left">• <a href="#Protocols">Protocols</a>:</td>
<td class="left">External (e.g., Browser) access to Emacs and Org</td>
</tr>

<tr>
<td class="left">• <a href="#Refile-and-copy">Refile and copy</a>:</td>
<td class="left">Moving/copying a tree from one place to another</td>
</tr>

<tr>
<td class="left">• <a href="#Archiving">Archiving</a>:</td>
<td class="left">What to do with finished projects</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1">9.1 Capture                                                        <a id="Capture" name="Capture"></a></h3>
<div class="outline-text-3" id="text-9-1">
<p>
Capture lets you quickly store notes with little interruption of
your work flow. Org's method for capturing new items is heavily
inspired by John Wiegley excellent remember.el package. Up to
version 6.36, Org used a special setup for remember.el, then
replaced it with org-remember.el.  As of version 8.0,
org-remember.el has been completely replaced by org-capture.el.
</p>

<p>
If your configuration depends on org-remember.el, you need to
update it and use the setup described below. To convert your
<code>org-remember-templates</code>, run the command
</p>

<pre class="example">
M-x org-capture-import-remember-templates RET
</pre>

<p>
and then customize the new variable with <b><i>M-x customize-variable
org-capture-templates</i></b>, check the result, and save the
customization.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Setting-up-capture">Setting up capture</a>:</td>
<td class="left">Where notes will be stored</td>
</tr>

<tr>
<td class="left">• <a href="#Using-capture">Using capture</a>:</td>
<td class="left">Commands to invoke and terminate capture</td>
</tr>

<tr>
<td class="left">• <a href="#Capture-templates">Capture templates</a>:</td>
<td class="left">Define the outline of different note types</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-9-1-1" class="outline-4">
<h4 id="sec-9-1-1">9.1.1 Setting up capture                                          <a id="Setting-up-capture" name="Setting-up-capture"></a></h4>
<div class="outline-text-4" id="text-9-1-1">
<p>
The following customization sets a default target file for notes,
and defines a global key<sup><a id="fnr.84" name="fnr.84" class="footref" href="#fn.84">84</a></sup> for capturing new material.
</p>

<pre class="example">
(setq org-default-notes-file (concat org-directory "/notes.org"))
(define-key global-map "\C-cc" 'org-capture)
</pre>
</div>
</div>

<div id="outline-container-sec-9-1-2" class="outline-4">
<h4 id="sec-9-1-2">9.1.2 Using capture                                               <a id="Using-capture" name="Using-capture"></a></h4>
<div class="outline-text-4" id="text-9-1-2">
<ul class="org-ul">
<li><b><i>C-c c</i></b> (<code>org-capture</code>)

<p>
Call the command <code>org-capture</code>. Note that this keybinding is
global and not active by default: you need to install it. If
you have templates defined see <a href="#Capture-templates">Capture templates</a>, it will offer
these templates for selection or use a new Org outline node as
the default template. It will insert the template into the
target file and switch to an indirect buffer narrowed to this
new node. You may then insert the information you want.
</p>
</li>

<li><b><i>C-c C-c</i></b> (<code>org-capture-finalize</code>)

<p>
Once you have finished entering information into the capture
buffer, <b><i>C-c C-c</i></b> will return you to the window configuration
before the capture process, so that you can resume your work
without further distraction.  When called with a prefix arg,
finalize and then jump to the captured item.
</p>
</li>

<li><b><i>C-c C-w</i></b> (<code>org-capture-refile</code>)

<p>
Finalize the capture process by refiling (see <a href="#Refile-and-copy">Refile and copy</a>)
the note to a different place. Please realize that this is a
normal refiling command that will be executed &#x2013; so the cursor
position at the moment you run this command is important. If
you have inserted a tree with a parent and children, first move
the cursor back to the parent. Any prefix argument given to
this command will be passed on to the <code>org-refile</code> command.
</p>
</li>

<li><b><i>C-c C-k</i></b> (<code>org-capture-kill</code>)

<p>
Abort the capture process and return to the previous state.
</p>
</li>
</ul>

<p>
You can also call <code>org-capture</code> in a special way from the agenda,
using the k c key combination. With this access, any timestamps
inserted by the selected capture template will default to the
cursor date in the agenda, rather than to the current date.
</p>

<p>
To find the locations of the last stored capture, use
<code>org-capture</code> with prefix commands:
</p>

<ul class="org-ul">
<li><b><i>C-u C-c c</i></b>

<p>
Visit the target location of a capture template. You get to
select the template in the usual way.
</p>
</li>

<li><b><i>C-u C-u C-c c</i></b>

<p>
Visit the last stored capture item in its buffer.
</p>
</li>
</ul>

<p>
You can also jump to the bookmark <code>org-capture-last-stored</code>, which
will automatically be created unless you set
<code>org-capture-bookmark</code> to <code>nil</code>.
</p>

<p>
To insert the capture at point in an Org buffer, call
<code>org-capture</code> with a <code>C-0</code> prefix argument.
</p>
</div>
</div>

<div id="outline-container-sec-9-1-3" class="outline-4">
<h4 id="sec-9-1-3">9.1.3 Capture templates                                           <a id="Capture-templates" name="Capture-templates"></a></h4>
<div class="outline-text-4" id="text-9-1-3">
<p>
You can use templates for different types of capture items, and
for different target locations. The easiest way to create such
templates is through the customize interface.
</p>

<ul class="org-ul">
<li><b><i>C-c c C</i></b>

<p>
Customize the variable <code>org-capture-templates</code>.
</p>
</li>
</ul>

<p>
Before we give the formal description of template definitions,
let's look at an example. Say you would like to use one template
to create general TODO entries, and you want to put these entries
under the heading ‘Tasks' in your file ~/org/gtd.org. Also, a date
tree in the file journal.org should capture journal entries. A
possible configuration would look like:
</p>

<pre class="example">
(setq org-capture-templates
 '(("t" "Todo" entry (file+headline "~/org/gtd.org" "Tasks")
        "* TODO %?\n  %i\n  %a")
   ("j" "Journal" entry (file+datetree "~/org/journal.org")
        "* %?\nEntered on %U\n  %i\n  %a")))
</pre>

<p>
If you then press <b><i>C-c c t</i></b>, Org will prepare the template for
you like this:
</p>

<pre class="example">
* TODO
  [[file:link to where you initiated capture]]
</pre>

<p>
During expansion of the template, <code>%a</code> has been replaced by a link
to the location from where you called the capture command. This
can be extremely useful for deriving tasks from emails, for
example. You fill in the task definition, press <b><i>C-c C-c</i></b> and
Org returns you to the same place where you started the capture
process.
</p>

<p>
To define special keys to capture to a particular template without
going through the interactive template selection, you can create
your key binding like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(define-key global-map "\C-cx"
   (lambda () (interactive) (org-capture nil "x")))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Template-elements">Template elements</a>:</td>
<td class="left">What is needed for a complete template entry</td>
</tr>

<tr>
<td class="left">• <a href="#Template-expansion">Template expansion</a>:</td>
<td class="left">Filling in information about time and context</td>
</tr>

<tr>
<td class="left">• <a href="#Templates-in-contexts">Templates in contexts</a>:</td>
<td class="left">Only show a template in a specific context</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-9-1-3-1" class="outline-5">
<h5 id="sec-9-1-3-1">9.1.3.1 Template elements                                        <a id="Template-elements" name="Template-elements"></a></h5>
<div class="outline-text-5" id="text-9-1-3-1">
<p>
Now lets look at the elements of a template definition. Each
entry in <code>org-capture-templates</code> is a list with the following
items:
</p>

<ul class="org-ul">
<li>keys

<p>
The keys that will select the template, as a string,
characters only, for example "a" for a template to be selected
with a single key, or "bt" for selection with two keys. When
using several keys, keys using the same prefix key must be
sequential in the list and preceded by a 2-element entry
explaining the prefix key, for example
</p>

<pre class="example">
("b" "Templates for marking stuff to buy")
</pre>

<p>
If you do not define a template for the <b><i>C</i></b> key, this key
will be used to open the customize buffer for this complex
variable.
</p>
</li>

<li>description

<p>
A short string describing the template, which will be shown
during selection.
</p>
</li>

<li>type

<p>
The type of entry, a symbol. Valid values are:
</p>

<ul class="org-ul">
<li><code>entry</code>

<p>
An Org mode node, with a headline. Will be filed as the
child of the target entry or as a top-level entry. The
target file should be an Org mode file.
</p>
</li>

<li><code>item</code>

<p>
A plain list item, placed in the first plain list at the
target location. Again the target file should be an Org
file.
</p>
</li>

<li><code>checkitem</code>

<p>
A checkbox item. This only differs from the plain list item
by the default template.
</p>
</li>

<li><code>table-line</code>

<p>
a new line in the first table at the target location. Where
exactly the line will be inserted depends on the properties
<code>:prepend</code> and <code>:table-line-pos</code> (see below).
</p>
</li>

<li><code>plain</code>

<p>
Text to be inserted as it is.
</p>
</li>
</ul>
</li>

<li>target

<p>
Specification of where the captured item should be placed.  In
Org mode files, targets usually define a node. Entries will
become children of this node. Other types will be added to the
table or list in the body of this node. Most target
specifications contain a file name. If that file name is the
empty string, it defaults to <code>org-default-notes-file</code>. A file
can also be given as a variable, function, or Emacs Lisp form.
</p>

<p>
Valid values are:
</p>

<ul class="org-ul">
<li><code>(file "path/to/file")</code>

<p>
Text will be placed at the beginning or end of that file.
</p>
</li>

<li><code>(id "id of existing org entry")</code>

<p>
Filing as child of this entry, or in the body of the entry.
</p>
</li>

<li><code>(file+headline "path/to/file" "node headline")</code>

<p>
Fast configuration if the target heading is unique in the
file.
</p>
</li>

<li><code>(file+olp "path/to/file" "Level 1 heading" "Level 2" ...)</code>

<p>
For non-unique headings, the full path is safer.
</p>
</li>

<li><code>(file+regexp  "path/to/file" "regexp to find location")</code>

<p>
Use a regular expression to position the cursor.
</p>
</li>

<li><code>(file+datetree "path/to/file")</code>

<p>
Will create a heading in a date tree for today's
date<sup><a id="fnr.85" name="fnr.85" class="footref" href="#fn.85">85</a></sup>.
</p>
</li>

<li><code>(file+datetree+prompt "path/to/file")</code>

<p>
Will create a heading in a date tree, but will prompt for
the date.
</p>
</li>

<li><code>(file+function "path/to/file" function-finding-location)</code>

<p>
A function to find the right location in the file.
</p>
</li>

<li><code>(clock)</code>

<p>
File to the entry that is currently being clocked.
</p>
</li>

<li><code>(function function-finding-location)</code>

<p>
Most general way, write your own function to find both file
and location.
</p>
</li>
</ul>
</li>

<li>template

<p>
The template for creating the capture item. If you leave this
empty, an appropriate default template will be used. Otherwise
this is a string with escape codes, which will be replaced
depending on time and context of the capture call. The string
with escapes may be loaded from a template file, using the
special syntax <code>(file "path/to/template")</code>. See below for more
details.
</p>
</li>

<li>properties

<p>
The rest of the entry is a property list of additional
options. Recognized properties are:
</p>

<ul class="org-ul">
<li><code>:prepend</code>

<p>
Normally new captured information will be appended at the
target location (last child, last table line, last list
item&#x2026;). Setting this property will change that.
</p>
</li>

<li><code>:immediate-finish</code>

<p>
When set, do not offer to edit the information, just file
it away immediately. This makes sense if the template only
needs information that can be added automatically.
</p>
</li>

<li><code>:empty-lines</code>

<p>
Set this to the number of lines to insert before and after
the new item. Default 0, only common other value is 1.
</p>
</li>

<li><code>:clock-in</code>

<p>
Start the clock in this item.
</p>
</li>

<li><code>:clock-keep</code>

<p>
Keep the clock running when filing the captured entry.
</p>
</li>

<li><code>:clock-resume</code>

<p>
If starting the capture interrupted a clock, restart that
clock when finished with the capture. Note that
<code>:clock-keep</code> has precedence over <code>:clock-resume</code>. When
setting both to <code>t</code>, the current clock will run and the
previous one will not be resumed.
</p>
</li>

<li><code>:unnarrowed</code>

<p>
Do not narrow the target buffer, simply show the full
buffer. Default is to narrow it so that you only see the
new material.
</p>
</li>

<li><code>:table-line-pos</code>

<p>
Specification of the location in the table where the new
line should be inserted. It can be a string, a variable
holding a string or a function returning a string. The
string should look like "II-3" meaning that the new line
should become the third line before the second horizontal
separator line.
</p>
</li>

<li><code>:kill-buffer</code>

<p>
If the target file was not yet visited when capture was
invoked, kill the buffer again after capture is completed.
</p>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-9-1-3-2" class="outline-5">
<h5 id="sec-9-1-3-2">9.1.3.2 Template expansion                                       <a id="Template-expansion" name="Template-expansion"></a></h5>
<div class="outline-text-5" id="text-9-1-3-2">
<p>
In the template itself, special %-escapes<sup><a id="fnr.86" name="fnr.86" class="footref" href="#fn.86">86</a></sup> allow
dynamic insertion of content. The templates are expanded in the
order given here:
</p>

<pre class="example">
%[file]     Insert the contents of the file given by file.
%(sexp)     Evaluate Elisp sexp and replace with the result.
                  For convenience, %:keyword (see below) placeholders
                  within the expression will be expanded prior to this.
                  The sexp must return a string.
%&lt;...&gt;      The result of format-time-string on the ... format specification.
%t          Timestamp, date only.
%T          Timestamp, with date and time.
%u, %U      Like the above, but inactive timestamps.
%i          Initial content, the region when capture is called while the
            region is active.
            The entire text will be indented like %i itself.
%a          Annotation, normally the link created with org-store-link.
%A          Like %a, but prompt for the description part.
%l          Like %a, but only insert the literal link.
%c          Current kill ring head.
%x          Content of the X clipboard.
%k          Title of the currently clocked task.
%K          Link to the currently clocked task.
%n          User name (taken from user-full-name).
%f          File visited by current buffer when org-capture was called.
%F          Full path of the file or directory visited by current buffer.
%:keyword   Specific information for certain link types, see below.
%^g         Prompt for tags, with completion on tags in target file.
%^G         Prompt for tags, with completion all tags in all agenda files.
%^t         Like %t, but prompt for date.  Similarly %^T, %^u, %^U.
            You may define a prompt like %^{Birthday}t.
%^C         Interactive selection of which kill or clip to use.
%^L         Like %^C, but insert as link.
%^{prop}p   Prompt the user for a value for property prop.
%^{prompt}  prompt the user for a string and replace this sequence with it.
            You may specify a default value and a completion table with
            %^{prompt|default|completion2|completion3...}.
            The arrow keys access a prompt-specific history.
%\\n        Insert the text entered at the nth %^{prompt}, where n is
            a number, starting from 1.
%?          After completing the template, position cursor here.
</pre>

<p>
For specific link types, the following keywords will be
defined<sup><a id="fnr.87" name="fnr.87" class="footref" href="#fn.87">87</a></sup>:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Link type</th>
<th scope="col" class="left">Available keywords</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">bbdb</td>
<td class="left">%:name   %:company</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">irc</td>
<td class="left">%:server %:port     %:nick</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">vm, vm-imap, wl, mh, mew, rmail</td>
<td class="left">%:type   %:subject  %:message-id</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">%:from   %:fromname %:fromaddress</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">%:to     %:toname   %:toaddress</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">%:date (message date header field)</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">%:date-timestamp (date as active timestamp)</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">%:date-timestamp-inactive (date as inactive timestamp)</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">%:fromto (either "to NAME" or "from NAME")<sup><a id="fnr.88" name="fnr.88" class="footref" href="#fn.88">88</a></sup></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">gnus</td>
<td class="left">%:group, for messages also all email fields</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">w3, w3m</td>
<td class="left">%:url</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">info</td>
<td class="left">%:file %:node</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">calendar</td>
<td class="left">%:date</td>
</tr>
</tbody>
</table>

<p>
To place the cursor after template expansion use:
</p>

<pre class="example">
%?          After completing the template, position cursor here.
</pre>
</div>
</div>

<div id="outline-container-sec-9-1-3-3" class="outline-5">
<h5 id="sec-9-1-3-3">9.1.3.3 Templates in contexts                                    <a id="Templates-in-contexts" name="Templates-in-contexts"></a></h5>
<div class="outline-text-5" id="text-9-1-3-3">
<p>
To control whether a capture template should be accessible from a
specific context, you can customize
<code>org-capture-templates-contexts</code>.  Let's say for example that you
have a capture template ="p"= for storing Gnus emails containing
patches. Then you would configure this option like this:
</p>

<pre class="example">
(setq org-capture-templates-contexts
      '(("p" (in-mode . "message-mode"))))
</pre>

<p>
You can also tell that the command key ="p"= should refer to
another template. In that case, add this command key like this:
</p>

<pre class="example">
(setq org-capture-templates-contexts
      '(("p" "q" (in-mode . "message-mode"))))
</pre>

<p>
See the docstring of the variable for more information.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2">9.2 Attachments                                                    <a id="Attachments" name="Attachments"></a></h3>
<div class="outline-text-3" id="text-9-2">
<p>
It is often useful to associate reference material with an outline
node/task. Small chunks of plain text can simply be stored in the
subtree of a project. Hyperlinks (see <a href="#Hyperlinks">Hyperlinks</a>) can establish
associations with files that live elsewhere on your computer or in
the cloud, like emails or source code files belonging to a
project. Another method is <i>attachments</i>, which are files located
in a directory belonging to an outline node. Org uses directories
named by the unique ID of each entry. These directories are located
in the data directory which lives in the same directory where your
Org file lives<sup><a id="fnr.89" name="fnr.89" class="footref" href="#fn.89">89</a></sup>. If you initialize this directory with
<code>git init</code>, Org will automatically commit changes when it sees
them. The attachment system has been contributed to Org by John
Wiegley.
</p>

<p>
In cases where it seems better to do so, you can also attach a
directory of your choice to an entry. You can also make children
inherit the attachment directory from a parent, so that an entire
subtree uses the same attached directory.
</p>

<p>
The following commands deal with attachments:
</p>

<ul class="org-ul">
<li><b><i>C-c C-a</i></b> (<code>org-attach</code>)

<p>
The dispatcher for commands related to the attachment
system. After these keys, a list of commands is displayed and you
must press an additional key to select a command:
</p>

<ul class="org-ul">
<li>a (<code>org-attach-attach</code>)

<p>
Select a file and move it into the task's attachment
directory. The file will be copied, moved, or linked,
depending on <code>org-attach-method</code>. Note that hard links are not
supported on all systems.
</p>
</li>

<li>c/m/l

<p>
Attach a file using the copy/move/link method. Note that hard
links are not supported on all systems.
</p>
</li>

<li>n (<code>org-attach-new</code>)

<p>
Create a new attachment as an Emacs buffer.
</p>
</li>

<li>z (<code>org-attach-sync</code>)

<p>
Synchronize the current task with its attachment directory, in
case you added attachments yourself.
</p>
</li>

<li>o (<code>org-attach-open</code>)

<p>
Open current task's attachment. If there is more than one,
prompt for a file name first. Opening will follow the rules
set by <code>org-file-apps</code>.  For more details, see the information
on following hyperlinks (see <a href="#Handling-links">Handling links</a>).
</p>
</li>

<li>O (<code>org-attach-open-in-emacs</code>)

<p>
Also open the attachment, but force opening the file in Emacs.
</p>
</li>

<li>f (<code>org-attach-reveal</code>)

<p>
Open the current task's attachment directory.
</p>
</li>

<li>F (<code>org-attach-reveal-in-emacs</code>)

<p>
Also open the directory, but force using <code>dired</code> in Emacs.
</p>
</li>

<li>d (<code>org-attach-delete-one</code>)

<p>
Select and delete a single attachment.
</p>
</li>

<li>D (<code>org-attach-delete-all</code>)

<p>
Delete all of a task's attachments. A safer way is to open the
directory in <code>dired</code> and delete from there.
</p>
</li>

<li>s (<code>org-attach-set-directory</code>)

<p>
Set a specific directory as the entry's attachment
directory. This works by putting the directory path into the
<code>ATTACH_DIR</code> property.
</p>
</li>

<li>i (<code>org-attach-set-inherit</code>)

<p>
Set the <code>ATTACH_DIR_INHERIT</code> property, so that children will
use the same directory for attachments as the parent does.
</p>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3">9.3 RSS feeds                                                      <a id="RSS-feeds" name="RSS-feeds"></a></h3>
<div class="outline-text-3" id="text-9-3">
<p>
Org can add and change entries based on information found in RSS
feeds and Atom feeds. You could use this to make a task out of each
new podcast in a podcast feed. Or you could use a phone-based
note-creating service on the web to import tasks into Org. To
access feeds, configure the variable <code>org-feed-alist</code>. The
docstring of this variable has detailed information. Here is just
an example:
</p>

<pre class="example">
(setq org-feed-alist
     '(("Slashdot"
         "http://rss.slashdot.org/Slashdot/slashdot"
         "~/txt/org/feeds.org" "Slashdot Entries")))
</pre>

<p>
will configure that new items from the feed provided by
<code>rss.slashdot.org</code> will result in new entries in the file
~/org/feeds.org under the heading ‘Slashdot Entries', whenever the
following command is used:
</p>

<ul class="org-ul">
<li><b><i>C-c C-x g</i></b> (<code>org-feed-update-all</code>)
</li>
<li><b><i>C-c C-x g</i></b>

<p>
Collect items from the feeds configured in <code>org-feed-alist</code> and
act upon them.
</p>
</li>

<li><b><i>C-c C-x G</i></b> (<code>org-feed-goto-inbox</code>)

<p>
Prompt for a feed name and go to the inbox configured for this
feed.
</p>
</li>
</ul>

<p>
Under the same headline, Org will create a drawer ‘FEEDSTATUS' in
which it will store information about the status of items in the
feed, to avoid adding the same item several times.
</p>

<p>
For more information, including how to read atom feeds, see
org-feed.el and the docstring of <code>org-feed-alist</code>.
</p>
</div>
</div>

<div id="outline-container-sec-9-4" class="outline-3">
<h3 id="sec-9-4">9.4 Protocols for external access                                  <a id="Protocols" name="Protocols"></a></h3>
<div class="outline-text-3" id="text-9-4">
<p>
You can set up Org for handling protocol calls from outside
applications that are passed to Emacs through the emacsserver. For
example, you can configure bookmarks in your web browser to send a
link to the current page to Org and create a note from it using
capture (see <a href="#Capture">Capture</a>). Or you could create a bookmark that will
tell Emacs to open the local source file of a remote website you
are looking at with the browser. See
<a href="http://orgmode.org/worg/org-contrib/org-protocol.php">http://orgmode.org/worg/org-contrib/org-protocol.php</a> for detailed
documentation and setup instructions.
</p>
</div>
</div>

<div id="outline-container-sec-9-5" class="outline-3">
<h3 id="sec-9-5">9.5 Refile and copy                                                <a id="Refile-and-copy" name="Refile-and-copy"></a></h3>
<div class="outline-text-3" id="text-9-5">
<p>
When reviewing the captured data, you may want to refile or to copy
some of the entries into a different list, for example into a
project.  Cutting, finding the right location, and then pasting the
note is cumbersome. To simplify this process, you can use the
following special command:
</p>

<ul class="org-ul">
<li><b><i>C-c M-w</i></b> (<code>org-copy</code>)

<p>
Copying works like refiling, except that the original note is
not deleted.
</p>
</li>

<li><b><i>C-c C-w</i></b> (<code>org-refile</code>)

<p>
Refile the entry or region at point. This command offers
possible locations for refiling the entry and lets you select
one with completion. The item (or all items in the region) is
filed below the target heading as a subitem. Depending on
<code>org-reverse-note-order</code>, it will be either the first or last
subitem.
</p>

<p>
By default, all level 1 headlines in the current buffer are
considered to be targets, but you can have more complex
definitions across a number of files. See the variable
<code>org-refile-targets</code> for details. If you would like to select a
location via a file-path-like completion along the outline path,
see the variables <code>org-refile-use-outline-path</code> and
<code>org-outline-path-complete-in-steps</code>. If you would like to be
able to create new nodes as new parents for refiling on the fly,
check the variable
<code>org-refile-allow-creating-parent-nodes</code>. When the variable
<code>org-log-refile</code> <sup><a id="fnr.90" name="fnr.90" class="footref" href="#fn.90">90</a></sup> is set, a timestamp or a note will
be recorded when an entry has been refiled.
</p>
</li>

<li><b><i>C-u C-c C-w</i></b>

<p>
Use the refile interface to jump to a heading.
</p>
</li>

<li><b><i>C-u C-u C-c C-w</i></b> (<code>org-refile-goto-last-stored</code>)

<p>
Jump to the location where <code>org-refile</code> last moved a tree to.
</p>
</li>

<li><b><i>C-2 C-c C-w</i></b>

<p>
Refile as the child of the item currently being clocked.
</p>
</li>

<li><b><i>C-3 C-c C-w</i></b>

<p>
Refile and keep the entry in place. Also see <code>org-refile-keep</code>
to make this the default behavior, and beware that this may
result in duplicated <code>ID</code> properties.
</p>
</li>

<li><b><i>C-0 C-c C-w</i></b> or <b><i>C-u C-u C-u C-c C-w</i></b> (<code>org-refile-cache-clear</code>)

<p>
Clear the target cache. Caching of refile targets can be turned
on by setting <code>org-refile-use-cache</code>. To make the command see
new possible targets, you have to clear the cache with this
command.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-9-6" class="outline-3">
<h3 id="sec-9-6">9.6 Archiving                                                      <a id="Archiving" name="Archiving"></a></h3>
<div class="outline-text-3" id="text-9-6">
<p>
When a project represented by a (sub)tree is finished, you may want
to move the tree out of the way and to stop it from contributing to
the agenda. Archiving is important to keep your working files
compact and global searches like the construction of agenda views
fast.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x C-a</i></b> (<code>org-archive-subtree-default</code>)

<p>
Archive the current entry using the command specified in the
variable <code>org-archive-default-command</code>.
</p>
</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Moving-subtrees">Moving subtrees</a>:</td>
<td class="left">Moving a tree to an archive file</td>
</tr>

<tr>
<td class="left">• <a href="#Internal-archiving">Internal archiving</a>:</td>
<td class="left">Switch off a tree but keep it in the file</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-9-6-1" class="outline-4">
<h4 id="sec-9-6-1">9.6.1 Moving a tree to the archive file                           <a id="Moving-subtrees" name="Moving-subtrees"></a></h4>
<div class="outline-text-4" id="text-9-6-1">
<p>
The most common archiving action is to move a project tree to
another file, the archive file.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x C-s</i></b> or short <b><i>C-c $</i></b> (<code>org-archive-subtree</code>)

<p>
Archive the subtree starting at the cursor position to the
location given by <code>org-archive-location</code>.
</p>
</li>

<li><b><i>C-u C-c C-x C-s</i></b>

<p>
Check if any direct children of the current headline could be
moved to the archive. To do this, each subtree is checked for
open TODO entries.  If none are found, the command offers to
move it to the archive location. If the cursor is <i>not</i> on a
headline when this command is invoked, the level 1 trees will
be checked.
</p>
</li>

<li><b><i>C-u C-u C-c C-x C-s</i></b>

<p>
As above, but check subtree for timestamps instead of TODO
entries. The command will offer to archive the subtree if it
<i>does</i> contain a timestamp, and that timestamp is in the past.
</p>
</li>
</ul>

<p>
The default archive location is a file in the same directory as
the current file, with the name derived by appending <code>_archive</code> to
the current file name. You can also choose what heading to file
archived items under, with the possibility to add them to a
datetree in a file.  For information and examples on how to
specify the file and the heading, see the documentation string of
the variable <code>org-archive-location</code>.
</p>

<p>
There is also an in-buffer option for setting this variable, for
example:
</p>

<pre class="example">
#+ARCHIVE: %s_done::
</pre>

<p>
If you would like to have a special ARCHIVE location for a single
entry or a (sub)tree, give the entry an <code>:ARCHIVE:</code> property with
the location as the value (see <a href="#Properties-and-columns">Properties and columns</a>).
</p>

<p>
When a subtree is moved, it receives a number of special
properties that record context information like the file from
where the entry came, its outline path the archiving time
etc. Configure the variable <code>org-archive-save-context-info</code> to
adjust the amount of information added.
</p>
</div>
</div>

<div id="outline-container-sec-9-6-2" class="outline-4">
<h4 id="sec-9-6-2">9.6.2 Internal archiving                                          <a id="Internal-archiving" name="Internal-archiving"></a></h4>
<div class="outline-text-4" id="text-9-6-2">
<p>
If you want to just switch off (for agenda views) certain subtrees
without moving them to a different file, you can use the <code>ARCHIVE
    tag</code>.
</p>

<p>
A headline that is marked with the ARCHIVE tag (see <a href="#Tags">Tags</a>) stays at
its location in the outline tree, but behaves in the following
way:
</p>

<ul class="org-ul">
<li>It does not open when you attempt to do so with a visibility
cycling command (see <a href="#Visibility-cycling">Visibility cycling</a>).  You can force
cycling archived subtrees with C-TAB, or by setting the option
<code>org-cycle-open-archived-trees</code>. Also normal outline commands
like <code>show-all</code> will open archived subtrees.
</li>

<li>During sparse tree construction (see <a href="#Sparse-trees">Sparse trees</a>), matches in
archived subtrees are not exposed, unless you configure the
option <code>org-sparse-tree-open-archived-trees</code>.
</li>

<li>During agenda view construction (see <a href="#Agenda-views">Agenda views</a>), the content
of archived trees is ignored unless you configure the option
<code>org-agenda-skip-archived-trees</code>, in which case these trees
will always be included. In the agenda you can press v a to get
archives temporarily included.
</li>

<li>Archived trees are not exported (see <a href="#Exporting">Exporting</a>), only the
headline is. Configure the details using the variable
<code>org-export-with-archived-trees</code>.
</li>

<li>Archived trees are excluded from column view unless the
variable <code>org-columns-skip-archived-trees</code> is configured to
<code>nil</code>.
</li>
</ul>

<p>
The following commands help manage the ARCHIVE tag:
</p>

<ul class="org-ul">
<li><b><i>C-c C-x a</i></b> (<code>org-toggle-archive-tag</code>)

<p>
Toggle the ARCHIVE tag for the current headline. When the tag
is set, the headline changes to a shadowed face, and the
subtree below it is hidden.
</p>
</li>

<li><b><i>C-u C-c C-x a</i></b>

<p>
Check if any direct children of the current headline should be
archived.  To do this, each subtree is checked for open TODO
entries. If none are found, the command offers to set the
ARCHIVE tag for the child. If the cursor is <i>not</i> on a headline
when this command is invoked, the level 1 trees will be
checked.
</p>
</li>

<li><b><i>C-TAB</i></b> (<code>org-force-cycle-archived</code>)

<p>
Cycle a tree even if it is tagged with ARCHIVE.
</p>
</li>

<li><b><i>C-c C-x A</i></b> (<code>org-archive-to-archive-sibling</code>)

<p>
Move the current entry to the <i>Archive Sibling</i>. This is a
sibling of the entry with the heading ‘Archive' and the tag
‘ARCHIVE'. The entry becomes a child of that sibling and in
this way retains a lot of its original context, including
inherited tags and approximate position in the outline.
</p>
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">10 Agenda views                                                     <a id="Agenda-views" name="Agenda-views"></a></h2>
<div class="outline-text-2" id="text-10">
<p>
Due to the way Org works, TODO items, time-stamped items, and tagged
headlines can be scattered throughout a file or even a number of
files.  To get an overview of open action items, or of events that
are important for a particular date, this information must be
collected, sorted and displayed in an organized way.
</p>

<p>
Org can select items based on various criteria and display them in a
separate buffer. Seven different view types are provided:
</p>

<ul class="org-ul">
<li>an <i>agenda</i> that is like a calendar and shows information for
specific dates,
</li>

<li>a <i>TODO list</i> that covers all unfinished action items,
</li>

<li>a <i>match view</i>, showings headlines based on the tags, properties,
and TODO state associated with them,
</li>

<li>a <i>timeline view</i> that shows all events in a single Org file, in
time-sorted view,
</li>

<li>a <i>text search view</i> that shows all entries from multiple files
that contain specified keywords,
</li>

<li>a <i>stuck projects view</i> showing projects that currently don't
move along, and
</li>

<li><i>custom views</i> that are special searches and combinations of
different views.
</li>
</ul>

<p>
The extracted information is displayed in a special <i>agenda buffer</i>.
This buffer is read-only, but provides commands to visit the
corresponding locations in the original Org files, and even to edit
these files remotely.
</p>

<p>
Two variables control how the agenda buffer is displayed and whether
the window configuration is restored when the agenda exits:
<code>org-agenda-window-setup</code> and
<code>org-agenda-restore-windows-after-quit</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Agenda-files">Agenda files</a>:</td>
<td class="left">Files being searched for agenda information</td>
</tr>

<tr>
<td class="left">• <a href="#Agenda-dispatcher">Agenda dispatcher</a>:</td>
<td class="left">Keyboard access to agenda views</td>
</tr>

<tr>
<td class="left">• <a href="#Built_in-agenda-views">Built-in agenda views</a>:</td>
<td class="left">What is available out of the box?</td>
</tr>

<tr>
<td class="left">• <a href="#Presentation-and-sorting">Presentation and sorting</a>:</td>
<td class="left">How agenda items are prepared for display</td>
</tr>

<tr>
<td class="left">• <a href="#Agenda-commands">Agenda commands</a>:</td>
<td class="left">Remote editing of Org trees</td>
</tr>

<tr>
<td class="left">• <a href="#Custom-agenda-views">Custom agenda views</a>:</td>
<td class="left">Defining special searches and views</td>
</tr>

<tr>
<td class="left">• <a href="#Exporting-agenda-views">Exporting agenda views</a>:</td>
<td class="left">Writing a view to a file</td>
</tr>

<tr>
<td class="left">• <a href="#Agenda-column-view">Agenda column view</a>:</td>
<td class="left">Using column view for collected entries</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1">10.1 Agenda files                                                  <a id="Agenda-files" name="Agenda-files"></a></h3>
<div class="outline-text-3" id="text-10-1">
<p>
The information to be shown is normally collected from all <i>agenda
files</i>, the files listed in the variable
<code>org-agenda-files</code> <sup><a id="fnr.91" name="fnr.91" class="footref" href="#fn.91">91</a></sup>. If a directory is part of this list,
all files with the extension .org in this directory will be part of
the list.
</p>

<p>
Thus, even if you only work with a single Org file, that file
should be put into the list<sup><a id="fnr.92" name="fnr.92" class="footref" href="#fn.92">92</a></sup>. You can customize
<code>org-agenda-files</code>, but the easiest way to maintain it is through
the following commands
</p>

<ul class="org-ul">
<li><b><i>C-c [</i></b> (<code>org-agenda-file-to-front</code>)

<p>
Add current file to the list of agenda files. The file is added
to the front of the list. If it was already in the list, it is
moved to the front. With a prefix argument, file is added/moved
to the end.
</p>
</li>

<li><b><i>C-c ]</i></b> (<code>org-remove-file</code>)

<p>
Remove current file from the list of agenda files.
</p>
</li>

<li><b>/C-'/</b> (<code>org-cycle-agenda-files</code>)
</li>
<li><b>/C-,/</b>

<p>
Cycle through agenda file list, visiting one file after the
other.
</p>
</li>

<li><b><i>M-x org-iswitchb RET</i></b>

<p>
Command to use an <code>iswitchb</code>-like interface to switch to and
between Org buffers.
</p>
</li>
</ul>

<p>
The Org menu contains the current list of files and can be used to
visit any of them.
</p>

<p>
If you would like to focus the agenda temporarily on a file not in
this list, or on just one file in the list, or even on only a
subtree in a file, then this can be done in different ways. For a
single agenda command, you may press &lt; once or several times in the
dispatcher (see <a href="#Agenda-dispatcher">Agenda dispatcher</a>). To restrict the agenda scope
for an extended period, use the following commands:
</p>

<ul class="org-ul">
<li><b><i>C-c C-x &lt;</i></b> (<code>org-agenda-set-restriction-lock</code>)

<p>
Permanently restrict the agenda to the current subtree. When
with a prefix argument, or with the cursor before the first
headline in a file, the agenda scope is set to the entire
file. This restriction remains in effect until removed with
<b><i>C-c C-x &gt;</i></b>, or by typing either &lt; or &gt; in the agenda
dispatcher. If there is a window displaying an agenda view, the
new restriction takes effect immediately.
</p>
</li>

<li><b><i>C-c C-x &gt;</i></b> (<code>org-agenda-remove-restriction-lock</code>)

<p>
Remove the permanent restriction created by <b><i>C-c C-x &lt;</i></b>.
</p>
</li>
</ul>

<p>
When working with speedbar.el, you can use the following commands
in the Speedbar frame:
</p>

<ul class="org-ul">
<li>&lt; in the speedbar frame (<code>org-speedbar-set-agenda-restriction</code>)

<p>
Permanently restrict the agenda to the item &#x2013; either an Org
file or a subtree in such a file &#x2013; at the cursor in the
Speedbar frame. If there is a window displaying an agenda view,
the new restriction takes effect immediately.
</p>
</li>

<li>&gt; in the speedbar frame (<code>org-agenda-remove-restriction-lock</code>)

<p>
Lift the restriction.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2">10.2 The agenda dispatcher                                         <a id="Agenda-dispatcher" name="Agenda-dispatcher"></a></h3>
<div class="outline-text-3" id="text-10-2">
<p>
The views are created through a dispatcher, which should be bound
to a global key &#x2013; for example <b><i>C-c a</i></b> (see <a href="#Activation">Activation</a>). In the
following we will assume that <b><i>C-c a</i></b> is indeed how the
dispatcher is accessed and list keyboard access to commands
accordingly. After pressing <b><i>C-c a</i></b>, an additional letter is
required to execute a command.  The dispatcher offers the following
default commands:
</p>

<ul class="org-ul">
<li>a

<p>
Create the calendar-like agenda (see <a href="#Weekly_daily-agenda">Weekly/daily agenda</a>).
</p>
</li>

<li>t / T

<p>
Create a list of all TODO items (see <a href="#Global-TODO-list">Global TODO list</a>).
</p>
</li>

<li>m / M

<p>
Create a list of headlines matching a TAGS expression (see
<a href="#Matching-tags-and-properties">Matching tags and properties</a>).
</p>
</li>

<li>L

<p>
Create the timeline view for the current buffer (see <a href="#Timeline">Timeline</a>).
</p>
</li>

<li>s

<p>
Create a list of entries selected by a boolean expression of
keywords and/or regular expressions that must or must not occur
in the entry.
</p>
</li>

<li>/

<p>
Search for a regular expression in all agenda files and
additionally in the files listed in
<code>org-agenda-text-search-extra-files</code>. This uses the Emacs
command <code>multi-occur</code>. A prefix argument can be used to specify
the number of context lines for each match, default is 1.
</p>
</li>

<li># / !

<p>
Create a list of stuck projects (see <a href="#Stuck-projects">Stuck projects</a>).
</p>
</li>

<li>&lt;

<p>
Restrict an agenda command to the current
buffer<sup><a id="fnr.93" name="fnr.93" class="footref" href="#fn.93">93</a></sup>. After pressing &lt;, you still need to press the
character selecting the command.
</p>
</li>

<li>&lt; &lt;

<p>
If there is an active region, restrict the following agenda
command to the region. Otherwise, restrict it to the current
subtree<sup><a id="fnr.94" name="fnr.94" class="footref" href="#fn.94">94</a></sup>. After pressing &lt; &lt;, you still need to press
the character selecting the command.
</p>
</li>

<li>*

<p>
Toggle sticky agenda views. By default, Org maintains only a
single agenda buffer and rebuilds it each time you change the
view, to make sure everything is always up to date. If you often
switch between agenda views and the build time bothers you, you
can turn on sticky agenda buffers or make this the default by
customizing the variable <code>org-agenda-sticky</code>. With sticky
agendas, the agenda dispatcher will not recreate agenda views
from scratch, it will only switch to the selected one, and you
need to update the agenda by hand with r or g when needed. You
can toggle sticky agenda view any time with
<code>org-toggle-sticky-agenda</code>.
</p>
</li>
</ul>

<p>
You can also define custom commands that will be accessible through
the dispatcher, just like the default commands. This includes the
possibility to create extended agenda buffers that contain several
blocks together, for example the weekly agenda, the global TODO
list and a number of special tags matches. See <a href="#Custom-agenda-views">Custom agenda views</a>.
</p>
</div>
</div>

<div id="outline-container-sec-10-3" class="outline-3">
<h3 id="sec-10-3">10.3 The built-in agenda views                                     <a id="Built_in-agenda-views" name="Built_in-agenda-views"></a></h3>
<div class="outline-text-3" id="text-10-3">
<p>
In this section we describe the built-in views.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Weekly_daily-agenda">Weekly/daily agenda</a>:</td>
<td class="left">The calendar page with current tasks</td>
</tr>

<tr>
<td class="left">• <a href="#Global-TODO-list">Global TODO list</a>:</td>
<td class="left">All unfinished action items</td>
</tr>

<tr>
<td class="left">• <a href="#Matching-tags-and-properties">Matching tags and properties</a>:</td>
<td class="left">Structured information with fine-tuned search</td>
</tr>

<tr>
<td class="left">• <a href="#Timeline">Timeline</a>:</td>
<td class="left">Time-sorted view for single file</td>
</tr>

<tr>
<td class="left">• <a href="#Search-view">Search view</a>:</td>
<td class="left">Find entries by searching for text</td>
</tr>

<tr>
<td class="left">• <a href="#Stuck-projects">Stuck projects</a>:</td>
<td class="left">Find projects you need to review</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-10-3-1" class="outline-4">
<h4 id="sec-10-3-1">10.3.1 The weekly/daily agenda                                    <a id="Weekly_daily-agenda" name="Weekly_daily-agenda"></a></h4>
<div class="outline-text-4" id="text-10-3-1">
<p>
The purpose of the weekly/daily <i>agenda</i> is to act like a page of
a paper agenda, showing all the tasks for the current week or day.
</p>

<ul class="org-ul">
<li><b><i>C-c a a</i></b> (<code>org-agenda-list</code>)

<p>
Compile an agenda for the current week from a list of Org
files. The agenda shows the entries for each day. With a
numeric prefix<sup><a id="fnr.95" name="fnr.95" class="footref" href="#fn.95">95</a></sup> (like <b><i>C-u 2 1 C-c a a</i></b>) you may
set the number of days to be displayed.
</p>
</li>
</ul>

<p>
The default number of days displayed in the agenda is set by the
variable <code>org-agenda-span</code> (or the obsolete
<code>org-agenda-ndays</code>). This variable can be set to any number of
days you want to see by default in the agenda, or to a span name,
such as <code>day</code>, <code>week</code>, <code>month</code> or <code>year</code>.  For weekly agendas, the
default is to start on the previous monday (see
<code>org-agenda-start-on-weekday</code>). You can also set the start date
using a date shift: <code>(setq org-agenda-start-day "+10d")</code> will
start the agenda ten days from today in the future.
</p>

<p>
Remote editing from the agenda buffer means, for example, that you
can change the dates of deadlines and appointments from the agenda
buffer.  The commands available in the Agenda buffer are listed in
<a href="#Agenda-commands">Agenda commands</a>.
</p>
</div>

<div id="outline-container-sec-10-3-1-1" class="outline-5">
<h5 id="sec-10-3-1-1">Calendar/Diary integration</h5>
<div class="outline-text-5" id="text-10-3-1-1">
<p>
Emacs contains the calendar and diary by Edward M. Reingold. The
calendar displays a three-month calendar with holidays from
different countries and cultures. The diary allows you to keep
track of anniversaries, lunar phases, sunrise/set, recurrent
appointments (weekly, monthly) and more. In this way, it is quite
complementary to Org. It can be very useful to combine output
from Org with the diary.
</p>

<p>
In order to include entries from the Emacs diary into Org mode's
agenda, you only need to customize the variable
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-include-diary t)
</pre>
</div>

<p>
After that, everything will happen automatically. All diary
entries including holidays, anniversaries, etc., will be included
in the agenda buffer created by Org mode. <code>SPC</code>, <code>TAB</code>, and <code>RET</code>
can be used from the agenda buffer to jump to the diary file in
order to edit existing diary entries. The i command to insert new
entries for the current date works in the agenda buffer, as well
as the commands S, M, and C to display Sunrise/Sunset times, show
lunar phases and to convert to other calendars, respectively. c
can be used to switch back and forth between calendar and agenda.
</p>

<p>
If you are using the diary only for sexp entries and holidays, it
is faster to not use the above setting, but instead to copy or
even move the entries into an Org file. Org mode evaluates
diary-style sexp entries, and does it faster because there is no
overhead for first creating the diary display. Note that the sexp
entries must start at the left margin, no whitespace is allowed
before them. For example, the following segment of an Org file
will be processed and entries will be made in the agenda:
</p>

<pre class="example">
* Holidays
  :PROPERTIES:
  :CATEGORY: Holiday
  :END:
%%(org-calendar-holiday)   ; special function for holiday names

* Birthdays
  :PROPERTIES:
  :CATEGORY: Ann
  :END:
%%(org-anniversary 1956  5 14)[fn:FOOT100] Arthur Dent is %d years old
%%(org-anniversary 1869 10  2) Mahatma Gandhi would be %d years old
</pre>
</div>
</div>

<div id="outline-container-sec-10-3-1-2" class="outline-5">
<h5 id="sec-10-3-1-2">Anniversaries from BBDB</h5>
<div class="outline-text-5" id="text-10-3-1-2">
<p>
If you are using the Big Brothers Database to store your
contacts, you will very likely prefer to store anniversaries in
BBDB rather than in a separate Org or diary file. Org supports
this and will show BBDB anniversaries as part of the agenda. All
you need to do is to add the following to one of your agenda
files:
</p>

<pre class="example">
* Anniversaries
  :PROPERTIES:
  :CATEGORY: Anniv
  :END:
%%(org-bbdb-anniversaries)
</pre>

<p>
You can then go ahead and define anniversaries for a BBDB record.
Basically, you need to press <b><i>C-o anniversary RET</i></b> with the
cursor in a BBDB record and then add the date in the format
<code>YYYY-MM-DD</code> or <code>MM-DD</code>, followed by a space and the class of the
anniversary (‘birthday' or ‘wedding', or a format string). If you
omit the class, it will default to ‘birthday'. Here are a few
examples, the header for the file org-bbdb.el contains more
detailed information.
</p>

<pre class="example">
1973-06-22
06-22
1955-08-02 wedding
2008-04-14 %s released version 6.01 of org mode, %d years ago
</pre>

<p>
After a change to BBDB, or for the first agenda display during an
Emacs session, the agenda display will suffer a short delay as
Org updates its hash with anniversaries. However, from then on
things will be very fast &#x2013; much faster in fact than a long list
of ‘%%(diary-anniversary)' entries in an Org or Diary file.
</p>
</div>
</div>

<div id="outline-container-sec-10-3-1-3" class="outline-5">
<h5 id="sec-10-3-1-3">Appointment reminders</h5>
<div class="outline-text-5" id="text-10-3-1-3">
<p>
Org can interact with Emacs appointments notification
facility. To add the appointments of your agenda files, use the
command <code>org-agenda-to-appt</code>. This command lets you filter
through the list of your appointments and add only those
belonging to a specific category or matching a regular
expression. It also reads a <code>APPT_WARNTIME</code> property which will
then override the value of <code>appt-message-warning-time</code> for this
appointment. See the docstring for details.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-10-3-2" class="outline-4">
<h4 id="sec-10-3-2">10.3.2 The global TODO list                                       <a id="Global-TODO-list" name="Global-TODO-list"></a></h4>
<div class="outline-text-4" id="text-10-3-2">
<p>
The global TODO list contains all unfinished TODO items formatted
and collected into a single place.
</p>

<ul class="org-ul">
<li><b><i>C-c a t</i></b> (<code>org-todo-list</code>)

<p>
Show the global TODO list. This collects the TODO items from
all agenda files (see <a href="#Agenda-views">Agenda views</a>) into a single buffer. By
default, this lists items with a state the is not a DONE
state. The buffer is in <code>agenda-mode</code>, so there are commands to
examine and manipulate the TODO entries directly from that
buffer (see <a href="#Agenda-commands">Agenda commands</a>).
</p>
</li>

<li><b><i>C-c a T</i></b> (<code>org-todo-list</code>)

<p>
Like the above, but allows selection of a specific TODO
keyword. You can also do this by specifying a prefix argument
to <b><i>C-c a t</i></b>. You are prompted for a keyword, and you may
also specify several keywords by separating them with ‘|' as
the boolean OR operator. With a numeric prefix, the Nth keyword
in <code>org-todo-keywords</code> is selected. The r key in the agenda
buffer regenerates it, and you can give a prefix argument to
this command to change the selected TODO keyword, for example 3
r. If you often need a search for a specific keyword, define a
custom command for it (see <a href="#Agenda-dispatcher">Agenda dispatcher</a>).
</p>

<p>
Matching specific TODO keywords can also be done as part of a
tags search (see <a href="#Tag-searches">Tag searches</a>).
</p>
</li>
</ul>

<p>
Remote editing of TODO items means that you can change the state
of a TODO entry with a single key press. The commands available in
the TODO list are described in <a href="#Agenda-commands">Agenda commands</a>.
</p>

<p>
Normally the global TODO list simply shows all headlines with TODO
keywords. This list can become very long. There are two ways to
keep it more compact:
</p>

<ul class="org-ul">
<li>Some people view a TODO item that has been <i>scheduled</i> for
execution or have a <i>deadline</i> (see <a href="#Timestamps">Timestamps</a>) as no longer
<i>open</i>. Configure the variables
<code>org-agenda-todo-ignore-scheduled</code>,
<code>org-agenda-todo-ignore-deadlines</code>,
<code>org-agenda-todo-ignore-timestamp</code> and/or
<code>org-agenda-todo-ignore-with-date</code> to exclude such items from
the global TODO list.
</li>

<li>TODO items may have sublevels to break up the task into
subtasks.  In such cases it may be enough to list only the
highest level TODO headline and omit the sublevels from the
global list. Configure the variable
<code>org-agenda-todo-list-sublevels</code> to get this behavior.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-3-3" class="outline-4">
<h4 id="sec-10-3-3">10.3.3 Matching tags and properties                               <a id="Matching-tags-and-properties" name="Matching-tags-and-properties"></a></h4>
<div class="outline-text-4" id="text-10-3-3">
<p>
If headlines in the agenda files are marked with <i>tags</i> (see
<a href="#Tags">Tags</a>), or have properties (see <a href="#Properties-and-columns">Properties and columns</a>), you can
select headlines based on this metadata and collect them into an
agenda buffer.  The match syntax described here also applies when
creating sparse trees with <b><i>C-c / m</i></b>.
</p>

<ul class="org-ul">
<li><b><i>C-c a m</i></b> (<code>org-tags-view</code>)

<p>
Produce a list of all headlines that match a given set of
tags. The command prompts for a selection criterion, which is a
boolean logic expression with tags, like
‘+work+urgent-withboss' or ‘work|home' (see <a href="#Tags">Tags</a>). If you often
need a specific search, define a custom command for it (see
<a href="#Agenda-dispatcher">Agenda dispatcher</a>).
</p>
</li>

<li><b><i>C-c a M</i></b> (<code>org-tags-view</code>)

<p>
Like <b><i>C-c a m</i></b>, but only select headlines that are also TODO
items in a not-DONE state and force checking subitems (see
variable <code>org-tags-match-list-sublevels</code>). To exclude
scheduled/deadline items, see the variable
<code>org-agenda-tags-todo-honor-ignore-options</code>. Matching specific
TODO keywords together with a tags match is also possible, see
<a href="#Tag-searches">Tag searches</a>.
</p>
</li>
</ul>

<p>
The commands available in the tags list are described in <a href="#Agenda-commands">Agenda
commands</a>.
</p>
</div>

<div id="outline-container-sec-10-3-3-1" class="outline-5">
<h5 id="sec-10-3-3-1">Match syntax</h5>
<div class="outline-text-5" id="text-10-3-3-1">
<p>
A search string can use Boolean operators ‘&amp;' for <code>AND</code> and ‘|'
for <code>OR</code>. ‘&amp;' binds more strongly than ‘|'. Parentheses are not
implemented.  Each element in the search is either a tag, a
regular expression matching tags, or an expression like <code>PROPERTY
     OPERATOR VALUE</code> with a comparison operator, accessing a property
value. Each element may be preceded by ‘-', to select against it,
and ‘+' is syntactic sugar for positive selection. The <code>AND</code>
operator ‘&amp;' is optional when ‘+' or ‘-' is present. Here are
some examples, using only tags.
</p>

<ul class="org-ul">
<li>‘work'

<p>
Select headlines tagged ‘:work:'.
</p>
</li>

<li>‘work&amp;boss'

<p>
Select headlines tagged ‘:work:' and ‘:boss:'.
</p>
</li>

<li>‘+work-boss'

<p>
Select headlines tagged ‘:work:', but discard those also
tagged ‘:boss:'.
</p>
</li>

<li>‘work|laptop'

<p>
Selects lines tagged ‘:work:' or ‘:laptop:'.
</p>
</li>

<li>‘work|laptop+night'

<p>
Like before, but require the ‘:laptop:' lines to be tagged
also ‘:night:'.
</p>
</li>
</ul>

<p>
Instead of a tag, you may also specify a regular expression
enclosed in curly braces. For example, ‘work+{<sup>boss</sup>.*}' matches
headlines that contain the tag ‘:work:' and any tag <i>starting</i>
with ‘boss'.
</p>

<p>
Group tags (see <a href="#Tag-hierarchy">Tag hierarchy</a>) are expanded as regular
expressions. E.g., if ‘:work:' is a group tag for the group
‘:work:lab:conf:', then searching for ‘work' will search for
<code>{\(?:work\|lab\|conf\)}</code> and searching for ‘-work' will search
for all headlines but those with one of the tags in the group
(i.e., <code>-{\(?:work\|lab\|conf\)}</code>).
</p>

<p>
You may also test for properties (see <a href="#Properties-and-columns">Properties and columns</a>) at
the same time as matching tags. The properties may be real
properties, or special properties that represent other metadata
(see <a href="#Special-properties">Special properties</a>). For example, the “property” <code>TODO</code>
represents the TODO keyword of the entry and the “property”
<code>PRIORITY</code> represents the PRIORITY keyword of the entry.
</p>

<p>
In addition to the <a href="#Special-properties">Special properties</a>, one other “property” can
also be used. <code>LEVEL</code> represents the level of an entry. So a
search ‘+LEVEL=3+boss-TODO="DONE"' lists all level three
headlines that have the tag ‘boss' and are <i>not</i> marked with the
TODO keyword DONE. In buffers with <code>org-odd-levels-only</code> set,
‘LEVEL' does not count the number of stars, but ‘LEVEL=2' will
correspond to 3 stars etc.
</p>

<p>
Here are more examples:
</p>

<ul class="org-ul">
<li>‘work+TODO="WAITING"'

<p>
Select ‘:work:'-tagged TODO lines with the specific TODO
keyword ‘WAITING'.
</p>
</li>

<li>‘work+TODO="WAITING"|home+TODO="WAITING"'

<p>
Waiting tasks both at work and at home.
</p>
</li>
</ul>

<p>
When matching properties, a number of different operators can be
used to test the value of a property. Here is a complex example:
</p>

<pre class="example">
+work-boss+PRIORITY="A"+Coffee="unlimited"+Effort&lt;2         \
         +With={Sarah\|Denny}+SCHEDULED&gt;="&lt;2008-10-11&gt;"
</pre>

<p>
The type of comparison will depend on how the comparison value is
written:
</p>

<ul class="org-ul">
<li>If the comparison value is a plain number, a numerical
comparison is done, and the allowed operators are ‘&lt;', ‘=', ‘&gt;',
‘&lt;=', ‘&gt;=', and ‘&lt;&gt;'.
</li>

<li>If the comparison value is enclosed in double-quotes, a string
comparison is done, and the same operators are allowed.
</li>

<li>If the comparison value is enclosed in double-quotes <i>and</i>
angular brackets (like 'DEADLINE&lt;="&lt;\2008-12-24 18:30&gt;"'), both
values are assumed to be date/time specifications in the
standard Org way, and the comparison will be done
accordingly. Special values that will be recognized are
="&lt;now&gt;"= for now (including time), and ="&lt;today&gt;"=, and
="&lt;tomorrow&gt;"= for these days at 00:00 hours, i.e., without a
time specification. Also strings like ="&lt;+5d&gt;"= or ="&lt;-2m&gt;"=
with units <code>d</code>, <code>w</code>, <code>m</code>, and <code>y</code> for day, week, month, and
year, respectively, can be used.
</li>

<li>If the comparison value is enclosed in curly braces, a regexp
match is performed, with ‘=' meaning that the regexp matches the
property value, and ‘&lt;&gt;' meaning that it does not match.
</li>
</ul>

<p>
So the search string in the example finds entries tagged ‘:work:'
but not ‘:boss:', which also have a priority value ‘A', a
‘:Coffee:' property with the value ‘unlimited', an ‘Effort'
property that is numerically smaller than 2, a ‘:With:' property
that is matched by the regular expression <code>Sarah\|Denny</code>, and that
are scheduled on or after October 11, 2008.
</p>

<p>
You can configure Org mode to use property inheritance during a
search, but beware that this can slow down searches
considerably. See Property inheritance]], for details.
</p>

<p>
For backward compatibility, and also for typing speed, there is
also a different way to test TODO states in a search. For this,
terminate the tags/property part of the search string (which may
include several terms connected with ‘|') with a ‘/' and then
specify a Boolean expression just for TODO keywords. The syntax is
then similar to that for tags, but should be applied with care:
for example, a positive selection on several TODO keywords cannot
meaningfully be combined with boolean AND.  However, <i>negative
selection</i> combined with AND can be meaningful. To make sure that
only lines are checked that actually have any TODO keyword
(resulting in a speed-up), use <b><i>C-c a M</i></b>, or equivalently start
the TODO part after the slash with ‘!'. Using <b><i>C-c a M</i></b> or ‘/!'
will not match TODO keywords in a DONE state. Examples:
</p>

<ul class="org-ul">
<li>‘work/WAITING'

<p>
Same as ‘work+TODO="WAITING"'
</p>
</li>

<li>‘work/!-WAITING-NEXT'

<p>
Select ‘:work:'-tagged TODO lines that are neither ‘WAITING'
nor ‘NEXT'
</p>
</li>

<li>‘work/!+WAITING|+NEXT'

<p>
Select ‘:work:'-tagged TODO lines that are either ‘WAITING' or
‘NEXT'.
</p>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-10-3-4" class="outline-4">
<h4 id="sec-10-3-4">10.3.4 Timeline for a single file                                 <a id="Timeline" name="Timeline"></a></h4>
<div class="outline-text-4" id="text-10-3-4">
<p>
The timeline summarizes all time-stamped items from a single Org
mode file in a <i>time-sorted view</i>. The main purpose of this
command is to give an overview over events in a project.
</p>

<ul class="org-ul">
<li><b><i>C-c a L</i></b> (<code>org-timeline</code>)

<p>
Show a time-sorted view of the Org file, with all time-stamped
items.  When called with a <b><i>C-u</i></b> prefix, all unfinished TODO
entries (scheduled or not) are also listed under the current
date.
</p>
</li>
</ul>

<p>
The commands available in the timeline buffer are listed in <a href="#Agenda-commands">Agenda
commands</a>.
</p>
</div>
</div>

<div id="outline-container-sec-10-3-5" class="outline-4">
<h4 id="sec-10-3-5">10.3.5 Search view                                                <a id="Search-view" name="Search-view"></a></h4>
<div class="outline-text-4" id="text-10-3-5">
<p>
This agenda view is a general text search facility for Org mode
entries.  It is particularly useful to find notes.
</p>

<ul class="org-ul">
<li><b><i>C-c a s</i></b> (<code>org-search-view</code>)

<p>
This is a special search that lets you select entries by
matching a substring or specific words using a boolean logic.
</p>
</li>
</ul>

<p>
For example, the search string ‘computer equipment' will find
entries that contain ‘computer equipment' as a substring. If the
two words are separated by more space or a line break, the search
will still match.  Search view can also search for specific
keywords in the entry, using Boolean logic. The search string
‘+computer +wifi -ethernet -{8\.11[bg]}' will search for note
entries that contain the keywords <code>computer</code> and <code>wifi</code>, but not
the keyword <code>ethernet</code>, and which are also not matched by the
regular expression <code>8\.11[bg]</code>, meaning to exclude both 8.11b and
8.11g. The first ‘+' is necessary to turn on word search, other
‘+' characters are optional. For more details, see the docstring
of the command <code>org-search-view</code>.
</p>

<p>
Note that in addition to the agenda files, this command will also
search the files listed in <code>org-agenda-text-search-extra-files</code>.
</p>
</div>
</div>

<div id="outline-container-sec-10-3-6" class="outline-4">
<h4 id="sec-10-3-6">10.3.6 Stuck projects                                             <a id="Stuck-projects" name="Stuck-projects"></a></h4>
<div class="outline-text-4" id="text-10-3-6">
<p>
If you are following a system like David Allen's GTD to organize
your work, one of the “duties” you have is a regular review to
make sure that all projects move along. A <i>stuck</i> project is a
project that has no defined next actions, so it will never show up
in the TODO lists Org mode produces. During the review, you need
to identify such projects and define next actions for them.
</p>

<ul class="org-ul">
<li><b><i>C-c a #</i></b> (<code>org-agenda-list-stuck-projects</code>)

<p>
List projects that are stuck.
</p>
</li>

<li><b><i>C-c a !</i></b>

<p>
Customize the variable <code>org-stuck-projects</code> to define what a
stuck project is and how to find it.
</p>
</li>
</ul>

<p>
You almost certainly will have to configure this view before it
will work for you. The built-in default assumes that all your
projects are level-2 headlines, and that a project is not stuck if
it has at least one entry marked with a TODO keyword TODO or NEXT
or NEXTACTION.
</p>

<p>
Let's assume that you, in your own way of using Org mode, identify
projects with a tag PROJECT, and that you use a TODO keyword MAYBE
to indicate a project that should not be considered yet. Let's
further assume that the TODO keyword DONE marks finished projects,
and that NEXT and TODO indicate next actions. The tag @SHOP
indicates shopping and is a next action even without the NEXT
tag. Finally, if the project contains the special word IGNORE
anywhere, it should not be listed either. In this case you would
start by identifying eligible projects with a tags/todo
match<sup><a id="fnr.96" name="fnr.96" class="footref" href="#fn.96">96</a></sup> ‘+PROJECT/-MAYBE-DONE', and then check for TODO,
NEXT, @SHOP, and IGNORE in the subtree to identify projects that
are not stuck. The correct customization for this is
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-stuck-projects
      '("+PROJECT/-MAYBE-DONE" ("NEXT" "TODO") ("@SHOP")
                               "\\&lt;IGNORE\\&gt;"))
</pre>
</div>

<p>
Note that if a project is identified as non-stuck, the subtree of
this entry will still be searched for stuck projects.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-10-4" class="outline-3">
<h3 id="sec-10-4">10.4 Presentation and sorting                                      <a id="Presentation-and-sorting" name="Presentation-and-sorting"></a></h3>
<div class="outline-text-3" id="text-10-4">
<p>
Before displaying items in an agenda view, Org mode visually
prepares the items and sorts them. Each item occupies a single
line. The line starts with a <i>prefix</i> that contains the <i>category</i>
(see <a href="#Categories">Categories</a>) of the item and other important information. You
can customize in which column tags will be displayed through
<code>org-agenda-tags-column</code>. You can also customize the prefix using
the option <code>org-agenda-prefix-format</code>. This prefix is followed by a
cleaned-up version of the outline headline associated with the
item.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Categories">Categories</a>:</td>
<td class="left">Not all tasks are equal</td>
</tr>

<tr>
<td class="left">• <a href="#Time_of_day-specifications">Time-of-day specifications</a>:</td>
<td class="left">How the agenda knows the time</td>
</tr>

<tr>
<td class="left">• <a href="#Sorting-agenda-items">Sorting agenda items</a>:</td>
<td class="left">The order of things</td>
</tr>

<tr>
<td class="left">• <a href="#Filtering_limiting-agenda-items">Filtering/limiting agenda items</a>:</td>
<td class="left">Dynamically narrow the agenda</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-10-4-1" class="outline-4">
<h4 id="sec-10-4-1">10.4.1 Categories                                                 <a id="Categories" name="Categories"></a></h4>
<div class="outline-text-4" id="text-10-4-1">
<p>
The category is a broad label assigned to each agenda item. By
default, the category is simply derived from the file name, but
you can also specify it with a special line in the buffer, like
this:
</p>

<pre class="example">
#+CATEGORY: Thesis
</pre>

<p>
If you would like to have a special CATEGORY for a single entry or
a (sub)tree, give the entry a <code>:CATEGORY:</code> property with the
special category you want to apply as the value.
</p>

<p>
The display in the agenda buffer looks best if the category is not
longer than 10 characters.
</p>

<p>
You can set up icons for category by customizing the
<code>org-agenda-category-icon-alist</code> variable.
</p>
</div>
</div>

<div id="outline-container-sec-10-4-2" class="outline-4">
<h4 id="sec-10-4-2">10.4.2 Time-of-day specifications                                 <a id="Time_of_day-specifications" name="Time_of_day-specifications"></a></h4>
<div class="outline-text-4" id="text-10-4-2">
<p>
Org mode checks each agenda item for a time-of-day
specification. The time can be part of the timestamp that
triggered inclusion into the agenda, for example as in
‘&lt;\2005-05-10Tue19:00&gt;'. Time ranges can be specified with two
timestamps, like ‘&lt;\2005-05-10Tue20:30&gt;&#x2013;&lt;\2005-05-10Tue22:15&gt;'.
</p>

<p>
In the headline of the entry itself, a time(range) may also appear
as plain text (like ‘12:45' or a ‘8:30-1pm'). If the agenda
integrates the Emacs diary (see <a href="#Weekly_daily-agenda">Weekly/daily agenda</a>), time
specifications in diary entries are recognized as well.
</p>

<p>
For agenda display, Org mode extracts the time and displays it in
a standard 24 hour format as part of the prefix. The example times
in the previous paragraphs would end up in the agenda like this:
</p>

<pre class="example">
 8:30-13:00 Arthur Dent lies in front of the bulldozer
12:45...... Ford Prefect arrives and takes Arthur to the pub
19:00...... The Vogon reads his poem
20:30-22:15 Marvin escorts the Hitchhikers to the bridge
</pre>

<p>
If the agenda is in single-day mode, or for the display of today,
the timed entries are embedded in a time grid, like
</p>

<pre class="example">
 8:00...... ------------------
 8:30-13:00 Arthur Dent lies in front of the bulldozer
10:00...... ------------------
12:00...... ------------------
12:45...... Ford Prefect arrives and takes Arthur to the pub
14:00...... ------------------
16:00...... ------------------
18:00...... ------------------
19:00...... The Vogon reads his poem
20:00...... ------------------
20:30-22:15 Marvin escorts the Hitchhikers to the bridge
</pre>

<p>
The time grid can be turned on and off with the variable
<code>org-agenda-use-time-grid</code>, and can be configured with
<code>org-agenda-time-grid</code>.
</p>
</div>
</div>

<div id="outline-container-sec-10-4-3" class="outline-4">
<h4 id="sec-10-4-3">10.4.3 Sorting agenda items                                       <a id="Sorting-agenda-items" name="Sorting-agenda-items"></a></h4>
<div class="outline-text-4" id="text-10-4-3">
<p>
Before being inserted into a view, the items are sorted. How this
is done depends on the type of view.
</p>

<ul class="org-ul">
<li>For the daily/weekly agenda, the items for each day are
sorted. The default order is to first collect all items
containing an explicit time-of-day specification. These entries
will be shown at the beginning of the list, as a <i>schedule</i> for
the day. After that, items remain grouped in categories, in the
sequence given by <code>org-agenda-files</code>. Within each category,
items are sorted by priority (see <a href="#Priorities">Priorities</a>), which is
composed of the base priority (2000 for priority ‘A', 1000 for
‘B', and 0 for ‘C'), plus additional increments for overdue
scheduled or deadline items.
</li>

<li>For the TODO list, items remain in the order of categories, but
within each category, sorting takes place according to priority
(see <a href="#Priorities">Priorities</a>). The priority used for sorting derives from
the priority cookie, with additions depending on how close an
item is to its due or scheduled date.
</li>

<li>For tags matches, items are not sorted at all, but just appear
in the sequence in which they are found in the agenda files.
</li>
</ul>

<p>
Sorting can be customized using the variable
<code>org-agenda-sorting-strategy</code>, and may also include criteria based
on the estimated effort of an entry (see <a href="#Effort-estimates">Effort estimates</a>).
</p>
</div>
</div>

<div id="outline-container-sec-10-4-4" class="outline-4">
<h4 id="sec-10-4-4">10.4.4 Filtering/limiting agenda items                            <a id="Filtering_limiting-agenda-items" name="Filtering_limiting-agenda-items"></a></h4>
<div class="outline-text-4" id="text-10-4-4">
<p>
Agenda built-in or customized commands are statically
defined. Agenda filters and limits provide two ways of dynamically
narrowing down the list of agenda entries: <i>filters</i> and
<i>limits</i>. Filters only act on the display of the items, while
limits take effect before the list of agenda entries is
built. Filters are more often used interactively, while limits are
mostly useful when defined as local variables within custom agenda
commands.-
</p>
</div>
<div id="outline-container-sec-10-4-4-1" class="outline-5">
<h5 id="sec-10-4-4-1">Filtering in the agenda</h5>
<div class="outline-text-5" id="text-10-4-4-1">
<ul class="org-ul">
<li>/ (<code>org-agenda-filter-by-tag</code>)

<p>
Filter the agenda view with respect to a tag and/or effort
estimates.  The difference between this and a custom agenda
command is that filtering is very fast, so that you can switch
quickly between different filters without having to recreate
the agenda.<sup><a id="fnr.97" name="fnr.97" class="footref" href="#fn.97">97</a></sup>
</p>

<p>
You will be prompted for a tag selection letter; <code>SPC</code> will
mean any tag at all. Pressing <code>TAB</code> at that prompt will offer
use completion to select a tag (including any tags that do not
have a selection character). The command then hides all
entries that do not contain or inherit this tag. When called
with prefix arg, remove the entries that <i>do</i> have the tag. A
second / at the prompt will turn off the filter and unhide any
hidden entries. If the first key you press is either + or -,
the previous filter will be narrowed by requiring or
forbidding the selected additional tag. Instead of pressing +
or - after /, you can also immediately use the \ command.
</p>

<p>
Org also supports automatic, context-aware tag filtering. If
the variable <code>org-agenda-auto-exclude-function</code> is set to a
user-defined function, that function can decide which tags
should be excluded from the agenda automatically. Once this is
set, the / command then accepts RET as a sub-option key and
runs the auto exclusion logic. For example, let's say you use
a <code>Net</code> tag to identify tasks which need network access, an
<code>Errand</code> tag for errands in town, and a <code>Call</code> tag for making
phone calls. You could auto-exclude these tags based on the
availability of the Internet, and outside of business hours,
with something like this:
</p>

<pre class="example">
(defun org-my-auto-exclude-function (tag)
 (and (cond
       ((string= tag "Net")
        (/= 0 (call-process "/sbin/ping" nil nil nil
                            "-c1" "-q" "-t1" "mail.gnu.org")))
       ((or (string= tag "Errand") (string= tag "Call"))
        (let ((hour (nth 2 (decode-time))))
          (or (&lt; hour 8) (&gt; hour 21)))))
      (concat "-" tag)))

(setq org-agenda-auto-exclude-function 'org-my-auto-exclude-function)
</pre>
</li>

<li>\ (<code>org-agenda-filter-by-tag-refine</code>)

<p>
Narrow the current agenda filter by an additional
condition. When called with prefix arg, remove the entries
that <i>do</i> have the tag, or that do match the effort
criterion. You can achieve the same effect by pressing
</p>
<ul class="org-ul">
<li>or - as the first key after the / command.
</li>
</ul>
</li>

<li><code>[&#xa0;]</code> { }

<ul class="org-ul">
<li><i>in search view</i>

<p>
add new search words ([ and ]) or new regular expressions
({ and }) to the query string. The opening bracket/brace
will add a positive search term prefixed by ‘+', indicating
that this search term <i>must</i> occur/match in the entry. The
closing bracket/brace will add a negative search term which
<i>must not</i> occur/match in the entry for it to be selected.
</p>
</li>
</ul>
</li>

<li>&lt; (<code>org-agenda-filter-by-category</code>)

<p>
Filter the current agenda view with respect to the category of
the item at point. Pressing <code>&lt;</code> another time will remove this
filter. You can add a filter preset through the option
<code>org-agenda-category-filter-preset</code> (see below.)
</p>
</li>

<li>^ (<code>org-agenda-filter-by-top-headline</code>)

<p>
Filter the current agenda view and only display the siblings
and the parent headline of the one at point.
</p>
</li>

<li>= (<code>org-agenda-filter-by-regexp</code>)

<p>
Filter the agenda view by a regular expression: only show
agenda entries matching the regular expression the user
entered. When called with a prefix argument, it will filter
<i>out</i> entries matching the regexp. With two universal prefix
arguments, it will remove all the regexp filters, which can be
accumulated. You can add a filter preset through the option
<code>org-agenda-category-filter-preset</code> (see below.)
</p>
</li>

<li>_ (<code>org-agenda-filter-by-effort</code>)

<p>
Filter the agenda view with respect to effort estimates. You
first need to set up allowed efforts globally, for example
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-global-properties
      '(("Effort_ALL". "0 0:10 0:30 1:00 2:00 3:00 4:00")))
</pre>
</div>

<p>
You can then filter for an effort by first typing an operator,
one of &lt;, &gt;, and =, and then the one-digit index of an effort
estimate in your array of allowed values, where 0 means the
10th value. The filter will then restrict to entries with
effort smaller-or-equal, equal, or larger-or-equal than the
selected value. For application of the operator, entries
without a defined effort will be treated according to the
value of <code>org-sort-agenda-noeffort-is-high</code>.
</p>
</li>

<li>| (<code>org-agenda-filter-remove-all</code>)

<p>
Remove all filters in the current agenda view.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-4-4-2" class="outline-5">
<h5 id="sec-10-4-4-2">Setting limits for the agenda</h5>
<div class="outline-text-5" id="text-10-4-4-2">
<p>
Here is a list of options that you can set, either globally, or
locally in your custom agenda views (see <a href="#Custom-agenda-views">Custom agenda views</a>).
</p>

<ul class="org-ul">
<li><code>org-agenda-max-entries</code>

<p>
Limit the number of entries.
</p>
</li>

<li><code>org-agenda-max-effort</code>

<p>
Limit the duration of accumulated efforts (as minutes).
</p>
</li>

<li><code>org-agenda-max-todos</code>

<p>
Limit the number of entries with TODO keywords.
</p>
</li>

<li><code>org-agenda-max-tags</code>

<p>
Limit the number of tagged entries.
</p>
</li>
</ul>

<p>
When set to a positive integer, each option will exclude entries
from other categories: for example, <code>(setq org-agenda-max-effort
     100)</code> will limit the agenda to 100 minutes of effort and exclude
any entry that has no effort property. If you want to include
entries with no effort property, use a negative value for
<code>org-agenda-max-effort</code>.
</p>

<p>
One useful setup is to use <code>org-agenda-max-entries</code> locally in a
custom command. For example, this custom command will display the
next five entries with a <code>NEXT</code> TODO keyword.
</p>

<pre class="example">
(setq org-agenda-custom-commands
      '(("n" todo "NEXT"
         ((org-agenda-max-entries 5)))))
</pre>

<p>
Once you mark one of these five entry as <code>DONE</code>, rebuilding the
agenda will again the next five entries again, including the
first entry that was excluded so far.
</p>

<p>
You can also dynamically set temporary limits, which will be lost
when rebuilding the agenda:
</p>

<ul class="org-ul">
<li>~ (<code>org-agenda-limit-interactively</code>)

<p>
This prompts for the type of limit to apply and its value.
</p>
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10-5" class="outline-3">
<h3 id="sec-10-5">10.5 Commands in the agenda buffer                                 <a id="Agenda-commands" name="Agenda-commands"></a></h3>
<div class="outline-text-3" id="text-10-5">
<p>
Entries in the agenda buffer are linked back to the Org file or
diary file where they originate. You are not allowed to edit the
agenda buffer itself, but commands are provided to show and jump to
the original entry location, and to edit the Org files “remotely”
from the agenda buffer.  In this way, all information is stored
only once, removing the risk that your agenda and note files may
diverge.
</p>

<p>
Some commands can be executed with mouse clicks on agenda
lines. For the other commands, the cursor needs to be in the
desired line.
</p>
</div>

<div id="outline-container-sec-10-5-1" class="outline-4">
<h4 id="sec-10-5-1">Motion</h4>
<div class="outline-text-4" id="text-10-5-1">
<ul class="org-ul">
<li>n (<code>org-agenda-next-line</code>)

<p>
Next line (same as <code>down</code> and C-n).
</p>
</li>

<li>p (<code>org-agenda-previous-line</code>)

<p>
Previous line (same as <code>up</code> and C-p).
</p>
</li>

<li>N (<code>org-agenda-next-item</code>)

<p>
Next item: same as next line, but only consider items.
</p>
</li>

<li>P (<code>org-agenda-previous-item</code>)

<p>
Previous item: same as previous line, but only consider items.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-2" class="outline-4">
<h4 id="sec-10-5-2">View/Go to Org file</h4>
<div class="outline-text-4" id="text-10-5-2">
<ul class="org-ul">
<li>SPC or mouse-3 (<code>org-agenda-show-and-scroll-up</code>)

<p>
Display the original location of the item in another
window. With prefix arg, make sure that the entire entry is
made visible in the outline, not only the heading.
</p>
</li>

<li>L (<code>org-agenda-recenter</code>)

<p>
Display original location and recenter that window.
</p>
</li>

<li>TAB or mouse-2 (<code>org-agenda-goto</code>)

<p>
Go to the original location of the item in another window.
</p>
</li>

<li>RET (<code>org-agenda-switch-to</code>)

<p>
Go to the original location of the item and delete other
windows.
</p>
</li>

<li>F (<code>org-agenda-follow-mode</code>)

<p>
Toggle Follow mode. In Follow mode, as you move the cursor
through the agenda buffer, the other window always shows the
corresponding location in the Org file. The initial setting for
this mode in new agenda buffers can be set with the variable
<code>org-agenda-start-with-follow-mode</code>.
</p>
</li>

<li>C-c C-x b (<code>org-agenda-tree-to-indirect-buffer</code>)

<p>
Display the entire subtree of the current item in an indirect
buffer. With a numeric prefix argument N, go up to level N and
then take that tree.  If N is negative, go up that many
levels. With a C-u prefix, do not remove the previously used
indirect buffer.
</p>
</li>

<li>C-c C-o (<code>org-agenda-open-link</code>)

<p>
Follow a link in the entry.  This will offer a selection of any
links in the text belonging to the referenced Org node. If
there is only one link, it will be followed without a selection
prompt.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-3" class="outline-4">
<h4 id="sec-10-5-3">Change display</h4>
<div class="outline-text-4" id="text-10-5-3">
<ul class="org-ul">
<li>A

<p>
Interactively select another agenda view and append it to the
current view.
</p>
</li>

<li>o

<p>
Delete other windows.
</p>
</li>

<li>v d or short d (<code>org-agenda-day-view</code>)
</li>
<li>v w or short w (<code>org-agenda-week-view</code>)
</li>
<li>v t (<code>org-agenda-fortnight-view</code>)
</li>
<li>v m (<code>org-agenda-month-view</code>)
</li>
<li>v y (<code>org-agenda-year-view</code>)
</li>
<li>v SPC (<code>org-agenda-reset-view</code>)

<p>
Switch to day/week/month/year view. When switching to day or
week view, this setting becomes the default for subsequent
agenda refreshes. Since month and year views are slow to
create, they do not become the default. A numeric prefix
argument may be used to jump directly to a specific day of the
year, ISO week, month, or year, respectively. For example, 32 d
jumps to February 1st, 9 w to ISO week number 9. When setting
day, week, or month view, a year may be encoded in the prefix
argument as well. For example, 200712 w will jump to week 12
in 2007. If such a year specification has only one or two
digits, it will be mapped to the interval 1938&#x2013;2037. v SPC
will reset to what is set in <code>org-agenda-span</code>.
</p>
</li>

<li>f (<code>org-agenda-later</code>)

<p>
Go forward in time to display the following
<code>org-agenda-current-span</code> days. For example, if the display
covers a week, switch to the following week. With prefix arg,
go forward that many times <code>org-agenda-current-span</code> days.
</p>
</li>

<li>b (<code>org-agenda-earlier</code>)

<p>
Go backward in time to display earlier dates.
</p>
</li>

<li>. (<code>org-agenda-goto-today</code>)

<p>
Go to today.
</p>
</li>

<li>j (<code>org-agenda-goto-date</code>)

<p>
Prompt for a date and go there.
</p>
</li>

<li>J (<code>org-agenda-clock-goto</code>)

<p>
Go to the currently clocked-in task <i>in the agenda buffer</i>.
</p>
</li>

<li>D (<code>org-agenda-toggle-diary</code>)

<p>
Toggle the inclusion of diary entries. See <a href="#Weekly_daily-agenda">Weekly/daily agenda</a>.
</p>
</li>

<li>v l or short l (<code>org-agenda-log-mode</code>)

<p>
Toggle Logbook mode.  In Logbook mode, entries that were marked
DONE while logging was on (variable <code>org-log-done</code>) are shown
in the agenda, as are entries that have been clocked on that
day. You can configure the entry types that should be included
in log mode using the variable
<code>org-agenda-log-mode-items</code>. When called with a <b><i>C-u</i></b> prefix,
show all possible logbook entries, including state
changes. When called with two prefix arguments <b><i>C-u C-u</i></b>,
show only logging information, nothing else. v L is equivalent
to <b><i>C-u v l</i></b>.
</p>
</li>

<li>v [ or short [ (<code>org-agenda-manipulate-query-add</code>)

<p>
Include inactive timestamps into the current view. Only for
weekly/daily agenda and timeline views.
</p>
</li>

<li>v a (<code>org-agenda-archives-mode</code>)
</li>
<li>v A (<code>org-agenda-archives-mode 'files</code>)

<p>
Toggle Archives mode.  In Archives mode, trees that are marked
<code>ARCHIVED</code> are also scanned when producing the agenda. When you
use the capital A, even all archive files are included. To exit
archives mode, press v a again.
</p>
</li>

<li>v R or short R (<code>org-agenda-clockreport-mode</code>)

<p>
Toggle Clockreport mode. In Clockreport mode, the daily/weekly
agenda will always show a table with the clocked times for the
time span and file scope covered by the current agenda
view. The initial setting for this mode in new agenda buffers
can be set with the variable
<code>org-agenda-start-with-clockreport-mode</code>. By using a prefix
argument when toggling this mode (i.e., C-u R), the clock table
will not show contributions from entries that are hidden by
agenda filtering<sup><a id="fnr.98" name="fnr.98" class="footref" href="#fn.98">98</a></sup>. See also the variable
<code>org-clock-report-include-clocking-task</code>.
</p>
</li>

<li>v c

<p>
Show overlapping clock entries, clocking gaps, and other
clocking problems in the current agenda range. You can then
visit clocking lines and fix them manually. See the variable
<code>org-agenda-clock-consistency-checks</code> for information on how to
customize the definition of what constituted a clocking
problem. To return to normal agenda display, press l to exit
Logbook mode.
</p>
</li>

<li>v E or short E (<code>org-agenda-entry-text-mode</code>)

<p>
Toggle entry text mode. In entry text mode, a number of lines
from the Org outline node referenced by an agenda line will be
displayed below the line.  The maximum number of lines is given
by the variable <code>org-agenda-entry-text-maxlines</code>. Calling this
command with a numeric prefix argument will temporarily modify
that number to the prefix value.
</p>
</li>

<li>G (<code>org-agenda-toggle-time-grid</code>)

<p>
Toggle the time grid on and off. See also the variables
<code>org-agenda-use-time-grid</code> and <code>org-agenda-time-grid</code>.
</p>
</li>

<li>r (<code>org-agenda-redo</code>)

<p>
Recreate the agenda buffer, for example to reflect the changes
after modification of the timestamps of items with S-left and
S-right. When the buffer is the global TODO list, a prefix
argument is interpreted to create a selective list for a
specific TODO keyword.
</p>
</li>

<li>g (<code>org-agenda-redo</code>)

<p>
Same as r.
</p>
</li>

<li>C-x C-s or short s (<code>org-save-all-org-buffers</code>)

<p>
Save all Org buffers in the current Emacs session, and also the
locations of IDs.
</p>
</li>

<li>C-c C-x C-c (<code>org-agenda-columns</code>)

<p>
Invoke column view (see <a href="#Column-view">Column view</a>) in the agenda buffer. The
column view format is taken from the entry at point, or (if
there is no entry at point), from the first entry in the agenda
view. So whatever the format for that entry would be in the
original buffer (taken from a property, from a <code>#+COLUMNS</code>
line, or from the default variable
<code>org-columns-default-format</code>), will be used in the agenda.
</p>
</li>

<li>C-c C-x &gt; (<code>org-agenda-remove-restriction-lock</code>)

<p>
Remove the restriction lock on the agenda, if it is currently
restricted to a file or subtree (see <a href="#Agenda-files">Agenda files</a>).
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-4" class="outline-4">
<h4 id="sec-10-5-4">Secondary filtering and query editing</h4>
<div class="outline-text-4" id="text-10-5-4">
<p>
For a detailed description of these commands, see see
<a href="#Filtering_limiting-agenda-items">Filtering/limiting agenda items</a>.
</p>

<ul class="org-ul">
<li>/ (<code>org-agenda-filter-by-tag</code>)

<p>
Filter the agenda view with respect to a tag and/or effort
estimates.
</p>
</li>

<li>\ (<code>org-agenda-filter-by-tag-refine</code>)

<p>
Narrow the current agenda filter by an additional condition.
</p>
</li>

<li>&lt; (<code>org-agenda-filter-by-category</code>)

<p>
Filter the current agenda view with respect to the category of
the item at point. Pressing <code>&lt;</code> another time will remove this
filter.
</p>
</li>

<li>\^ (<code>org-agenda-filter-by-top-headline</code>)

<p>
Filter the current agenda view and only display the siblings
and the parent headline of the one at point.
</p>
</li>

<li>= (<code>org-agenda-filter-by-regexp</code>)

<p>
Filter the agenda view by a regular expression: only show
agenda entries matching the regular expression the user
entered. When called with a prefix argument, it will filter
<i>out</i> entries matching the regexp. With two universal prefix
arguments, it will remove all the regexp filters, which can be
accumulated. You can add a filter preset through the option
<code>org-agenda-category-filter-preset</code> (see below.)
</p>
</li>

<li>| (<code>org-agenda-filter-remove-all</code>)

<p>
Remove all filters in the current agenda view.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-5" class="outline-4">
<h4 id="sec-10-5-5">Remote editing</h4>
<div class="outline-text-4" id="text-10-5-5">
<ul class="org-ul">
<li>0&#x2013;9

<p>
Digit argument.
</p>
</li>

<li>C-_ (<code>org-agenda-undo</code>)

<p>
Undo a change due to a remote editing command. The change is
undone both in the agenda buffer and in the remote buffer.
</p>
</li>

<li>t (<code>org-agenda-todo</code>)

<p>
Change the TODO state of the item, both in the agenda and in
the original org file.
</p>
</li>

<li>C-S-right (<code>org-agenda-todo-nextset</code>)
</li>
<li>C-S-left (<code>org-agenda-todo-previousset</code>)

<p>
Switch to the next/previous set of TODO keywords.
</p>
</li>

<li>C-k (<code>org-agenda-kill</code>)

<p>
Delete the current agenda item along with the entire subtree
belonging to it in the original Org file. If the text to be
deleted remotely is longer than one line, the kill needs to be
confirmed by the user. See variable <code>org-agenda-confirm-kill</code>.
</p>
</li>

<li>C-c C-w (<code>org-agenda-refile</code>)

<p>
Refile the entry at point.
</p>
</li>

<li>C-c C-x C-a or short a
(<code>org-agenda-archive-default-with-confirmation</code>)

<p>
Archive the subtree corresponding to the entry at point using
the default archiving command set in
<code>org-archive-default-command</code>. When using the <code>a</code> key,
confirmation will be required.
</p>
</li>

<li>C-c C-x a (<code>org-agenda-toggle-archive-tag</code>)

<p>
Toggle the ARCHIVE tag for the current headline.
</p>
</li>

<li>C-c C-x A (<code>org-agenda-archive-to-archive-sibling</code>)

<p>
Move the subtree corresponding to the current entry to its
<i>archive sibling</i>.
</p>
</li>

<li>C-c C-x C-s or short $ (<code>org-agenda-archive</code>)

<p>
Archive the subtree corresponding to the current headline. This
means the entry will be moved to the configured archive
location, most likely a different file.
</p>
</li>

<li>T (<code>org-agenda-show-tags</code>)

<p>
Show all tags associated with the current item. This is useful
if you have turned off <code>org-agenda-show-inherited-tags</code>, but
still want to see all tags of a headline occasionally.
</p>
</li>

<li>: (<code>org-agenda-set-tags</code>)

<p>
Set tags for the current headline.  If there is an active
region in the agenda, change a tag for all headings in the
region.
</p>
</li>

<li>,

<p>
Set the priority for the current item (<code>org-agenda-priority</code>).
Org mode prompts for the priority character. If you reply with
<code>SPC</code>, the priority cookie is removed from the entry.
</p>
</li>

<li>P (<code>org-agenda-show-priority</code>)

<p>
Display weighted priority of current item.
</p>
</li>

<li>+ or S-up (<code>org-agenda-priority-up</code>)

<p>
Increase the priority of the current item. The priority is
changed in the original buffer, but the agenda is not
resorted. Use the r key for this.
</p>
</li>

<li><code>-</code> or S-down (<code>org-agenda-priority-down</code>)

<p>
Decrease the priority of the current item.
</p>
</li>

<li>z or C-c C-z (<code>org-agenda-add-note</code>)

<p>
Add a note to the entry. This note will be recorded, and then
filed to the same location where state change notes are
put. Depending on <code>org-log-into-drawer</code>, this may be inside a
drawer.
</p>
</li>

<li>C-c C-a (<code>org-attach</code>)

<p>
Dispatcher for all command related to attachments.
</p>
</li>

<li>C-c C-s (<code>org-agenda-schedule</code>)

<p>
Schedule this item. With prefix arg remove the scheduling
timestamp
</p>
</li>

<li>C-c C-d (<code>org-agenda-deadline</code>)

<p>
Set a deadline for this item.  With prefix arg remove the
deadline.
</p>
</li>

<li>S-right (<code>org-agenda-do-date-later</code>)

<p>
Change the timestamp associated with the current line by one
day into the future. If the date is in the past, the first call
to this command will move it to today.
</p>

<p>
With a numeric prefix argument, change it by that many
days. For example, 3 6 5 S-right will change it by a year. With
a C-u prefix, change the time by one hour. If you immediately
repeat the command, it will continue to change hours even
without the prefix arg. With a double <b><i>C-u C-u</i></b> prefix, do
the same for changing minutes.
</p>

<p>
The stamp is changed in the original Org file, but the change
is not directly reflected in the agenda buffer. Use r or g to
update the buffer.
</p>
</li>

<li>S-left (<code>org-agenda-do-date-earlier</code>)

<p>
Change the timestamp associated with the current line by one
day into the past.
</p>
</li>

<li>&gt; (<code>org-agenda-date-prompt</code>)

<p>
Change the timestamp associated with the current line. The key
&gt; has been chosen, because it is the same as S-. on my
keyboard.
</p>
</li>

<li>I (<code>org-agenda-clock-in</code>)

<p>
Start the clock on the current item.  If a clock is running
already, it is stopped first.
</p>
</li>

<li>O (<code>org-agenda-clock-out</code>)

<p>
Stop the previously started clock.
</p>
</li>

<li>X (<code>org-agenda-clock-cancel</code>)

<p>
Cancel the currently running clock.
</p>
</li>

<li>J (<code>org-agenda-clock-goto</code>)

<p>
Jump to the running clock in another window.
</p>
</li>

<li>k (<code>org-agenda-capture</code>)

<p>
Like <code>org-capture</code>, but use the date at point as the default
date for the capture template. See
<code>org-capture-use-agenda-date</code> to make this the default behavior
of <code>org-capture</code>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-6" class="outline-4">
<h4 id="sec-10-5-6">Dragging agenda lines forward/backward</h4>
<div class="outline-text-4" id="text-10-5-6">
<ul class="org-ul">
<li>M-&lt;up&gt; (<code>org-agenda-drag-line-backward</code>)

<p>
Drag the line at point backward one line<sup><a id="fnr.99" name="fnr.99" class="footref" href="#fn.99">99</a></sup>. With a
numeric prefix argument, drag backward by that many lines.
</p>
</li>

<li>M-&lt;down&gt; (<code>org-agenda-drag-line-forward</code>)

<p>
Drag the line at point forward one line. With a numeric prefix
argument, drag forward by that many lines.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-7" class="outline-4">
<h4 id="sec-10-5-7">Calendar commands</h4>
<div class="outline-text-4" id="text-10-5-7">
<ul class="org-ul">
<li>c (<code>org-agenda-goto-calendar</code>)

<p>
Open the Emacs calendar and move to the date at the agenda
cursor.
</p>
</li>

<li>c (<code>org-calendar-goto-agenda</code>)

<p>
When in the calendar, compute and show the Org mode agenda for
the date at the cursor.
</p>
</li>

<li>i (<code>org-agenda-diary-entry</code>)

<p>
Insert a new entry into the diary, using the date at the cursor
and (for block entries) the date at the mark. This will add to
the Emacs diary file<sup><a id="fnr.100" name="fnr.100" class="footref" href="#fn.100">100</a></sup>, in a way similar to the i
command in the calendar. The diary file will pop up in another
window, where you can add the entry.
</p>

<p>
If you configure <code>org-agenda-diary-file</code> to point to an Org
mode file, Org will create entries (in Org mode syntax) in that
file instead. Most entries will be stored in a date-based
outline tree that will later make it easy to archive
appointments from previous months/years. The tree will be built
under an entry with a <code>DATE_TREE</code> property, or else with years
as top-level entries. Emacs will prompt you for the entry
text&#x2014;if you specify it, the entry will be created in
<code>org-agenda-diary-file</code> without further interaction. If you
directly press <code>RET</code> at the prompt without typing text, the
target file will be shown in another window for you to finish
the entry there. See also the k r command.
</p>
</li>

<li>M (<code>org-agenda-phases-of-moon</code>)

<p>
Show the phases of the moon for the three months around current
date.
</p>
</li>

<li>S (<code>org-agenda-sunrise-sunset</code>)

<p>
Show sunrise and sunset times.  The geographical location must
be set with calendar variables, see the documentation for the
Emacs calendar.
</p>
</li>

<li>C (<code>org-agenda-convert-date</code>)

<p>
Convert the date at cursor into many other cultural and
historic calendars.
</p>
</li>

<li>H (<code>org-agenda-holidays</code>)

<p>
Show holidays for three months around the cursor date.
</p>
</li>

<li>M-x org-icalendar-combine-agenda-files RET

<p>
Export a single iCalendar file containing entries from all
agenda files. This is a globally available command, and also
available in the agenda menu.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-8" class="outline-4">
<h4 id="sec-10-5-8">Exporting to a file</h4>
<div class="outline-text-4" id="text-10-5-8">
<ul class="org-ul">
<li>C-x C-w (<code>org-agenda-write</code>)

<p>
Write the agenda view to a file.  Depending on the extension of
the selected file name, the view will be exported as HTML
(.html or .htm), Postscript (.ps), PDF (.pdf), Org (.org) and
plain text (any other extension). When exporting to Org, only
the body of original headlines are exported, not subtrees or
inherited tags. When called with a <b><i>C-u</i></b> prefix argument,
immediately open the newly created file. Use the variable
<code>org-agenda-exporter-settings</code> to set options for ps-print and
for htmlize to be used during export.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10-5-9" class="outline-4">
<h4 id="sec-10-5-9">Quit and Exit</h4>
<div class="outline-text-4" id="text-10-5-9">
<ul class="org-ul">
<li>q (<code>org-agenda-quit</code>)

<p>
Quit agenda, remove the agenda buffer.
</p>
</li>

<li>x (<code>org-agenda-exit</code>)

<p>
Exit agenda, remove the agenda buffer and all buffers loaded by
Emacs for the compilation of the agenda.  Buffers created by
the user to visit Org files will not be removed.
</p>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-10-6" class="outline-3">
<h3 id="sec-10-6">10.6 Custom agenda views                                           <a id="Custom-agenda-views" name="Custom-agenda-views"></a></h3>
<div class="outline-text-3" id="text-10-6">
<p>
Custom agenda commands serve two purposes: to store and quickly
access frequently used TODO and tags searches, and to create
special composite agenda buffers. Custom agenda commands will be
accessible through the dispatcher (see <a href="#Agenda-dispatcher">Agenda dispatcher</a>), just
like the default commands.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Storing-searches">Storing searches</a>:</td>
<td class="left">Type once, use often</td>
</tr>

<tr>
<td class="left">• <a href="#Block-agenda">Block agenda</a>:</td>
<td class="left">All the stuff you need in a single buffer</td>
</tr>

<tr>
<td class="left">• <a href="#Setting-options">Setting options</a>:</td>
<td class="left">Changing the rules</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-10-6-1" class="outline-4">
<h4 id="sec-10-6-1">10.6.1 Storing searches                                           <a id="Storing-searches" name="Storing-searches"></a></h4>
<div class="outline-text-4" id="text-10-6-1">
<p>
The first application of custom searches is the definition of
keyboard shortcuts for frequently used searches, either creating
an agenda buffer, or a sparse tree (the latter covering of course
only the current buffer).
</p>

<p>
Custom commands are configured in the variable
<code>org-agenda-custom-commands</code>. You can customize this variable, for
example by pressing <b><i>C-c a C</i></b>. You can also directly set it with
Emacs Lisp in .emacs. The following example contains all valid
agenda views:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands
      '(("x" agenda)
        ("y" agenda*)
        ("w" todo "WAITING")
        ("W" todo-tree "WAITING")
        ("u" tags "+boss-urgent")
        ("v" tags-todo "+boss-urgent")
        ("U" tags-tree "+boss-urgent")
        ("f" occur-tree "\\&lt;FIXME\\&gt;")
        ("h" . "HOME+Name tags searches") ; description for "h" prefix
        ("hl" tags "+home+Lisa")
        ("hp" tags "+home+Peter")
        ("hk" tags "+home+Kim")))
</pre>
</div>

<p>
The initial string in each entry defines the keys you have to
press after the dispatcher command <b><i>C-c a</i></b> in order to access
the command.  Usually this will be just a single character, but if
you have many similar commands, you can also define two-letter
combinations where the first character is the same in several
combinations and serves as a prefix key<sup><a id="fnr.101" name="fnr.101" class="footref" href="#fn.101">101</a></sup>. The second
parameter is the search type, followed by the string or regular
expression to be used for the matching. The example above will
therefore define:
</p>

<ul class="org-ul">
<li>C-c a x

<p>
as a global search for agenda entries planned<sup><a id="fnr.102" name="fnr.102" class="footref" href="#fn.102">102</a></sup> this
week/day.
</p>
</li>

<li>C-c a y

<p>
as a global search for agenda entries planned this week/day,
but only those with an hour specification like
<code>[h]h:mm</code>&#x2014;think of them as appointments.
</p>
</li>

<li>C-c a w

<p>
as a global search for TODO entries with ‘WAITING' as the TODO
keyword
</p>
</li>

<li>C-c a W

<p>
as the same search, but only in the current buffer and
displaying the results as a sparse tree
</p>
</li>

<li>C-c a u

<p>
as a global tags search for headlines marked ‘:boss:' but not
‘:urgent:'
</p>
</li>

<li>C-c a v

<p>
as the same search as <b><i>C-c a u</i></b>, but limiting the search to
headlines that are also TODO items
</p>
</li>

<li>C-c a U

<p>
as the same search as <b><i>C-c a u</i></b>, but only in the current
buffer and displaying the result as a sparse tree
</p>
</li>

<li>C-c a f

<p>
to create a sparse tree (again: current buffer only) with all
entries containing the word ‘FIXME'
</p>
</li>

<li>C-c a h

<p>
as a prefix command for a HOME tags search where you have to
press an additional key (l, p or k) to select a name (Lisa,
Peter, or Kim) as additional tag to match.
</p>
</li>
</ul>

<p>
Note that the <code>*-tree</code> agenda views need to be called from an Org
buffer as they operate on the current buffer only.
</p>
</div>
</div>

<div id="outline-container-sec-10-6-2" class="outline-4">
<h4 id="sec-10-6-2">10.6.2 Block agenda                                               <a id="Block-agenda" name="Block-agenda"></a></h4>
<div class="outline-text-4" id="text-10-6-2">
<p>
Another possibility is the construction of agenda views that
comprise the results of <i>several</i> commands, each of which creates
a block in the agenda buffer. The available commands include
<code>agenda</code> for the daily or weekly agenda (as created with <b><i>C-c a
a</i></b>), <code>alltodo</code> for the global TODO list (as constructed with
<b><i>C-c a t</i></b>), and the matching commands discussed above: <code>todo</code>,
<code>tags</code>, and <code>tags-todo</code>. Here are two examples:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands
      '(("h" "Agenda and Home-related tasks"
         ((agenda "")
          (tags-todo "home")
          (tags "garden")))
        ("o" "Agenda and Office-related tasks"
         ((agenda "")
          (tags-todo "work")
          (tags "office")))))
</pre>
</div>

<p>
This will define <b><i>C-c a h</i></b> to create a multi-block view for
stuff you need to attend to at home. The resulting agenda buffer
will contain your agenda for the current week, all TODO items that
carry the tag ‘home', and also all lines tagged with
‘garden'. Finally the command <b><i>C-c a o</i></b> provides a similar view
for office tasks.
</p>
</div>
</div>

<div id="outline-container-sec-10-6-3" class="outline-4">
<h4 id="sec-10-6-3">10.6.3 Setting options for custom commands                        <a id="Setting-options" name="Setting-options"></a></h4>
<div class="outline-text-4" id="text-10-6-3">
<p>
Org mode contains a number of variables regulating agenda
construction and display. The global variables define the behavior
for all agenda commands, including the custom commands. However,
if you want to change some settings just for a single custom view,
you can do so. Setting options requires inserting a list of
variable names and values at the right spot in
<code>org-agenda-custom-commands</code>. For example:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands
      '(("w" todo "WAITING"
         ((org-agenda-sorting-strategy '(priority-down))
          (org-agenda-prefix-format "  Mixed: ")))
        ("U" tags-tree "+boss-urgent"
         ((org-show-context-detail 'minimal)))
        ("N" search ""
         ((org-agenda-files '("~org/notes.org"))
          (org-agenda-text-search-extra-files nil)))))
</pre>
</div>

<p>
Now the <b><i>C-c a w</i></b> command will sort the collected entries only
by priority, and the prefix format is modified to just say ‘
Mixed: ' instead of giving the category of the entry. The sparse
tags tree of <b><i>C-c a U</i></b> will now turn out ultra-compact, because
neither the headline hierarchy above the match, nor the headline
following the match will be shown. The command <b><i>C-c a N</i></b> will do
a text search limited to only a single file.
</p>

<p>
For command sets creating a block agenda,
<code>org-agenda-custom-commands</code> has two separate spots for setting
options. You can add options that should be valid for just a
single command in the set, and options that should be valid for
all commands in the set. The former are just added to the command
entry; the latter must come after the list of command
entries. Going back to the block agenda example (see <a href="#Block-agenda">Block
agenda</a>), let's change the sorting strategy for the <b><i>C-c a h</i></b>
commands to <code>priority-down</code>, but let's sort the results for GARDEN
tags query in the opposite order, <code>priority-up</code>. This would look
like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands
      '(("h" "Agenda and Home-related tasks"
         ((agenda)
          (tags-todo "home")
          (tags "garden"
                ((org-agenda-sorting-strategy '(priority-up)))))
         ((org-agenda-sorting-strategy '(priority-down))))
        ("o" "Agenda and Office-related tasks"
         ((agenda)
          (tags-todo "work")
          (tags "office")))))
</pre>
</div>

<p>
As you see, the values and parentheses setting is a little
complex. When in doubt, use the customize interface to set this
variable &#x2013; it fully supports its structure. Just one caveat: when
setting options in this interface, the <i>values</i> are just Lisp
expressions. So if the value is a string, you need to add the
double-quotes around the value yourself.
</p>

<p>
To control whether an agenda command should be accessible from a
specific context, you can customize
<code>org-agenda-custom-commands-contexts</code>. Let's say for example that
you have an agenda command ="o"= displaying a view that you only
need when reading emails. Then you would configure this option
like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands-contexts
      '(("o" (in-mode . "message-mode"))))
</pre>
</div>

<p>
You can also tell that the command key "o" should refer to another
command key "r". In that case, add this command key like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands-contexts
      '(("o" "r" (in-mode . "message-mode"))))
</pre>
</div>

<p>
See the docstring of the variable for more information.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-10-7" class="outline-3">
<h3 id="sec-10-7">10.7 Exporting agenda views                                        <a id="Exporting-agenda-views" name="Exporting-agenda-views"></a></h3>
<div class="outline-text-3" id="text-10-7">
<p>
If you are away from your computer, it can be very useful to have a
printed version of some agenda views to carry around. Org mode can
export custom agenda views as plain text, HTML<sup><a id="fnr.103" name="fnr.103" class="footref" href="#fn.103">103</a></sup>,
Postscript, PDF<sup><a id="fnr.104" name="fnr.104" class="footref" href="#fn.104">104</a></sup>, and iCalendar files. If you want to do
this only occasionally, use the command
</p>

<ul class="org-ul">
<li><b><i>C-x C-w</i></b> (<code>org-agenda-write</code>)

<p>
Write the agenda view to a file. Depending on the extension of
the selected file name, the view will be exported as HTML
(extension .html or .htm), Postscript (extension .ps), iCalendar
(extension .ics), or plain text (any other extension). Use the
variable <code>org-agenda-exporter-settings</code> to set options for
ps-print and for htmlize to be used during export, for example
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-exporter-settings
      '((ps-number-of-columns 2)
        (ps-landscape-mode t)
        (org-agenda-add-entry-text-maxlines 5)
        (htmlize-output-type 'css)))
</pre>
</div>
</li>
</ul>

<p>
If you need to export certain agenda views frequently, you can
associate any custom agenda command with a list of output file
names <sup><a id="fnr.105" name="fnr.105" class="footref" href="#fn.105">105</a></sup>. Here is an example that first defines custom
commands for the agenda and the global TODO list, together with a
number of files to which to export them. Then we define two block
agenda commands and specify file names for them as well. File names
can be relative to the current working directory, or absolute.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands
      '(("X" agenda "" nil ("agenda.html" "agenda.ps"))
        ("Y" alltodo "" nil ("todo.html" "todo.txt" "todo.ps"))
        ("h" "Agenda and Home-related tasks"
         ((agenda "")
          (tags-todo "home")
          (tags "garden"))
         nil
         ("~/views/home.html"))
        ("o" "Agenda and Office-related tasks"
         ((agenda)
          (tags-todo "work")
          (tags "office"))
         nil
         ("~/views/office.ps" "~/calendars/office.ics"))))
</pre>
</div>

<p>
The extension of the file name determines the type of export. If it
is .html, Org mode will use the htmlize.el package to convert the
buffer to HTML and save it to this file name. If the extension is
.ps, <code>ps-print-buffer-with-faces</code> is used to produce Postscript
output. If the extension is .ics, iCalendar export is run export
over all files that were used to construct the agenda, and limit
the export to entries listed in the agenda. Any other extension
produces a plain ASCII file.
</p>

<p>
The export files are <i>not</i> created when you use one of those
commands interactively because this might use too much
overhead. Instead, there is a special command to produce <i>all</i>
specified files in one step:
</p>

<ul class="org-ul">
<li><b><i>C-c a e</i></b> (<code>org-store-agenda-views</code>)

<p>
Export all agenda views that have export file names associated
with them.
</p>
</li>
</ul>

<p>
You can use the options section of the custom agenda commands to
also set options for the export commands. For example:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-custom-commands
      '(("X" agenda ""
         ((ps-number-of-columns 2)
          (ps-landscape-mode t)
          (org-agenda-prefix-format " [ ] ")
          (org-agenda-with-colors nil)
          (org-agenda-remove-tags t))
         ("theagenda.ps"))))
</pre>
</div>

<p>
This command sets two options for the Postscript exporter, to make
it print in two columns in landscape format &#x2013; the resulting page
can be cut in two and then used in a paper agenda. The remaining
settings modify the agenda prefix to omit category and scheduling
information, and instead include a checkbox to check off items. We
also remove the tags to make the lines compact, and we don't want
to use colors for the black-and-white printer. Settings specified
in <code>org-agenda-exporter-settings</code> will also apply, but the settings
in <code>org-agenda-custom-commands</code> take precedence.
</p>

<p>
From the command line you may also use
</p>

<pre class="example">
emacs -eval (org-batch-store-agenda-views) -kill
</pre>

<p>
or, if you need to modify some parameters<sup><a id="fnr.106" name="fnr.106" class="footref" href="#fn.106">106</a></sup>
</p>

<pre class="example">
emacs -eval '(org-batch-store-agenda-views                      \
              org-agenda-span (quote month)                     \
              org-agenda-start-day "2007-11-01"                 \
              org-agenda-include-diary nil                      \
              org-agenda-files (quote ("~/org/project.org")))'  \
      -kill
</pre>

<p>
which will create the agenda views restricted to the file
~/org/project.org, without diary entries and with a 30-day extent.
</p>

<p>
You can also extract agenda information in a way that allows
further processing by other programs. See <a href="#Extracting-agenda-information">Extracting agenda
information</a>, for more information.
</p>
</div>
</div>

<div id="outline-container-sec-10-8" class="outline-3">
<h3 id="sec-10-8">10.8 Using column view in the agenda                               <a id="Agenda-column-view" name="Agenda-column-view"></a></h3>
<div class="outline-text-3" id="text-10-8">
<p>
Column view (see <a href="#Column-view">Column view</a>) is normally used to view and edit
properties embedded in the hierarchical structure of an Org
file. It can be quite useful to use column view also from the
agenda, where entries are collected by certain criteria.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x C-c</i></b> (<code>org-agenda-columns</code>)

<p>
Turn on column view in the agenda.
</p>
</li>
</ul>

<p>
To understand how to use this properly, it is important to realize
that the entries in the agenda are no longer in their proper
outline environment. This causes the following issues:
</p>

<ol class="org-ol">
<li>Org needs to make a decision which <code>COLUMNS</code> format to
use. Since the entries in the agenda are collected from
different files, and different files may have different
<code>COLUMNS</code> formats, this is a non-trivial problem. Org first
checks if the variable <code>org-agenda-overriding-columns-format</code>
is currently set, and if so, takes the format from
there. Otherwise it takes the format associated with the first
item in the agenda, or, if that item does not have a specific
format (defined in a property, or in its file), it uses
<code>org-columns-default-format</code>.
</li>

<li>If any of the columns has a summary type defined (see <a href="#Column-attributes">Column
attributes</a>), turning on column view in the agenda will visit
all relevant agenda files and make sure that the computations
of this property are up to date. This is also true for the
special <code>CLOCKSUM</code> property. Org will then sum the values
displayed in the agenda. In the daily/weekly agenda, the sums
will cover a single day; in all other views they cover the
entire block.  It is vital to realize that the agenda may show
the same entry <i>twice</i> (for example as scheduled and as a
deadline), and it may show two entries from the same hierarchy
(for example a <i>parent</i> and its <i>child</i>). In these cases, the
summation in the agenda will lead to incorrect results because
some values will count double.
</li>

<li>When the column view in the agenda shows the <code>CLOCKSUM</code>, that
is always the entire clocked time for this item. So even in the
daily/weekly agenda, the clocksum listed in column view may
originate from times outside the current view. This has the
advantage that you can compare these values with a column
listing the planned total effort for a task&#x2014;one of the major
applications for column view in the agenda. If you want
information about clocked time in the displayed period use
clock table mode (press R in the agenda).
</li>

<li>When the column view in the agenda shows the <code>CLOCKSUM_T</code>, that
is always today's clocked time for this item. So even in the
weekly agenda, the clocksum listed in column view only
originates from today. This lets you compare the time you spent
on a task for today, with the time already spent (via
<code>CLOCKSUM</code>) and with the planned total effort for it.
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">11 Markup for rich export</h2>
<div class="outline-text-2" id="text-11">
<p>
When exporting Org mode documents, the exporter tries to reflect the
structure of the document as accurately as possible in the back-end.
Since export targets like HTML and LaTeX allow much richer
formatting, Org mode has rules on how to prepare text for rich
export. This section summarizes the markup rules used in an Org mode
buffer.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Structural-markup-elements">Structural markup elements</a>:</td>
<td class="left">The basic structure as seen by the exporter</td>
</tr>

<tr>
<td class="left">• <a href="#Images-and-tables">Images and tables</a>:</td>
<td class="left">Images, tables and caption mechanism</td>
</tr>

<tr>
<td class="left">• <a href="#Literal-examples">Literal examples</a>:</td>
<td class="left">Source code examples with special formatting</td>
</tr>

<tr>
<td class="left">• <a href="#Include-files">Include files</a>:</td>
<td class="left">Include additional files into a document</td>
</tr>

<tr>
<td class="left">• <a href="#Index-entries">Index entries</a>:</td>
<td class="left">Making an index</td>
</tr>

<tr>
<td class="left">• <a href="#Macro-replacement">Macro replacement</a>:</td>
<td class="left">Use macros to create templates</td>
</tr>

<tr>
<td class="left">• <a href="#Embedded-LaTeX">Embedded LaTeX</a>:</td>
<td class="left">LaTeX can be freely used inside Org documents</td>
</tr>

<tr>
<td class="left">• <a href="#Special-blocks">Special blocks</a>:</td>
<td class="left">Containers targeted at export back-ends</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1">11.1 Structural markup elements                                    <a id="Structural-markup-elements" name="Structural-markup-elements"></a></h3>
<div class="outline-text-3" id="text-11-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Document-title">Document title</a>:</td>
<td class="left">Where the title is taken from</td>
</tr>

<tr>
<td class="left">• <a href="#Headings-and-sections">Headings and sections</a>:</td>
<td class="left">The document structure as seen by the exporter</td>
</tr>

<tr>
<td class="left">• <a href="#Table-of-contents">Table of contents</a>:</td>
<td class="left">The if and where of the table of contents</td>
</tr>

<tr>
<td class="left">• <a href="#Lists">Lists</a>:</td>
<td class="left">Lists</td>
</tr>

<tr>
<td class="left">• <a href="#Paragraphs">Paragraphs</a>:</td>
<td class="left">Paragraphs</td>
</tr>

<tr>
<td class="left">• <a href="#Footnote-markup">Footnote markup</a>:</td>
<td class="left">Footnotes</td>
</tr>

<tr>
<td class="left">• <a href="#Emphasis-and-monospace">Emphasis and monospace</a>:</td>
<td class="left">Bold, italic, etc.</td>
</tr>

<tr>
<td class="left">• <a href="#Horizontal-rules">Horizontal rules</a>:</td>
<td class="left">Make a line</td>
</tr>

<tr>
<td class="left">• <a href="#Comment-lines">Comment lines</a>:</td>
<td class="left">What will <b>not</b> be exported</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-11-1-1" class="outline-4">
<h4 id="sec-11-1-1">Document title                                                    <a id="Document-title" name="Document-title"></a></h4>
<div class="outline-text-4" id="text-11-1-1">
<p>
The title of the exported document is taken from the special line
</p>

<pre class="example">
#+TITLE: This is the title of the document
</pre>

<p>
If you are exporting only a subtree, its heading will become the
title of the document. If the subtree has a property
<code>EXPORT_TITLE</code>, that will take precedence.
</p>
</div>
</div>

<div id="outline-container-sec-11-1-2" class="outline-4">
<h4 id="sec-11-1-2">Headings and sections                                             <a id="Headings-and-sections" name="Headings-and-sections"></a></h4>
<div class="outline-text-4" id="text-11-1-2">
<p>
The outline structure of the document as described in <a href="#Document-structure">Document
structure</a>, forms the basis for defining sections of the exported
document. However, since the outline structure is also used for
(for example) lists of tasks, only the first three outline levels
will be used as headings. Deeper levels will become itemized
lists. You can change the location of this switch globally by
setting the variable <code>org-export-headline-levels</code>, or on a
per-file basis with a line
</p>

<pre class="example">
#+OPTIONS: H:4
</pre>
</div>
</div>

<div id="outline-container-sec-11-1-3" class="outline-4">
<h4 id="sec-11-1-3">Table of contents                                                 <a id="Table-of-contents" name="Table-of-contents"></a></h4>
<div class="outline-text-4" id="text-11-1-3">
<p>
The table of contents is normally inserted directly before the
first headline of the file. The depth of the table is by default
the same as the number of headline levels, but you can choose a
smaller number, or turn off the table of contents entirely, by
configuring the variable <code>org-export-with-toc</code>, or on a per-file
basis with a line like
</p>

<pre class="example">
#+OPTIONS: toc:2          only inlcude two levels in TOC
#+OPTIONS: toc:nil        no default TOC at all
</pre>

<p>
If you would like to move the table of contents to a different
location, you should turn off the default table using
<code>org-export-with-toc</code> or <code>#+OPTIONS</code> and insert <code>#+TOC: headlines
    N</code> at the desired location(s).
</p>

<pre class="example">
#+OPTIONS: toc:nil        no default TOC
...
#+TOC: headlines 2        insert TOC here, with two headline levels
</pre>

<p>
Moreover, if you append ‘local' parameter, the table contains only
entries for the children of the current section<sup><a id="fnr.107" name="fnr.107" class="footref" href="#fn.107">107</a></sup>. In
this case, any depth parameter becomes relative to the current
level.
</p>

<pre class="example">
* Section
#+TOC: headlines 1 local  insert local TOC, with direct children only
</pre>

<p>
The same <code>TOC</code> keyword can also generate a list of all tables
(resp. all listings) with a caption in the document.
</p>

<pre class="example">
#+TOC: listings           build a list of listings
#+TOC: tables             build a list of tables
</pre>

<p>
The headline's title usually determines its corresponding entry in
a table of contents. However, it is possible to specify an
alternative title by setting <code>ALT_TITLE</code> property accordingly. It
will then be used when building the table.
</p>
</div>
</div>

<div id="outline-container-sec-11-1-4" class="outline-4">
<h4 id="sec-11-1-4">Lists                                                             <a id="Lists" name="Lists"></a></h4>
<div class="outline-text-4" id="text-11-1-4">
<p>
Plain lists as described in <a href="#Plain-lists">Plain lists</a>, are translated to the
back-end's syntax for such lists. Most back-ends support
unordered, ordered, and description lists.
</p>
</div>
</div>

<div id="outline-container-sec-11-1-5" class="outline-4">
<h4 id="sec-11-1-5">Paragraphs, line breaks, and quoting                              <a id="Paragraphs" name="Paragraphs"></a></h4>
<div class="outline-text-4" id="text-11-1-5">
<p>
Paragraphs are separated by at least one empty line. If you need
to enforce a line break within a paragraph, use ‘\\' at the end of
a line.
</p>

<p>
To keep the line breaks in a region, but otherwise use normal
formatting, you can use this construct, which can also be used to
format poetry.
</p>

<pre class="example">
#+BEGIN_VERSE
Great clouds overhead
Tiny black birds rise and fall
Snow covers Emacs

-- AlexSchroeder
#+END_VERSE
</pre>

<p>
When quoting a passage from another document, it is customary to
format this as a paragraph that is indented on both the left and
the right margin. You can include quotations in Org mode documents
like this:
</p>

<pre class="example">
#+BEGIN_QUOTE
Everything should be made as simple as possible,
but not any simpler -- Albert Einstein
#+END_QUOTE
</pre>

<p>
If you would like to center some text, do it like this:
</p>

<pre class="example">
#+BEGIN_CENTER
Everything should be made as simple as possible, \\
but not any simpler
#+END_CENTER
</pre>
</div>
</div>

<div id="outline-container-sec-11-1-6" class="outline-4">
<h4 id="sec-11-1-6">Footnote markup                                                   <a id="Footnote-markup" name="Footnote-markup"></a></h4>
<div class="outline-text-4" id="text-11-1-6">
<p>
Footnotes defined in the way described in <a href="#Footnotes">Footnotes</a>, will be
exported by all back-ends. Org allows multiple references to the
same note, and multiple footnotes side by side.
</p>
</div>
</div>

<div id="outline-container-sec-11-1-7" class="outline-4">
<h4 id="sec-11-1-7">Emphasis and monospace                                            <a id="Emphasis-and-monospace" name="Emphasis-and-monospace"></a></h4>
<div class="outline-text-4" id="text-11-1-7">
<p>
You can make words <b><b>bold</b></b>, <i><i>italic</i></i>, <code>_underlined_</code>,
<code>=verbatim=</code> and <code>~code~</code>, and, if you must,
‘+strike-through+'. Text in the code and verbatim string is not
processed for Org mode specific syntax, it is exported verbatim.
</p>

<p>
To turn off fontification for marked up text, you can set
<code>org-fontify-emphasized-text</code> to <code>nil</code>. To narrow down the list of
available markup syntax, you can customize
<code>org-emphasis-alist</code>. To fine tune what characters are allowed
before and after the markup characters, you can tweak
<code>org-emphasis-regexp-components</code>. Beware that changing one of the
above variables will no take effect until you reload Org, for
which you may need to restart Emacs.
</p>
</div>
</div>

<div id="outline-container-sec-11-1-8" class="outline-4">
<h4 id="sec-11-1-8">Horizontal rules                                                  <a id="Horizontal-rules" name="Horizontal-rules"></a></h4>
<div class="outline-text-4" id="text-11-1-8">
<p>
A line consisting of only dashes, and at least 5 of them, will be
exported as a horizontal line.
</p>
</div>
</div>

<div id="outline-container-sec-11-1-9" class="outline-4">
<h4 id="sec-11-1-9">Comment lines                                                     <a id="Comment-lines" name="Comment-lines"></a></h4>
<div class="outline-text-4" id="text-11-1-9">
<p>
Lines starting with zero or more whitespace characters followed by
one ‘#' and a whitespace are treated as comments and, as such, are
not exported.
</p>

<p>
Likewise, regions surrounded by ‘#+BEGIN<sub>COMMENT'</sub>
&#x2026; ‘#+END<sub>COMMENT'</sub> are not exported.
</p>

<p>
Finally, a ‘COMMENT' keyword at the beginning of an entry, but
after any other keyword or priority cookie, comments out the
entire subtree. In this case, the subtree is not exported and no
code block within it is executed either<sup><a id="fnr.108" name="fnr.108" class="footref" href="#fn.108">108</a></sup>. The command
below helps changing the comment status of a headline.
</p>

<p>
C-c ;
</p>

<p>
Toggle the ‘COMMENT' keyword at the beginning of an entry.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2">11.2 Images and Tables                                             <a id="Images-and-tables" name="Images-and-tables"></a></h3>
<div class="outline-text-3" id="text-11-2">
<p>
Both the native Org mode tables (see <a href="#Tables">Tables</a>) and tables formatted
with the table.el package will be exported properly. For Org mode
tables, the lines before the first horizontal separator line will
become table header lines. You can use the following lines
somewhere before the table to assign a caption and a label for
cross references, and in the text you can refer to the object with
<code>[[tab:basic-data]]</code> (see <a href="#Internal-links">Internal links</a>):
</p>

<pre class="example">
#+CAPTION: This is the caption for the next table (or link)
#+NAME:   tab:basic-data
   | ... | ...|
   |-----|----|
</pre>

<p>
Optionally, the caption can take the form:
</p>

<pre class="example">
#+CAPTION[Caption for list of tables]: Caption for table.
</pre>

<p>
Some back-ends allow you to directly include images into the
exported document. Org does this, if a link to an image files does
not have a description part, for example <code>[[./img/a.jpg]]</code>. If you wish
to define a caption for the image and maybe a label for internal
cross references, make sure that the link is on a line by itself
and precede it with <code>#+CAPTION</code> and <code>#+NAME</code> as follows:
</p>

<pre class="example">
#+CAPTION: This is the caption for the next figure link (or table)
#+NAME:   fig:SED-HR4049
[[./img/a.jpg]]
</pre>

<p>
Such images can be displayed within the buffer. See <a href="#Handling-links">the discussion
of image links</a>.
</p>

<p>
Even though images and tables are prominent examples of captioned
structures, the same caption mechanism can apply to many others
(e.g., LaTeX equations, source code blocks). Depending on the
export back-end, those may or may not be handled.
</p>
</div>
</div>

<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3">11.3 Literal examples                                              <a id="Literal-examples" name="Literal-examples"></a></h3>
<div class="outline-text-3" id="text-11-3">
<p>
You can include literal examples that should not be subjected to
markup.  Such examples will be typeset in monospace, so this is
well suited for source code and similar examples.
</p>

<pre class="example">
\#+BEGIN_EXAMPLE
 Some example from a text file.
\#+END_EXAMPLE
</pre>

<p>
Note that such blocks may be <i>indented</i> in order to align nicely
with indented text and in particular with plain list structure (see
<a href="#Plain-lists">Plain lists</a>). For simplicity when using small examples, you can
also start the example lines with a colon followed by a
space. There may also be additional whitespace before the colon:
</p>

<pre class="example">
Here is an example
   : Some example from a text file.
</pre>

<p>
If the example is source code from a programming language, or any
other text that can be marked up by font-lock in Emacs, you can ask
for the example to look like the fontified Emacs
buffer<sup><a id="fnr.109" name="fnr.109" class="footref" href="#fn.109">109</a></sup>.  This is done with the ‘src' block, where you
also need to specify the name of the major mode that should be used
to fontify the example<sup><a id="fnr.110" name="fnr.110" class="footref" href="#fn.110">110</a></sup>, see <a href="#Easy-templates">Easy templates</a> for
shortcuts to easily insert code blocks.
</p>

<pre class="example">
#+BEGIN_SRC emacs-lisp
   (defun org-xor (a b)
      "Exclusive or."
      (if a (not b) b))
#+END_SRC
</pre>

<p>
Both in <code>example</code> and in <code>src</code> snippets, you can add a <code>-n</code> switch
to the end of the <code>BEGIN</code> line, to get the lines of the example
numbered.  If you use a <code>+n</code> switch, the numbering from the
previous numbered snippet will be continued in the current one. In
literal examples, Org will interpret strings like ‘(ref:name)' as
labels, and use them as targets for special hyperlinks like
<code>[[(name)]]</code> (i.e., the reference name enclosed in single
parenthesis). In HTML, hovering the mouse over such a link will
remote-highlight the corresponding code line, which is kind of
cool.
</p>

<p>
You can also add a <code>-r</code> switch which <i>removes</i> the labels from the
source code<sup><a id="fnr.111" name="fnr.111" class="footref" href="#fn.111">111</a></sup>. With the <code>-n</code> switch, links to these
references will be labeled by the line numbers from the code
listing, otherwise links will use the labels with no
parentheses. Here is an example:
</p>

<pre class="example">
#+BEGIN_SRC emacs-lisp -n -r
<span id="coderef-sc" class="coderef-off"> (save-excursion (sc)</span>
<span id="coderef-jump" class="coderef-off">    (goto-char (point-min))) (jump)</span>
#+END_SRC
In line [[(sc)]] we remember the current position.  [[(jump)][Line (jump)]]
jumps to point-min.
</pre>

<p>
Finally, you can use <code>-i</code> to preserve the indentation of a specific
code block (see <a href="#Editing-source-code">Editing source code</a>).
</p>

<p>
If the syntax for the label format conflicts with the language
syntax, use a <code>-l</code> switch to change the format, for example
‘#+BEGIN<sub>SRC</sub> pascal -n -r -l "((%s))"'. See also the variable
<code>org-coderef-label-format</code>.
</p>

<p>
HTML export also allows examples to be published as text areas (see
<a href="#Text-areas-in-HTML-export">Text areas in HTML export</a>).
</p>

<p>
Because the <code>#+BEGIN_...</code> and <code>#+END_...</code> patterns need to be added
so often, shortcuts are provided using the Easy templates facility
(see <a href="#Easy-templates">Easy templates</a>).
</p>

<ul class="org-ul">
<li><b>/C-c '/</b>

<p>
Edit the source code example at point in its native mode. This
works by switching to a temporary buffer with the source
code. You need to exit by pressing C-c ' again<sup><a id="fnr.112" name="fnr.112" class="footref" href="#fn.112">112</a></sup>. The
edited version will then replace the old version in the Org
buffer. Fixed-width regions (where each line starts with a colon
followed by a space) will be edited using
<code>artist-mode</code> <sup><a id="fnr.113" name="fnr.113" class="footref" href="#fn.113">113</a></sup> to allow creating ASCII drawings
easily. Using this command in an empty line will create a new
fixed-width region.
</p>
</li>

<li><b><i>C-c l</i></b>

<p>
Calling <code>org-store-link</code> while editing a source code example in
a temporary buffer created with <b>/C-c '/</b> will prompt for a
label. Make sure that it is unique in the current buffer, and
insert it with the proper formatting like ‘(ref:label)' at the
end of the current line. Then the label is stored as a link
‘(label)', for retrieval with <b><i>C-c C-l</i></b>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4">11.4 Include files                                                 <a id="Include-files" name="Include-files"></a></h3>
<div class="outline-text-3" id="text-11-4">
<p>
During export, you can include the content of another file. For
example, to include your .emacs file, you could use:
</p>

<pre class="example">
#+INCLUDE: "~/.emacs" src emacs-lisp
</pre>

<p>
The first parameter names the the file to include. The optional
second and third parameter specify the markup (i.e., ‘example' or
‘src'), and, if the markup is ‘src', the language for formatting
the contents.
</p>

<p>
If markup is requested, the included content will be placed within
an appropriate block<sup><a id="fnr.114" name="fnr.114" class="footref" href="#fn.114">114</a></sup>. No changes to the included
content are made and it is the responsibility of the user to ensure
that the result is valid Org syntax. For markup ‘example' and
‘src', which is requesting a literal example, the content will be
code-escaped before inclusion.
</p>

<p>
If no markup is requested, the text will be assumed to be in Org
mode format and will be processed normally. However, footnote
labels (see <a href="#Footnotes">Footnotes</a>) in the file will be made local to that file.
Contents of the included file will belong to the same structure
(headline, item) containing the <code>INCLUDE</code> keyword. In particular,
headlines within the file will become children of the current
section.  That behavior can be changed by providing an additional
keyword parameter, <code>:minlevel</code>. In that case, all headlines in the
included file will be shifted so the one with the lowest level
reaches that specified level. For example, to make a file become a
sibling of the current top-level headline, use
</p>

<pre class="example">
#+INCLUDE: "~/my-book/chapter2.org" :minlevel 1
</pre>

<p>
You can also include a portion of a file by specifying a lines
range using the <code>:lines</code> keyword parameter. The line at the upper
end of the range will not be included. The start and/or the end of
the range may be omitted to use the obvious defaults.
</p>

<pre class="example">
#+INCLUDE: "~/.emacs" :lines "5-10"   Include lines 5 to 10, 10 excluded
#+INCLUDE: "~/.emacs" :lines "-10"    Include lines 1 to 10, 10 excluded
#+INCLUDE: "~/.emacs" :lines "10-"    Include lines from 10 to EOF
</pre>

<p>
Finally, you may use a file-link to extract an object as matched by
<code>org-link-search</code> <sup><a id="fnr.115" name="fnr.115" class="footref" href="#fn.115">115</a></sup> (see <a href="#Search-options">Search options</a>). If the
<code>:only-contents</code> property is non- <code>nil</code>, only the contents of the
requested element will be included, omitting properties drawer and
planning-line if present. The <code>:lines</code> keyword operates locally
with respect to the requested element. Some examples:
</p>

<pre class="example">
#+INCLUDE: "./paper.org::#theory" :only-contents t
   Include the body of the heading with the custom id theory
#+INCLUDE: "./paper.org::mytable"  Include named element.
#+INCLUDE: "./paper.org::*conclusion" :lines 1-20
   Include the first 20 lines of the headline named conclusion.
</pre>

<ul class="org-ul">
<li><b>/C-c '/</b>

<p>
Visit the include file at point.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-11-5" class="outline-3">
<h3 id="sec-11-5">11.5 Index entries                                                 <a id="Index-entries" name="Index-entries"></a></h3>
<div class="outline-text-3" id="text-11-5">
<p>
You can specify entries that will be used for generating an index
during publishing. This is done by lines starting with
<code>#+INDEX</code>. An entry the contains an exclamation mark will create a
sub item. See <a href="#Generating-an-index">Generating an index</a> for more information.
</p>

<pre class="example">
* Curriculum Vitae
#+INDEX: CV
#+INDEX: Application!CV
</pre>
</div>
</div>

<div id="outline-container-sec-11-6" class="outline-3">
<h3 id="sec-11-6">11.6 Macro replacement                                             <a id="Macro-replacement" name="Macro-replacement"></a></h3>
<div class="outline-text-3" id="text-11-6">
<p>
You can define text snippets with
</p>

<pre class="example">
#+MACRO: name   replacement text $1, $2 are arguments
</pre>

<p>
which can be referenced <code>{{{name(arg1, arg2)}}}</code> <sup><a id="fnr.116" name="fnr.116" class="footref" href="#fn.116">116</a></sup>.
</p>

<p>
These references, called macros, can be inserted anywhere Org
markup is recognized: paragraphs, headlines, verse blocks, tables
cells and lists.  They can also be used in keywords accepting Org
syntax, e.g., <code>#+CAPTION</code>, <code>#+TITLE</code>, <code>#+AUTHOR</code>, <code>#+DATE</code> and some
others, export back-end specific, ones.
</p>

<p>
In addition to user-defined macros, a set of predefined macros can
be used:
</p>

<ul class="org-ul">
<li><code>{{{title}}}</code>
</li>
<li><code>{{{author}}}</code>
</li>
<li><code>{{{email}}}</code>

<p>
These macros are replaced with the information available at the
time of export.
</p>
</li>

<li><code>{{{date}}}</code>
</li>
<li><code>{{{date(FORMAT)}}}</code>

<p>
This macro refers to the <code>#+DATE</code> keyword.  FORMAT is an
optional argument to the <code>{{{date}}}</code> macro that will be used
only if <code>#+DATE</code> is a single timestamp. FORMAT should be a
format string understood by <code>format-time-string</code>.
</p>
</li>

<li><code>{{{time(FORMAT)}}}</code>
</li>
<li><code>{{{modification-time(FORMAT)}}}</code>

<p>
These macros refer to the date and time when the document is
exported and to the modification date and time of the file being
exported, respectively. FORMAT should be a format string
understood by <code>format-time-string</code>.
</p>
</li>

<li><code>{{{input-file}}}</code>

<p>
This macro refers to the filename of the exported file, if any.
</p>
</li>

<li><code>{{{property(PROPERTY-NAME)}}}</code>
</li>
<li><code>{{{property(PROPERTY-NAME,SEARCH-OPTION)}}}</code>

<p>
This macro returns the value of property PROPERTY-NAME in
current entry. If SEARCH-OPTION (see <a href="#Search-options">Search options</a>) refers to a
remote entry, it will be used instead.
</p>
</li>
</ul>

<p>
The surrounding brackets can be made invisible by setting
<code>org-hide-macro-markers</code> non- <code>nil</code>.
</p>

<p>
Macro expansion takes place during the very beginning of the export
process.
</p>
</div>
</div>

<div id="outline-container-sec-11-7" class="outline-3">
<h3 id="sec-11-7">11.7 Embedded LaTeX                                                <a id="Embedded-LaTeX" name="Embedded-LaTeX"></a></h3>
<div class="outline-text-3" id="text-11-7">
<p>
Plain ASCII is normally sufficient for almost all note taking.
Exceptions include scientific notes, which often require
mathematical symbols and the occasional formula. LaTeX<sup><a id="fnr.117" name="fnr.117" class="footref" href="#fn.117">117</a></sup>
is widely used to typeset scientific documents. Org mode supports
embedding LaTeX code into its files, because many academics are
used to writing and reading LaTeX source code, and because it can
be readily processed to produce pretty output for a number of
export back-ends.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Special-symbols">Special symbols</a>:</td>
<td class="left">Greek letters and other symbols</td>
</tr>

<tr>
<td class="left">• <a href="#Subscripts-and-superscripts">Subscripts and superscripts</a>:</td>
<td class="left">Simple syntax for raising/lowering text</td>
</tr>

<tr>
<td class="left">• <a href="#LaTeX-fragments">LaTeX fragments</a>:</td>
<td class="left">Complex formulas made easy</td>
</tr>

<tr>
<td class="left">• <a href="#Previewing-LaTeX-fragments">Previewing LaTeX fragments</a>:</td>
<td class="left">What will this snippet look like?</td>
</tr>

<tr>
<td class="left">• <a href="#CDLaTeX-mode">CDLaTeX mode</a>:</td>
<td class="left">Speed up entering of formulas</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-11-7-1" class="outline-4">
<h4 id="sec-11-7-1">11.7.1 Special symbols                                            <a id="Special-symbols" name="Special-symbols"></a></h4>
<div class="outline-text-4" id="text-11-7-1">
<p>
You can use LaTeX-like syntax to insert special symbols like
‘&alpha;' to indicate the Greek letter, or ‘&rarr;' to indicate an
arrow. Completion for these symbols is available, just type ‘\'
and maybe a few letters, and press M-TAB to see possible
completions. Unlike LaTeX code, Org mode allows these symbols to
be present without surrounding math delimiters, for example:
</p>

<pre class="example">
Angles are written as Greek letters \alpha, \beta and \gamma.
</pre>

<p>
During export, these symbols will be transformed into the native
format of the exporter back-end. Strings like <code>\alpha</code> will be
exported as <code>&amp;alpha;</code> in the HTML output, and as <code>\(\alpha\)</code> in
the LaTeX output.  Similarly, <code>\nbsp</code> will become <code>&amp;nbsp;</code> in HTML
and <code>~</code> in LaTeX. If you need such a symbol inside a word,
terminate it like this: ‘&Aacute;stor'.
</p>

<p>
A large number of entities is provided, with names taken from both
HTML and LaTeX; see the variable <code>org-entities</code> for the complete
list. ‘&#x00ad;' is treated as a shy hyphen, and ‘&#x2013;', ‘&#x2014;', and ‘&#x2026;'
are all converted into special commands creating hyphens of
different lengths or a compact set of dots.
</p>

<p>
If you would like to see entities displayed as UTF-8 characters,
use the following command<sup><a id="fnr.118" name="fnr.118" class="footref" href="#fn.118">118</a></sup>:
</p>

<ul class="org-ul">
<li><b>/C-c C-x \ /</b>

<p>
Toggle display of entities as UTF-8 characters. This does not
change the buffer content which remains plain ASCII, but it
overlays the UTF-8 character for display purposes only.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-11-7-2" class="outline-4">
<h4 id="sec-11-7-2">11.7.2 Subscripts and superscripts                                <a id="Subscripts-and-superscripts" name="Subscripts-and-superscripts"></a></h4>
<div class="outline-text-4" id="text-11-7-2">
<p>
Just like in LaTeX, ‘<sup>'</sup> and ‘<sub>'</sub> are used to indicate super- and
subscripts. Again, these can be used without embedding them in
math-mode delimiters. To increase the readability of ASCII text,
it is not necessary (but OK) to surround multi-character sub- and
superscripts with curly braces. For example
</p>

<pre class="example">
The mass of the sun is M_sun = 1.989 x 10^30 kg.  The radius of
the sun is R_{sun} = 6.96 x 10^8 m.
</pre>

<p>
If you write a text where the underscore is often used in a
different context, Org's convention to always interpret these as
subscripts can get in your way. Configure the variable
<code>org-use-sub-superscripts</code> to change this convention. For example,
when setting this variable to <code>{}</code>, ‘a<sub>b'</sub> will not be interpreted
as a subscript, but ‘a<sub>b</sub>' will.
</p>

<ul class="org-ul">
<li><b>/C-c C-x \ /</b>

<p>
In addition to showing entities as UTF-8 characters, this
command will also format sub- and superscripts in a WYSIWYM
way.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-11-7-3" class="outline-4">
<h4 id="sec-11-7-3">11.7.3 LaTeX fragments                                            <a id="LaTeX-fragments" name="LaTeX-fragments"></a></h4>
<div class="outline-text-4" id="text-11-7-3">
<p>
Going beyond symbols and sub- and superscripts, a full formula
language is needed. Org mode can contain LaTeX math fragments, and
it supports ways to process these for several export
back-ends. When exporting to LaTeX, the code is left as it
is. When exporting to HTML, Org can use either <a href="http://www.mathjax.org">MathJax</a> (see <a href="#Math-formatting-in-HTML-export">Math
formatting in HTML export</a>) or transcode the math into images (see
see <a href="#Previewing-LaTeX-fragments">Previewing LaTeX fragments</a>).
</p>

<p>
LaTeX fragments don't need any special marking at all. The
following snippets will be identified as LaTeX source code:
</p>

<ul class="org-ul">
<li>Environments of any kind<sup><a id="fnr.119" name="fnr.119" class="footref" href="#fn.119">119</a></sup>. The only requirement is
that the <code>\begin</code> statement appears on a new line, at the
beginning of the line or after whitespaces only.
</li>

<li>Text within the usual LaTeX math delimiters. To avoid conflicts
with currency specifications, single ‘\(' characters are only
       recognized as math delimiters if the enclosed text contains at
       most two line breaks, is directly attached to the ‘\)'
characters with no whitespace in between, and if the closing
‘$' is followed by whitespace or punctuation (parentheses and
quotes are considered to be punctuation in this context). For
the other delimiters, there is no such restriction, so when in
doubt, use ‘\(...\)' as inline math delimiters.
</li>
</ul>

<p>
For example:
</p>

<pre class="example">
\begin{equation}
x=\sqrt{b}
\end{equation}

If $a^2=b$ and \( b=2 \), then the solution must be
either $$ a=+\sqrt{2} $$ or \[ a=-\sqrt{2} \].
</pre>

<p>
LaTeX processing can be configured with the variable
<code>org-export-with-latex</code>. The default setting is <code>t</code> which means
MathJax for HTML, and no processing for ASCII and LaTeX
back-ends. You can also set this variable on a per-file basis
using one of these lines:
</p>

<pre class="example">
#+OPTIONS: tex:t          Do the right thing automatically (MathJax)
#+OPTIONS: tex:nil        Do not process LaTeX fragments at all
#+OPTIONS: tex:verbatim   Verbatim export, for jsMath or so
</pre>
</div>
</div>

<div id="outline-container-sec-11-7-4" class="outline-4">
<h4 id="sec-11-7-4">11.7.4 Previewing LaTeX fragments                                 <a id="Previewing-LaTeX-fragments" name="Previewing-LaTeX-fragments"></a></h4>
<div class="outline-text-4" id="text-11-7-4">
<p>
If you have a working LaTeX installation and either dvipng or
convert installed<sup><a id="fnr.120" name="fnr.120" class="footref" href="#fn.120">120</a></sup>, LaTeX fragments can be processed to
produce images of the typeset expressions to be used for inclusion
while exporting to HTML (see see <a href="#LaTeX-fragments">LaTeX fragments</a>), or for inline
previewing within Org mode.
</p>

<p>
You can customize the variables <code>org-format-latex-options</code> and
<code>org-format-latex-header</code> to influence some aspects of the
preview. In particular, the <code>:scale</code> (and for HTML export,
<code>:html-scale</code>) property of the former can be used to adjust the
size of the preview images.
</p>

<ul class="org-ul">
<li><b><i>C-c C-x C-l</i></b>

<p>
Produce a preview image of the LaTeX fragment at point and
overlay it over the source code. If there is no fragment at
point, process all fragments in the current entry (between two
headlines). When called with a prefix argument, process the
entire subtree. When called with two prefix arguments, or when
the cursor is before the first headline, process the entire
buffer.
</p>
</li>

<li><b><i>C-c C-c</i></b>

<p>
Remove the overlay preview images.
</p>
</li>
</ul>

<p>
You can turn on the previewing of all LaTeX fragments in a file
with
</p>

<pre class="example">
#+STARTUP: latexpreview
</pre>

<p>
To disable it, simply use
</p>

<pre class="example">
#+STARTUP: nolatexpreview
</pre>
</div>
</div>

<div id="outline-container-sec-11-7-5" class="outline-4">
<h4 id="sec-11-7-5">11.7.5 Using CDLaTeX to enter math                                <a id="CDLaTeX-mode" name="CDLaTeX-mode"></a></h4>
<div class="outline-text-4" id="text-11-7-5">
<p>
CDLaTeX mode is a minor mode that is normally used in combination
with a major LaTeX mode like AUCTeX in order to speed-up insertion
of environments and math templates. Inside Org mode, you can make
use of some of the features of CDLaTeX mode. You need to install
cdlatex.el and texmathp.el (the latter comes also with AUCTeX)
from <a href="http://www.astro.uva.nl/~dominik/Tools/cdlatex">http://www.astro.uva.nl/~dominik/Tools/cdlatex</a>. Don't use
CDLaTeX mode itself under Org mode, but use the light version
<code>org-cdlatex-mode</code> that comes as part of Org mode. Turn it on for
the current buffer with <b><i>M-x org-cdlatex-mode RET</i></b>, or for all
Org files with
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'org-mode-hook 'turn-on-org-cdlatex)
</pre>
</div>

<p>
When this mode is enabled, the following features are present (for
more details see the documentation of CDLaTeX mode):
</p>

<ul class="org-ul">
<li>Environment templates can be inserted with <b><i>C-c {</i></b>.
</li>

<li>The <code>TAB</code> key will do template expansion if the cursor is
inside a LaTeX fragment<sup><a id="fnr.121" name="fnr.121" class="footref" href="#fn.121">121</a></sup>. For example, <code>TAB</code> will
expand <code>fr</code> to <code>\frac{}{}</code> and position the cursor correctly
inside the first brace. Another <code>TAB</code> will get you into the
second brace. Even outside fragments, <code>TAB</code> will expand
environment abbreviations at the beginning of a line. For
example, if you write ‘equ' at the beginning of a line and
press <code>TAB</code>, this abbreviation will be expanded to an
<code>equation</code> environment. To get a list of all abbreviations,
type <b><i>M-x cdlatex-command-help RET</i></b>.
</li>

<li>Pressing <code>_</code> and <code>^</code> inside a LaTeX fragment will insert these
characters together with a pair of braces. If you use <code>TAB</code> to
move out of the braces, and if the braces surround only a
single character or macro, they are removed again (depending on
the variable <code>cdlatex-simplify-sub-super-scripts</code>).
</li>

<li>Pressing the grave accent <code>`</code> followed by a character inserts
math macros, also outside LaTeX fragments. If you wait more
than 1.5 seconds after the grave accent, a help window will pop
up.
</li>

<li>Pressing the apostrophe ='= followed by another character
modifies the symbol before point with an accent or a font. If
you wait more than 1.5 seconds after the apostrophe, a help
window will pop up.  Character modification will work only
inside LaTeX fragments; outside the quote is normal.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-11-8" class="outline-3">
<h3 id="sec-11-8">11.8 Special blocks                                                <a id="Special-blocks" name="Special-blocks"></a></h3>
<div class="outline-text-3" id="text-11-8">
<p>
Org syntax includes pre-defined blocks (see <a href="#Paragraphs">Paragraphs</a> and <a href="#Literal-examples">Literal
examples</a>). It is also possible to create blocks containing raw code
targeted at a specific back-end (e.g., ‘#+BEGIN<sub>LATEX'</sub>).
</p>

<p>
Any other block is a <i>special block</i>. Its name is case-sensitive.
</p>

<p>
For example, ‘#+BEGIN<sub>abstract'</sub> and ‘#+BEGIN<sub>video'</sub> are special
blocks. The first one is useful when exporting to LaTeX, the second
one when exporting to HTML5.
</p>

<p>
Each export back-end decides if they should be exported, and
how. When the block is ignored, its contents are still exported, as
if the opening and closing block lines were not there. For example,
when exporting a ‘#+BEGIN<sub>test'</sub> block, HTML back-end wraps its
contents within a ‘&lt;div name="test"&gt;' tag.
</p>

<p>
Refer to back-end specific documentation for more information.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">12 Exporting                                                        <a id="Exporting" name="Exporting"></a></h2>
<div class="outline-text-2" id="text-12">
<p>
The Org mode export facilities can be used to export Org documents
or parts of Org documents to a variety of other formats. In
addition, these facilities can be used with <code>orgtbl-mode</code> and/or
<code>orgstruct-mode</code> in foreign buffers so you can author tables and
lists in Org syntax and convert them in place to the target
language.
</p>

<p>
ASCII export produces a readable and simple version of an Org file
for printing and sharing notes. HTML export allows you to easily
publish notes on the web, or to build full-fledged websites. LaTeX
export lets you use Org mode and its structured editing functions to
create arbitrarily complex LaTeX files for any kind of
document. OpenDocument Text (ODT) export allows seamless
collaboration across organizational boundaries. Markdown export lets
you seamlessly collaborate with other developers. Finally, iCal
export can extract entries with deadlines or appointments to produce
a file in the iCalendar format.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#The-export-dispatcher">The export dispatcher</a>:</td>
<td class="left">The main exporter interface</td>
</tr>

<tr>
<td class="left">• <a href="#Export-back_ends">Export back-ends</a>:</td>
<td class="left">Built-in export formats</td>
</tr>

<tr>
<td class="left">• <a href="#Export-settings">Export settings</a>:</td>
<td class="left">Generic export settings</td>
</tr>

<tr>
<td class="left">• <a href="#ASCII_Latin_1_UTF_8-export">ASCII/Latin-1/UTF-8 export</a>:</td>
<td class="left">Exporting to flat files with encoding</td>
</tr>

<tr>
<td class="left">• <a href="#Beamer-export">Beamer export</a>:</td>
<td class="left">Exporting as a Beamer presentation</td>
</tr>

<tr>
<td class="left">• <a href="#HTML-export">HTML export</a>:</td>
<td class="left">Exporting to HTML</td>
</tr>

<tr>
<td class="left">• <a href="#LaTeX-and-PDF-export">LaTeX and PDF export</a>:</td>
<td class="left">Exporting to LaTeX, and processing to PDF</td>
</tr>

<tr>
<td class="left">• <a href="#Markdown-export">Markdown export</a>:</td>
<td class="left">Exporting to Markdown</td>
</tr>

<tr>
<td class="left">• <a href="#OpenDocument-Text-export">OpenDocument Text export</a>:</td>
<td class="left">Exporting to OpenDocument Text</td>
</tr>

<tr>
<td class="left">• <a href="#Org-export">Org export</a>:</td>
<td class="left">Exporting to Org</td>
</tr>

<tr>
<td class="left">• <a href="#Texinfo-export">Texinfo export</a>:</td>
<td class="left">Exporting to Texinfo</td>
</tr>

<tr>
<td class="left">• <a href="#iCalendar-export">iCalendar export</a>:</td>
<td class="left">Exporting to iCalendar</td>
</tr>

<tr>
<td class="left">• <a href="#Other-built_in-back_ends">Other built-in back-ends</a>:</td>
<td class="left">Exporting to a man page</td>
</tr>

<tr>
<td class="left">• <a href="#Export-in-foreign-buffers">Export in foreign buffers</a>:</td>
<td class="left">Author tables and lists in Org syntax</td>
</tr>

<tr>
<td class="left">• <a href="#Advanced-configuration">Advanced configuration</a>:</td>
<td class="left">Fine-tuning the export output</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-1" class="outline-3">
<h3 id="sec-12-1">12.1 The export dispatcher                                         <a id="The-export-dispatcher" name="The-export-dispatcher"></a></h3>
<div class="outline-text-3" id="text-12-1">
<p>
The main entry point for export related tasks is the dispatcher, a
hierarchical menu from which it is possible to select an export
format and toggle export options<sup><a id="fnr.122" name="fnr.122" class="footref" href="#fn.122">122</a></sup> from which it is
possible to select an export format and to toggle export options.
</p>

<ul class="org-ul">
<li><b><i>C-c C-e</i></b> (<code>org-export-dispatch</code>)

<p>
Dispatch for export and publishing commands. When called with a
C-u prefix argument, repeat the last export command on the
current buffer while preserving toggled options. If the current
buffer hasn't changed and subtree export was activated, the
command will affect that same subtree.
</p>
</li>
</ul>

<p>
Normally the entire buffer is exported, but if there is an active
region only that part of the buffer will be exported.
</p>

<p>
Several export options (see <a href="#Export-settings">Export settings</a>) can be toggled from
the export dispatcher with the following key combinations:
</p>

<ul class="org-ul">
<li><b><i>C-a</i></b>

<p>
Toggle asynchronous export. Asynchronous export uses an external
Emacs process that is configured with a specified initialization
file.
</p>

<p>
While exporting asynchronously, the output is not displayed, but
stored in a place called “the export stack”. This stack can be
displayed by calling the dispatcher with a double C-u prefix
argument, or with &amp; key from the dispatcher menu.
</p>

<p>
To make this behavior the default, customize the variable
<code>org-export-in-background</code>.
</p>
</li>

<li><b><i>C-b</i></b>

<p>
Toggle body-only export. Its effect depends on the back-end
used. Typically, if the back-end has a header section (like
<code>&lt;head&gt;...&lt;/head&gt;</code> in the HTML back-end), a body-only export
will not include this header.
</p>
</li>

<li><b><i>C-s</i></b>

<p>
Toggle subtree export. The top heading becomes the document
title.
</p>

<p>
You can change the default state of this option by setting
<code>org-export-initial-scope</code>.
</p>
</li>

<li><b><i>C-v</i></b>

<p>
Toggle visible-only export. Only export the text that is
currently visible, i.e., not hidden by outline visibility in the
buffer.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-2" class="outline-3">
<h3 id="sec-12-2">12.2 Export back-ends                                              <a id="Export-back_ends" name="Export-back_ends"></a></h3>
<div class="outline-text-3" id="text-12-2">
<p>
An export back-end is a library that translates Org syntax into a
foreign format. An export format is not available until the proper
back-end has been loaded.
</p>

<p>
By default, the following four back-ends are loaded: <code>ascii</code>,
<code>html</code>, <code>icalendar</code> and <code>latex</code>. It is possible to add more (or
remove some) by customizing <code>org-export-backends</code>.
</p>

<p>
Built-in back-ends include:
</p>

<ul class="org-ul">
<li>ascii (ASCII format)
</li>
<li>beamer (LaTeX Beamer format)
</li>
<li>html (HTML format)
</li>
<li>icalendar (iCalendar format)
</li>
<li>latex (LaTeX format)
</li>
<li>man (Man page format)
</li>
<li>md (Markdown format)
</li>
<li>odt (OpenDocument Text format)
</li>
<li>org (Org format)
</li>
<li>texinfo (Texinfo format)
</li>
</ul>

<p>
Other back-ends might be found in the <code>contrib/</code> directory (see
<a href="#Installation">Installation</a>).
</p>
</div>
</div>

<div id="outline-container-sec-12-3" class="outline-3">
<h3 id="sec-12-3">12.3 Export settings                                               <a id="Export-settings" name="Export-settings"></a></h3>
<div class="outline-text-3" id="text-12-3">
<p>
Export options can be set: globally with variables; for an
individual file by making variables buffer-local with in-buffer
settings (see <a href="#In_buffer-settings">In-buffer settings</a>), by setting individual keywords,
or by specifying them in a compact form with the <code>#+OPTIONS</code>
keyword; or for a tree by setting properties (see <a href="#Properties-and-columns">Properties and
columns</a>). Options set at a specific level override options set at a
more general level.
</p>

<p>
In-buffer settings may appear anywhere in the file, either directly
or indirectly through a file included using ‘#+SETUPFILE: filename'
syntax.  Option keyword sets tailored to a particular back-end can
be inserted from the export dispatcher (see <a href="#The-export-dispatcher">The export dispatcher</a>)
using the <code>Insert template</code> command by pressing <code>#</code>. To insert
keywords individually, a good way to make sure the keyword is
correct is to type <code>#+</code> and then to use <b><i>M-&lt;TAB&gt;</i></b> for completion.
</p>

<p>
The export keywords available for every back-end, and their
equivalent global variables, include:
</p>

<ul class="org-ul">
<li>‘AUTHOR'

<p>
The document author (<code>user-full-name</code>).
</p>
</li>

<li>‘CREATOR'

<p>
Entity responsible for output generation
(<code>org-export-creator-string</code>).
</p>
</li>

<li>‘DATE'

<p>
A date or a time-stamp<sup><a id="fnr.123" name="fnr.123" class="footref" href="#fn.123">123</a></sup>.
</p>
</li>

<li>‘EMAIL'

<p>
The email address (<code>user-mail-address</code>).
</p>
</li>

<li>‘LANGUAGE'

<p>
The language used for translating some strings
(<code>org-export-default-language</code>). E.g., ‘#+LANGUAGE: fr' will
tell Org to translate <i>File</i> (english) into <i>Fichier</i> (french)
in the clocktable.
</p>
</li>

<li>‘SELECT\<sub>TAGS'</sub>

<p>
The tags that select a tree for export
(<code>org-export-select-tags</code>). The default value is
<code>:export:</code>. Within a subtree tagged with <code>:export:</code>, you can
still exclude entries with <code>:noexport:</code> (see below). When
headlines are selectively exported with <code>:export:</code> anywhere in a
file, text before the first headline is ignored.
</p>
</li>

<li>‘EXCLUDE\<sub>TAGS'</sub>

<p>
The tags that exclude a tree from export
(<code>org-export-exclude-tags</code>). The default value is <code>:noexport:</code>.
Entries with the <code>:noexport:</code> tag will be unconditionally
excluded from the export, even if they have an <code>:export:</code>
tag. Code blocks contained in excluded subtrees will still be
executed during export even though the subtree is not exported.
</p>
</li>

<li>‘TITLE'

<p>
The title to be shown. You can use several such keywords for
long titles.
</p>
</li>
</ul>

<p>
The <code>#+OPTIONS</code> keyword is a compact<sup><a id="fnr.124" name="fnr.124" class="footref" href="#fn.124">124</a></sup> form that
recognizes the following arguments:
</p>

<ul class="org-ul">
<li>=':=

<p>
Toggle smart quotes (<code>org-export-with-smart-quotes</code>).
</p>
</li>

<li><code>*:</code>

<p>
Toggle emphasized text (<code>org-export-with-emphasize</code>).
</p>
</li>

<li><code>-:</code>

<p>
Toggle conversion of special strings
(<code>org-export-with-special-strings</code>).
</p>
</li>

<li><code>::</code>

<p>
Toggle fixed-width sections (<code>org-export-with-fixed-width</code>).
</p>
</li>

<li><code>&lt;:</code>

<p>
Toggle inclusion of any time/date active/inactive stamps
(<code>org-export-with-timestamps</code>).
</p>
</li>

<li><code>\n:</code>

<p>
Toggle line-break-preservation (<code>org-export-preserve-breaks</code>).
</p>
</li>

<li><code>^:</code>

<p>
Toggle TeX-like syntax for sub- and superscripts. If you write
"^:{}", <code>a_{b}</code> will be interpreted, but the simple <code>a_b</code>
will be left as it is (<code>org-export-with-sub-superscripts</code>).
</p>
</li>

<li><code>arch:</code>

<p>
Configure export of archived trees. Can be set to <code>headline</code> to
only process the headline, skipping its contents
(<code>org-export-with-archived-trees</code>).
</p>
</li>

<li><code>author:</code>

<p>
Toggle inclusion of author name into exported file
(<code>org-export-with-author</code>).
</p>
</li>

<li><code>c:</code>

<p>
Toggle inclusion of CLOCK keywords (<code>org-export-with-clocks</code>).
</p>
</li>

<li><code>creator:</code>

<p>
Toggle inclusion of creator info into exported file
(<code>org-export-with-creator</code>).
</p>
</li>

<li><code>d:</code>

<p>
Toggle inclusion of drawers, or list drawers to include
(<code>org-export-with-drawers</code>).
</p>
</li>

<li><code>date:</code>

<p>
Toggle inclusion of a date into exported file
(<code>org-export-with-date</code>).
</p>
</li>

<li><code>e:</code>

<p>
Toggle inclusion of entities (<code>org-export-with-entities</code>).
</p>
</li>

<li><code>email:</code>

<p>
Toggle inclusion of the author's e-mail into exported file
(<code>org-export-with-email</code>).
</p>
</li>

<li><code>f:</code>

<p>
Toggle the inclusion of footnotes (<code>org-export-with-footnotes</code>).
</p>
</li>

<li><code>H:</code>

<p>
Set the number of headline levels for export
(<code>org-export-headline-levels</code>). Below that level, headlines are
treated differently. In most back-ends, they become list items.
</p>
</li>

<li><code>inline:</code>

<p>
Toggle inclusion of inlinetasks (<code>org-export-with-inlinetasks</code>).
</p>
</li>

<li><code>num:</code>

<p>
Toggle section-numbers (<code>org-export-with-section-numbers</code>).  It
can also be set to a number ‘n', so only headlines at that level
or above will be numbered. Finally, irrespective of the level of
a specific headline, the numbering of it can be disabled by
setting the <code>UNNUMBERED</code> property to non-=nil=. This also
affects subheadings.
</p>
</li>

<li><code>p:</code>

<p>
Toggle export of planning information
(<code>org-export-with-planning</code>). “Planning information” is the line
containing the <code>SCHEDULED:</code>, the <code>DEADLINE:</code> or the <code>CLOSED:</code>
cookies or a combination of them.
</p>
</li>

<li><code>pri:</code>

<p>
Toggle inclusion of priority cookies
(<code>org-export-with-priority</code>).
</p>
</li>

<li><code>prop:</code>

<p>
Toggle inclusion of property drawers, or list properties to
include (<code>org-export-with-properties</code>).
</p>
</li>

<li><code>stat:</code>

<p>
Toggle inclusion of statistics cookies
(<code>org-export-with-statistics-cookies</code>).
</p>
</li>

<li><code>tags:</code>

<p>
Toggle inclusion of tags, may also be <code>not-in-toc</code>
(<code>org-export-with-tags</code>).
</p>
</li>

<li><code>tasks:</code>

<p>
Toggle inclusion of tasks (TODO items), can be <code>nil</code> to remove
all tasks, <code>todo</code> to remove DONE tasks, or a list of keywords to
keep (<code>org-export-with-tasks</code>).
</p>
</li>

<li><code>tex:</code>

<p>
Configure export of LaTeX fragments and environments. It may be
set to <code>verbatim</code> (<code>org-export-with-latex</code>).
</p>
</li>

<li><code>timestamp:</code>

<p>
Toggle inclusion of the creation time into exported file
(<code>org-export-time-stamp-file</code>).
</p>
</li>

<li><code>title:</code>

<p>
Toggle inclusion of title (<code>org-export-with-title</code>).
</p>
</li>

<li><code>toc:</code>

<p>
Toggle inclusion of the table of contents, or set the level
limit (<code>org-export-with-toc</code>).
</p>
</li>

<li><code>todo:</code>

<p>
Toggle inclusion of TODO keywords into exported text
(<code>org-export-with-todo-keywords</code>).
</p>
</li>

<li><code>|:</code>

<p>
Toggle inclusion of tables (<code>org-export-with-tables</code>).
</p>
</li>
</ul>

<p>
When exporting only a subtree, each of the previous
keywords<sup><a id="fnr.125" name="fnr.125" class="footref" href="#fn.125">125</a></sup> can be overridden locally by special node
properties. These begin with <code>EXPORT_</code>, followed by the name of the
keyword they supplant. For example, <code>DATE</code> and <code>OPTIONS</code> keywords
become, respectively, <code>EXPORT_DATE</code> and <code>EXPORT_OPTIONS</code>
properties.
</p>

<p>
If <code>org-export-allow-bind-keywords</code> is non- <code>nil</code>, Emacs variables
can become buffer-local during export by using the BIND
keyword. Its syntax is ‘#+BIND: variable value'. This is
particularly useful for in-buffer settings that cannot be changed
using specific keywords.
</p>

<p>
The name of the output file to be generated is taken from the file
associated to the buffer, when possible, or asked to you
otherwise. For subtree export, you can also set <code>EXPORT_FILE_NAME</code>
property. In all cases, only the base name of the file is retained,
and a back-end specific extension is added.
</p>
</div>
</div>

<div id="outline-container-sec-12-4" class="outline-3">
<h3 id="sec-12-4">12.4 ASCII/Latin-1/UTF-8 export                                    <a id="ASCII_Latin_1_UTF_8-export" name="ASCII_Latin_1_UTF_8-export"></a></h3>
<div class="outline-text-3" id="text-12-4">
<p>
ASCII export produces a simple and very readable version of an Org
mode file, containing only plain ASCII. Latin-1 and UTF-8 export
augment the file with special characters and symbols available in
these encodings.
</p>

<p>
Upon exporting, text is filled and justified, when appropriate,
according the text width set in <code>org-ascii-text-width</code>.
</p>

<p>
Links are exported in a footnote-like style, with the descriptive
part in the text and the link in a note before the next
heading. See the variable <code>org-ascii-links-to-notes</code> for details
and other options.
</p>
</div>

<div id="outline-container-sec-12-4-1" class="outline-4">
<h4 id="sec-12-4-1">ASCII export commands</h4>
<div class="outline-text-4" id="text-12-4-1">
<ul class="org-ul">
<li><b><i>C-c C-e t a/l/u</i></b> (<code>org-ascii-export-to-ascii</code>)

<p>
Export as an ASCII file. For an Org file, myfile.org, the ASCII
file will be myfile.txt. The file will be overwritten without
warning. When the original file is myfile.txt, the resulting
file becomes myfile.txt.txt in order to prevent data loss.
</p>
</li>

<li><b><i>C-c C-e t A/L/U</i></b> (<code>org-ascii-export-as-ascii</code>)

<p>
Export to a temporary buffer. Do not create a file.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-4-2" class="outline-4">
<h4 id="sec-12-4-2">ASCII specific export settings</h4>
<div class="outline-text-4" id="text-12-4-2">
<p>
ASCII export introduces a single of keywords, similar to the
general options settings described in <a href="#Export-settings">Export settings</a>.
</p>

<ul class="org-ul">
<li>‘SUBTITLE'

<p>
The document subtitle.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-4-3" class="outline-4">
<h4 id="sec-12-4-3">Header and sectioning structure</h4>
<div class="outline-text-4" id="text-12-4-3">
<p>
In the exported version, the first three outline levels become
headlines, defining a general document structure. Additional
levels are exported as lists. The transition can also occur at a
different level (see <a href="#Export-settings">Export settings</a>).
</p>
</div>
</div>

<div id="outline-container-sec-12-4-4" class="outline-4">
<h4 id="sec-12-4-4">Quoting ASCII text</h4>
<div class="outline-text-4" id="text-12-4-4">
<p>
You can insert text that will only appear when using <code>ASCII</code>
back-end with the following constructs:
</p>

<pre class="example">
Text @@ascii:and additional text@@ within a paragraph.

#+ASCII: Some text

#+BEGIN_ASCII
All lines in this block will appear only when using this back-end.
#+END_ASCII
</pre>
</div>
</div>

<div id="outline-container-sec-12-4-5" class="outline-4">
<h4 id="sec-12-4-5">ASCII specific attributes</h4>
<div class="outline-text-4" id="text-12-4-5">
<p>
<code>ASCII</code> back-end only understands one attribute, <code>:width</code>, which
specifies the length, in characters, of a given horizontal
rule. It must be specified using an <code>ATTR_ASCII</code> line, directly
preceding the rule.
</p>

<pre class="example">
#+ATTR_ASCII: :width 10
-----
</pre>
</div>
</div>

<div id="outline-container-sec-12-4-6" class="outline-4">
<h4 id="sec-12-4-6">ASCII special blocks</h4>
<div class="outline-text-4" id="text-12-4-6">
<p>
In addition to <code>#+BEGIN_CENTER</code> blocks (see <a href="#Paragraphs">Paragraphs</a>), it is
possible to justify contents to the left or the right of the page
with the following dedicated blocks.
</p>

<pre class="example">
#+BEGIN_JUSTIFYLEFT
It's just a jump to the left...
#+END_JUSTIFYLEFT

#+BEGIN_JUSTIFYRIGHT
...and then a step to the right.
#+END_JUSTIFYRIGHT
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-12-5" class="outline-3">
<h3 id="sec-12-5">12.5 Beamer export                                                 <a id="Beamer-export" name="Beamer-export"></a></h3>
<div class="outline-text-3" id="text-12-5">
<p>
The LaTeX class <i>Beamer</i> allows production of high quality
presentations using LaTeX and pdf processing. Org mode has special
support for turning an Org mode file or tree into a Beamer
presentation.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Beamer-export-commands">Beamer export commands</a>:</td>
<td class="left">How to export Beamer documents.</td>
</tr>

<tr>
<td class="left">• <a href="#Beamer-specific-export-settings">Beamer specific export settings</a>:</td>
<td class="left">Export settings for Beamer export.</td>
</tr>

<tr>
<td class="left">• <a href="#Sectioning-Frames-and-Blocks-in-Beamer">Sectioning Frames and Blocks in Beamer</a>:</td>
<td class="left">Blocks and sections in Beamer.</td>
</tr>

<tr>
<td class="left">• <a href="#Beamer-specific-syntax">Beamer specific syntax</a>:</td>
<td class="left">Syntax specific to Beamer.</td>
</tr>

<tr>
<td class="left">• <a href="#Editing-support">Editing support</a>:</td>
<td class="left">Helper functions for Org Beamer export.</td>
</tr>

<tr>
<td class="left">• <a href="#A-Beamer-Example">A Beamer Example</a>:</td>
<td class="left">An complete Beamer example.</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-5-1" class="outline-4">
<h4 id="sec-12-5-1">12.5.1 Beamer export commands                                     <a id="Beamer-export-commands" name="Beamer-export-commands"></a></h4>
<div class="outline-text-4" id="text-12-5-1">
<ul class="org-ul">
<li><b><i>C-c C-e l b</i></b> (<code>org-beamer-export-to-latex</code>)

<p>
Export as a LaTeX file. For an Org file myfile.org, the LaTeX
file will be myfile.tex. The file will be overwritten without
warning.
</p>
</li>

<li><b><i>C-c C-e l B</i></b> (<code>org-beamer-export-as-latex</code>)

<p>
Export to a temporary buffer. Do not create a file.
</p>
</li>

<li><b><i>C-c C-e l P</i></b> (<code>org-beamer-export-to-pdf</code>)

<p>
Export as LaTeX and then process to PDF.
</p>
</li>

<li><b><i>C-c C-e l O</i></b>

<p>
Export as LaTeX and then process to PDF, then open the
resulting PDF file.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-5-2" class="outline-4">
<h4 id="sec-12-5-2">12.5.2 Beamer specific export settings                            <a id="Beamer-specific-export-settings" name="Beamer-specific-export-settings"></a></h4>
<div class="outline-text-4" id="text-12-5-2">
<p>
Beamer export introduces a number of keywords, similar to the
general options settings described in <a href="#Export-settings">Export settings</a>.
</p>

<ul class="org-ul">
<li><code>BEAMER\_THEME</code>

<p>
The Beamer theme (<code>org-beamer-theme</code>). Options can be specified
via brackets, for example:
</p>

<pre class="example">
#+BEAMER_THEME: Rochester [height=20pt]
</pre>
</li>

<li><code>BEAMER_FONT_THEME</code>

<p>
The Beamer font theme.
</p>
</li>

<li><code>BEAMER_INNER_THEME</code>

<p>
The Beamer inner theme.
</p>
</li>

<li><code>BEAMER_OUTER_THEME</code>

<p>
The Beamer outer theme.
</p>
</li>

<li><code>BEAMER_HEADER</code>

<p>
Arbitrary lines inserted into the preamble, just before the
‘hyperref' settings.
</p>
</li>

<li><code>DESCRIPTION</code>

<p>
The document description. By default these are inserted as
metadata using ‘hyperref'. Document metadata can be configured
via <code>org-latex-hyperref-template</code>. Description can also be
typeset as part of the front matter via
<code>org-latex-title-command</code>.  You can use several <code>#+DESCRIPTION</code>
keywords if the description is is long.
</p>
</li>

<li><code>KEYWORDS</code>

<p>
The keywords defining the contents of the document. By default
these are inserted as metadata using ‘hyperref'. Document
metadata can be configured via <code>org-latex-hyperref-template</code>.
Description can also be typeset as part of the front matter via
<code>org-latex-title-command</code>. You can use several <code>#+KEYWORDS</code> if
the description is is long.
</p>
</li>

<li><code>SUBTITLE</code>

<p>
The document subtitle. This is typeset using the format string
<code>org-beamer-subtitle-format</code>. It can also access via
<code>org-latex-hyperref-template</code> or typeset as part of the front
matter via <code>org-latex-title-command</code>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-5-3" class="outline-4">
<h4 id="sec-12-5-3">12.5.3 Sectioning, Frames and Blocks in Beamer                    <a id="Sectioning-Frames-and-Blocks-in-Beamer" name="Sectioning-Frames-and-Blocks-in-Beamer"></a></h4>
<div class="outline-text-4" id="text-12-5-3">
<p>
Any tree with not-too-deep level nesting should in principle be
exportable as a Beamer presentation. Headlines fall into three
categories: sectioning elements, frames and blocks.
</p>

<ul class="org-ul">
<li>Headlines become frames when their level is equal to
<code>org-beamer-frame-level</code> or <code>H</code> value in an <code>OPTIONS</code> line (see
<a href="#Export-settings">Export settings</a>).

<p>
Though, if a headline in the current tree has a <code>BEAMER_ENV</code>
property set to either to <code>frame</code> or <code>fullframe</code>, its level
overrides the variable. A <code>fullframe</code> is a frame with an empty
(ignored) title.
</p>
</li>

<li>All frame's children become <code>block</code> environments. Special block
types can be enforced by setting headline's <code>BEAMER_ENV</code>
property<sup><a id="fnr.126" name="fnr.126" class="footref" href="#fn.126">126</a></sup> to an appropriate value (see
<code>org-beamer-environments-default</code> for supported values and
<code>org-beamer-environments-extra</code> for adding more).
</li>

<li>As a special case, if the <code>BEAMER_ENV</code> property is set to
either <code>appendix</code>, <code>note</code>, <code>noteNH</code> or <code>againframe</code>, the
headline will become, respectively, an appendix, a note (within
frame or between frame, depending on its level), a note with
its title ignored or an <code>\againframe</code> command. In the latter
case, a <code>BEAMER_REF</code> property is mandatory in order to refer to
the frame being resumed, and contents are ignored.

<p>
Also, a headline with an <code>ignoreheading</code> environment will have
its contents only inserted in the output. This special value is
useful to have data between frames, or to properly close a
<code>column</code> environment.
</p>
</li>
</ul>

<p>
Headlines also support <code>BEAMER_ACT</code> and <code>BEAMER_OPT</code>
properties. The former is translated as an overlay/action
specification, or a default overlay specification when enclosed
within square brackets. The latter specifies options<sup><a id="fnr.127" name="fnr.127" class="footref" href="#fn.127">127</a></sup>
for the current frame or block.  The export back-end will
automatically wrap properties within angular or square brackets
when appropriate.
</p>

<p>
Moreover, headlines handle the <code>BEAMER_COL</code> property. Its value
should be a decimal number representing the width of the column as
a fraction of the total text width. If the headline has no
specific environment, its title will be ignored and its contents
will fill the column created.  Otherwise, the block will fill the
whole column and the title will be preserved. Two contiguous
headlines with a non-=nil= <code>BEAMER_COL</code> value share the same
<code>columns</code> LaTeX environment. It will end before the next headline
without such a property. This environment is generated
automatically. Although, it can also be explicitly created, with a
special <code>columns</code> value for <code>BEAMER_ENV</code> property (if it needs to
be set up with some specific options, for example).
</p>
</div>
</div>

<div id="outline-container-sec-12-5-4" class="outline-4">
<h4 id="sec-12-5-4">12.5.4 Beamer specific syntax                                     <a id="Beamer-specific-syntax" name="Beamer-specific-syntax"></a></h4>
<div class="outline-text-4" id="text-12-5-4">
<p>
The Beamer back-end is an extension of the LaTeX back-end. As
such, all LaTeX specific syntax (e.g., ‘#+LATEX:' or
‘#+ATTR\<sub>LATEX</sub>:') is recognized. See <a href="#LaTeX-and-PDF-export">LaTeX and PDF export</a> for more
information.
</p>

<p>
Table of contents generated from <code>toc:t</code> <code>OPTION</code> keyword are
wrapped within a <code>frame</code> environment. Those generated from a <code>TOC</code>
keyword (see <a href="#Table-of-contents">Table of contents</a>) are not. In that case, it is also
possible to specify options, enclosed within square brackets.
</p>

<pre class="example">
#+TOC: headlines [currentsection]
</pre>

<p>
Beamer specific code can be inserted with the following
constructs:
</p>

<pre class="example">
#+BEAMER: \pause

#+BEGIN_BEAMER
All lines in this block will appear only when using this back-end.
#+END_BEAMER

Text @@beamer:some code@@ within a paragraph.
</pre>

<p>
In particular, this last example can be used to add overlay
specifications to objects whose type is among <code>bold</code>, <code>item</code>,
<code>link</code>, <code>radio-target</code> and <code>target</code>, when the value is enclosed
within angular brackets and put at the beginning the object.
</p>

<pre class="example">
A *@@beamer:&lt;2-&gt;@@useful* feature
</pre>

<p>
Eventually, every plain list has support for <code>:environment</code>,
<code>:overlay</code> and <code>:options</code> attributes through <code>ATTR_BEAMER</code>
affiliated keyword. The first one allows the use of a different
environment, the second sets overlay specifications and the last
one inserts optional arguments in current list environment.
</p>

<pre class="example">
#+ATTR_BEAMER: :overlay +-
- item 1
- item 2
</pre>
</div>
</div>

<div id="outline-container-sec-12-5-5" class="outline-4">
<h4 id="sec-12-5-5">12.5.5 Editing support                                            <a id="Editing-support" name="Editing-support"></a></h4>
<div class="outline-text-4" id="text-12-5-5">
<p>
You can turn on a special minor mode <code>org-beamer-mode</code> for faster
editing with:
</p>

<pre class="example">
#+STARTUP: beamer
</pre>

<ul class="org-ul">
<li><b><i>C-c C-b</i></b> (<code>org-beamer-select-environment</code>)

<p>
In <code>org-beamer-mode</code>, this key offers fast selection of a
Beamer environment or the <code>BEAMER_COL</code> property.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-5-6" class="outline-4">
<h4 id="sec-12-5-6">12.5.6 A Beamer example                                           <a id="A-Beamer-Example" name="A-Beamer-Example"></a></h4>
<div class="outline-text-4" id="text-12-5-6">
<p>
Here is a simple example Org document that is intended for Beamer
export.
</p>

<pre class="example">
#+TITLE: Example Presentation
#+AUTHOR: Carsten Dominik
#+OPTIONS: H:2 toc:t num:t
#+LATEX_CLASS: beamer
#+LATEX_CLASS_OPTIONS: [presentation]
#+BEAMER_THEME: Madrid
#+COLUMNS: %45ITEM %10BEAMER_ENV(Env) %10BEAMER_ACT(Act) %4BEAMER_COL(Col) %8BEAMER_OPT(Opt)

* This is the first structural section

** Frame 1
*** Thanks to Eric Fraga                                           :B_block:
    :PROPERTIES:
    :BEAMER_COL: 0.48
    :BEAMER_ENV: block
    :END:
    for the first viable Beamer setup in Org
*** Thanks to everyone else                                        :B_block:
    :PROPERTIES:
    :BEAMER_COL: 0.48
    :BEAMER_ACT: &lt;2-&gt;
    :BEAMER_ENV: block
    :END:
    for contributing to the discussion
**** This will be formatted as a beamer note                       :B_note:
     :PROPERTIES:
     :BEAMER_env: note
     :END:
** Frame 2 (where we will not use columns)
*** Request
    Please test this stuff!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-12-6" class="outline-3">
<h3 id="sec-12-6">12.6 HTML export                                                   <a id="HTML-export" name="HTML-export"></a></h3>
<div class="outline-text-3" id="text-12-6">
<p>
Org mode contains an HTML (XHTML 1.0 strict) exporter with
extensive HTML formatting, in ways similar to John Gruber's
<i>markdown</i> language, but with additional support for tables.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#HTML-Export-commands">HTML Export commands</a>:</td>
<td class="left">How to invoke HTML export</td>
</tr>

<tr>
<td class="left">• <a href="#HTML-Specific-export-settings">HTML Specific export settings</a>:</td>
<td class="left">Export settings for HTML export.</td>
</tr>

<tr>
<td class="left">• <a href="#HTML-doctypes">HTML doctypes</a>:</td>
<td class="left">Org can export to various (X)HTML flavors</td>
</tr>

<tr>
<td class="left">• <a href="#HTML-preamble-and-postamble">HTML preamble and postamble</a>:</td>
<td class="left">How to insert a preamble and a postamble</td>
</tr>

<tr>
<td class="left">• <a href="#Quoting-HTML-tags">Quoting HTML tags</a>:</td>
<td class="left">Using direct HTML in Org mode</td>
</tr>

<tr>
<td class="left">• <a href="#Links-in-HTML-export">Links in HTML export</a>:</td>
<td class="left">How links will be interpreted and formatted</td>
</tr>

<tr>
<td class="left">• <a href="#Tables-in-HTML-export">Tables in HTML export</a>:</td>
<td class="left">How to modify the formatting of tables</td>
</tr>

<tr>
<td class="left">• <a href="#Images-in-HTML-export">Images in HTML export</a>:</td>
<td class="left">How to insert figures into HTML output</td>
</tr>

<tr>
<td class="left">• <a href="#Math-formatting-in-HTML-export">Math formatting in HTML export</a>:</td>
<td class="left">Beautiful math also on the web</td>
</tr>

<tr>
<td class="left">• <a href="#Text-areas-in-HTML-export">Text areas in HTML export</a>:</td>
<td class="left">An alternative way to show an example</td>
</tr>

<tr>
<td class="left">• <a href="#CSS-support">CSS support</a>:</td>
<td class="left">Changing the appearance of the output</td>
</tr>

<tr>
<td class="left">• <a href="#JavaScript-support">JavaScript support</a>:</td>
<td class="left">Info and Folding in a web browser</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-6-1" class="outline-4">
<h4 id="sec-12-6-1">12.6.1 HTML export commands                                       <a id="HTML-Export-commands" name="HTML-Export-commands"></a></h4>
<div class="outline-text-4" id="text-12-6-1">
<ul class="org-ul">
<li><b><i>C-c C-e h h</i></b> (<code>org-html-export-to-html</code>)

<p>
Export as an HTML file. For an Org file myfile.org, the HTML
file will be myfile.html. The file will be overwritten without
warning. <b><i>C-c C-e h o</i></b> Export as an HTML file and immediately
open it with a browser.
</p>
</li>

<li><b><i>C-c C-e h H</i></b> (<code>org-html-export-as-html</code>)

<p>
Export to a temporary buffer. Do not create a file.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-6-2" class="outline-4">
<h4 id="sec-12-6-2">12.6.2 HTML Specific export settings                              <a id="HTML-Specific-export-settings" name="HTML-Specific-export-settings"></a></h4>
<div class="outline-text-4" id="text-12-6-2">
<p>
HTML export introduces a number of keywords, similar to the
general options settings described in <a href="#Export-settings">Export settings</a>.
</p>

<ul class="org-ul">
<li><code>DESCRIPTION</code>

<p>
The document description. This description is inserted as a
HTML meta tag. You can use several such keywords if the list is
long.
</p>
</li>

<li><code>HTML_DOCTYPE</code>

<p>
The document type, e.g. HTML5, (<code>org-html-doctype</code>).
</p>
</li>

<li><code>HTML_CONTAINER</code>

<p>
The container, e.g. ‘div', used to wrap sections and elements
(<code>org-html-container-element</code>).
</p>
</li>

<li><code>HTML_LINK_HOME</code>

<p>
The home link URL (<code>org-html-link-home</code>).
</p>
</li>

<li><code>HTML_LINK_UP</code>

<p>
The up link URL (<code>org-html-link-up</code>).
</p>
</li>

<li><code>HTML_MATHJAX</code>

<p>
Options for the MathJax (<code>org-html-mathjax-options</code>). MathJax
is used to typeset LaTeX math in HTML documents. <a href="#Math-formatting-in-HTML-export">Math
formatting in HTML export</a> contains an example.
</p>
</li>

<li><code>HTML_HEAD</code>

<p>
Arbitrary lines appended to the end of the head of the document
(<code>org-html-head</code>).
</p>
</li>

<li><code>HTML_HEAD_EXTRA</code>

<p>
Arbitrary lines appended to the end of the header of the
document (<code>org-html-head-extra</code>).
</p>
</li>

<li><code>KEYWORDS</code>

<p>
The keywords defining the contents of the document.  This
description is inserted as a HTML meta tag. You can use several
such keywords if the list is long.
</p>
</li>

<li><code>LATEX_HEADER</code>

<p>
Arbitrary lines appended to the preamble used when transcoding
LaTeX fragments to images. See <a href="#Math-formatting-in-HTML-export">Math formatting in HTML export</a>
for details.
</p>
</li>

<li><code>SUBTITLE</code>

<p>
The document subtitle. The formatting depends on whether HTML5
in used and on the ‘subtitle' CSS class.
</p>
</li>
</ul>

<p>
These keywords are treated in details in the following sections.
</p>
</div>
</div>

<div id="outline-container-sec-12-6-3" class="outline-4">
<h4 id="sec-12-6-3">12.6.3 HTML doctypes                                              <a id="HTML-doctypes" name="HTML-doctypes"></a></h4>
<div class="outline-text-4" id="text-12-6-3">
<p>
Org can export to various (X)HTML flavors.
</p>

<p>
Setting the variable <code>org-html-doctype</code> allows you to export to
different (X)HTML variants. The exported HTML will be adjusted
according to the syntax requirements of that variant. You can
either set this variable to a doctype string directly, in which
case the exporter will try to adjust the syntax automatically, or
you can use a ready-made doctype. The ready-made options are:
</p>

<ul class="org-ul">
<li>“html4-strict”
</li>
<li>“html4-transitional”
</li>
<li>“html4-frameset”
</li>
<li>“xhtml-strict”
</li>
<li>“xhtml-transitional”
</li>
<li>“xhtml-frameset”
</li>
<li>“xhtml-11”
</li>
<li>“html5”
</li>
<li>“xhtml5”
</li>
</ul>

<p>
See the variable <code>org-html-doctype-alist</code> for details. The default
is “xhtml-strict”.
</p>
</div>

<div id="outline-container-sec-12-6-3-1" class="outline-5">
<h5 id="sec-12-6-3-1">Fancy HTML5 export</h5>
<div class="outline-text-5" id="text-12-6-3-1">
<p>
HTML5 introduces several new element types. By default, Org will
not make use of these element types, but you can set
<code>org-html-html5-fancy</code> to <code>t</code> (or set <code>html5-fancy</code> item in an
<code>OPTIONS</code> line), to enable a few new block-level elements. These
are created using arbitrary <code>#+BEGIN</code> and <code>#+END</code> blocks. For
instance:
</p>

<pre class="example">
#+BEGIN_ASIDE
Lorem ipsum
#+END_ASIDE
</pre>

<p>
Will export to:
</p>

<pre class="example">
&lt;aside&gt;
  &lt;p&gt;Lorem ipsum&lt;/p&gt;
&lt;/aside&gt;
</pre>

<p>
While this:
</p>

<pre class="example">
#+ATTR_HTML: :controls controls :width 350
#+BEGIN_VIDEO
#+HTML: &lt;source src="movie.mp4" type="video/mp4"&gt;
#+HTML: &lt;source src="movie.ogg" type="video/ogg"&gt;
Your browser does not support the video tag.
#+END_VIDEO
</pre>

<p>
Becomes:
</p>

<pre class="example">
&lt;video controls="controls" width="350"&gt;
  &lt;source src="movie.mp4" type="video/mp4"&gt;
  &lt;source src="movie.ogg" type="video/ogg"&gt;
  &lt;p&gt;Your browser does not support the video tag.&lt;/p&gt;
&lt;/video&gt;
</pre>

<p>
Special blocks that do not correspond to HTML5 elements (see
<code>org-html-html5-elements</code>) will revert to the usual behavior,
i.e., <code>#+BEGIN_lederhosen</code> will still export to ‘&lt;div
class="lederhosen"&gt;'.
</p>

<p>
Headlines cannot appear within special blocks. To wrap a headline
and its contents in e.g., ‘&lt;section&gt;' or ‘&lt;article&gt;' tags, set
the <code>HTML_CONTAINER</code> property on the headline itself.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12-6-4" class="outline-4">
<h4 id="sec-12-6-4">12.6.4 HTML preamble and postamble                                <a id="HTML-preamble-and-postamble" name="HTML-preamble-and-postamble"></a></h4>
<div class="outline-text-4" id="text-12-6-4">
<p>
The HTML exporter lets you define a preamble and a postamble.
</p>

<p>
The default value for <code>org-html-preamble</code> is <code>t</code>, which means that
the preamble is inserted depending on the relevant format string
in <code>org-html-preamble-format</code>.
</p>

<p>
Setting <code>org-html-preamble</code> to a string will override the default
format string. If you set it to a function, it will insert the
output of the function, which must be a string. Setting to <code>nil</code>
will not insert any preamble.
</p>

<p>
The default value for <code>org-html-postamble</code> is ='auto=, which means
that the HTML exporter will look for information about the author,
the email, the creator and the date, and build the postamble from
these values.  Setting <code>org-html-postamble</code> to <code>t</code> will insert the
postamble from the relevant format string found in
<code>org-html-postamble-format</code>. Setting it to <code>nil</code> will not insert
any postamble.
</p>
</div>
</div>

<div id="outline-container-sec-12-6-5" class="outline-4">
<h4 id="sec-12-6-5">12.6.5 Quoting HTML tags                                          <a id="Quoting-HTML-tags" name="Quoting-HTML-tags"></a></h4>
<div class="outline-text-4" id="text-12-6-5">
<p>
Plain ‘&lt;' and ‘&gt;' are always transformed to ‘&amp;lt;' and ‘&amp;gt;' in
HTML export. If you want to include raw HTML code, which should
only appear in HTML export, mark it with ‘' as in
    ‘html:&lt;b&gt;@@bold text</b>'. For more extensive HTML that
should be copied verbatim to the exported file use either
</p>

<pre class="example">
#+HTML: Literal HTML code for export
</pre>

<p>
or
</p>

<pre class="example">
#+BEGIN_HTML
All lines between these markers are exported literally
#+END_HTML
</pre>
</div>
</div>

<div id="outline-container-sec-12-6-6" class="outline-4">
<h4 id="sec-12-6-6">12.6.6 Links in HTML export                                       <a id="Links-in-HTML-export" name="Links-in-HTML-export"></a></h4>
<div class="outline-text-4" id="text-12-6-6">
<p>
Internal links (see <a href="#Internal-links">Internal links</a>) will continue to work in
HTML. This includes automatic links created by radio targets (see
<a href="#Radio-targets">Radio targets</a>). Links to external files will still work if the
target file is on the same <i>relative</i> path as the published Org
file. Links to other .org files will be translated into HTML links
under the assumption that an HTML version also exists of the
linked file, at the same relative path; setting
<code>org-html-link-org-files-as-html</code> to <code>nil</code> disables this
translation.  ‘id:' links can then be used to jump to specific
entries across files.  For information related to linking files
while publishing them to a publishing directory see <a href="#Publishing-links">Publishing
links</a>.
</p>

<p>
If you want to specify attributes for links, you can do so using a
special <code>#+ATTR_HTML</code> line to define attributes that will be added
to the <code>&lt;a&gt;</code> or <code>&lt;img&gt;</code> tags. Here is an example that sets <code>title</code>
and <code>style</code> attributes for a link:
</p>

<pre class="example">
#+ATTR_HTML: :title The Org mode homepage :style color:red;
[[http://orgmode.org]]
</pre>
</div>
</div>

<div id="outline-container-sec-12-6-7" class="outline-4">
<h4 id="sec-12-6-7">12.6.7 Tables in HTML export                                      <a id="Tables-in-HTML-export" name="Tables-in-HTML-export"></a></h4>
<div class="outline-text-4" id="text-12-6-7">
<p>
Org mode tables are exported to HTML using the table attributes
defined in <code>org-html-table-default-attributes</code>. The default
setting makes tables without cell borders and frame. If you would
like to change this for individual tables, place something like
the following before the table:
</p>

<pre class="example">
#+CAPTION: This is a table with lines around and between cells
#+ATTR_HTML: :border 2 :rules all :frame border
</pre>

<p>
You can also group columns in the HTML output (see <a href="#Column-groups">Column groups</a>).
</p>

<p>
Below is a list of options for customizing tables HTML export.
</p>

<ul class="org-ul">
<li><code>org-html-table-align-individual-fields</code>

<p>
Non- <code>nil</code> means attach style attributes for alignment to each
table field.
</p>
</li>

<li><code>org-html-table-caption-above</code>

<p>
When non- <code>nil</code>, place caption string at the beginning of the
table.
</p>
</li>

<li><code>org-html-table-data-tags</code>

<p>
The opening and ending tags for table data fields.
</p>
</li>

<li><code>org-html-table-default-attributes</code>

<p>
Default attributes and values which will be used in table tags.
</p>
</li>

<li><code>org-html-table-header-tags</code>

<p>
The opening and ending tags for table header fields.
</p>
</li>

<li><code>org-html-table-row-tags</code>

<p>
The opening and ending tags for table rows.
</p>
</li>

<li><code>org-html-table-use-header-tags-for-first-column</code>

<p>
Non- <code>nil</code> means format column one in tables with header tags.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-6-8" class="outline-4">
<h4 id="sec-12-6-8">12.6.8 Images in HTML export                                      <a id="Images-in-HTML-export" name="Images-in-HTML-export"></a></h4>
<div class="outline-text-4" id="text-12-6-8">
<p>
HTML export can inline images given as links in the Org file, and
it can make an image the clickable part of a link. By
default<sup><a id="fnr.128" name="fnr.128" class="footref" href="#fn.128">128</a></sup>, images are inlined if a link does not have a
description. So <code>[[file:myimg.jpg]]</code> will be inlined, while
</p>

<pre class="example">
[[file:myimg.jpg][the image]]
</pre>

<p>
will just produce a link ‘the image' that points to the image. If
the description part itself is a <code>file:</code> link or a <code>http:</code> URL
pointing to an image, this image will be inlined and activated so
that clicking on the image will activate the link. For example, to
include a thumbnail that will link to a high resolution version of
the image, you could use:
</p>

<pre class="example">
[[file:highres.jpg][file:thumb.jpg]]
</pre>

<p>
If you need to add attributes to an inlined image, use a
<code>#+ATTR_HTML</code>.  In the example below we specify the <code>alt</code> and
<code>title</code> attributes to support text viewers and accessibility, and
align it to the right.
</p>

<pre class="example">
#+CAPTION: A black cat stalking a spider
#+ATTR_HTML: :alt cat/spider image :title Action! :align right
[[./img/a.jpg]]
</pre>

<p>
You could use <code>http</code> addresses just as well.
</p>
</div>
</div>

<div id="outline-container-sec-12-6-9" class="outline-4">
<h4 id="sec-12-6-9">12.6.9 Math formatting in HTML export                             <a id="Math-formatting-in-HTML-export" name="Math-formatting-in-HTML-export"></a></h4>
<div class="outline-text-4" id="text-12-6-9">
<p>
LaTeX math snippets (see <a href="#LaTeX-fragments">LaTeX fragments</a>) can be displayed in two
different ways on HTML pages. The default is to use <a href="http://www.mathjax.org">MathJax</a> which
should work out of the box with Org<sup><a id="fnr.129" name="fnr.129" class="footref" href="#fn.129">129</a></sup>. Some MathJax
display options can be configured via <code>org-html-mathjax-options</code>,
or in the buffer. For example, with the following settings,
</p>

<pre class="example">
#+HTML_MATHJAX: align: left indent: 5em tagside: left font: Neo-Euler
</pre>

<p>
equation labels will be displayed on the left marign and equations
will be five ems from the left margin.
</p>

<p>
See the docstring of <code>org-html-mathjax-options</code> for all supported
variables. The MathJax template can be configure via
<code>org-html-mathjax-template</code>.
</p>

<p>
If you prefer, you can also request that LaTeX fragments are
processed into small images that will be inserted into the browser
page. Before the availability of MathJax, this was the default
method for Org files.  This method requires that the dvipng
program or imagemagick suite is available on your system. You can
still get this processing with
</p>

<pre class="example">
#+OPTIONS: tex:dvipng
</pre>

<p>
or:
</p>

<pre class="example">
#+OPTIONS: tex:imagemagick
</pre>
</div>
</div>

<div id="outline-container-sec-12-6-10" class="outline-4">
<h4 id="sec-12-6-10">12.6.10 Text areas in HTML export                                 <a id="Text-areas-in-HTML-export" name="Text-areas-in-HTML-export"></a></h4>
<div class="outline-text-4" id="text-12-6-10">
<p>
An alternative way to publish literal code examples in HTML is to
use text areas, where the example can even be edited before
pasting it into an application. It is triggered by <code>:textarea</code>
attribute at an <code>example</code> or <code>src</code> block.
</p>

<p>
You may also use <code>:height</code> and <code>:width</code> attributes to specify the
height and width of the text area, which default to the number of
lines in the example, and 80, respectively. For example
</p>

<pre class="example">
 #+ATTR_HTML: :textarea t :width 40
\#+BEGIN_EXAMPLE
   (defun org-xor (a b)
      "Exclusive or."
      (if a (not b) b))
\#+END_EXAMPLE
</pre>
</div>
</div>

<div id="outline-container-sec-12-6-11" class="outline-4">
<h4 id="sec-12-6-11">12.6.11 CSS support                                               <a id="CSS-support" name="CSS-support"></a></h4>
<div class="outline-text-4" id="text-12-6-11">
<p>
You can modify the CSS style definitions for the exported
file. The HTML exporter assigns the following special CSS
classes<sup><a id="fnr.130" name="fnr.130" class="footref" href="#fn.130">130</a></sup> to appropriate parts of the document &#x2013; your
style specifications may change these, in addition to any of the
standard classes like for headlines, tables, etc.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">p.author</td>
<td class="left">author information, including email</td>
</tr>

<tr>
<td class="left">p.date</td>
<td class="left">publishing date</td>
</tr>

<tr>
<td class="left">p.creator</td>
<td class="left">creator info, about org mode version</td>
</tr>

<tr>
<td class="left">.title</td>
<td class="left">document title</td>
</tr>

<tr>
<td class="left">.subtitle</td>
<td class="left">document subtitle</td>
</tr>

<tr>
<td class="left">.todo</td>
<td class="left">TODO keywords, all not-done states</td>
</tr>

<tr>
<td class="left">.done</td>
<td class="left">the DONE keywords, all states that count as done</td>
</tr>

<tr>
<td class="left">.WAITING</td>
<td class="left">each TODO keyword also uses a class named after itself</td>
</tr>

<tr>
<td class="left">.timestamp</td>
<td class="left">timestamp</td>
</tr>

<tr>
<td class="left">.timestamp-kwd</td>
<td class="left">keyword associated with a timestamp, like SCHEDULED</td>
</tr>

<tr>
<td class="left">.timestamp-wrapper</td>
<td class="left">span around keyword plus timestamp</td>
</tr>

<tr>
<td class="left">.tag</td>
<td class="left">tag in a headline</td>
</tr>

<tr>
<td class="left">.<sub>HOME</sub></td>
<td class="left">each tag uses itself as a class, "@" replaced by "_"</td>
</tr>

<tr>
<td class="left">.target</td>
<td class="left">target for links</td>
</tr>

<tr>
<td class="left">.linenr</td>
<td class="left">the line number in a code example</td>
</tr>

<tr>
<td class="left">.code-highlighted</td>
<td class="left">for highlighting referenced code lines</td>
</tr>

<tr>
<td class="left">div.outline-N</td>
<td class="left">div for outline level N (headline plus text))</td>
</tr>

<tr>
<td class="left">div.outline-text-N</td>
<td class="left">extra div for text at outline level N</td>
</tr>

<tr>
<td class="left">.section-number-N</td>
<td class="left">section number in headlines, different for each level</td>
</tr>

<tr>
<td class="left">.figure-number</td>
<td class="left">label like "Figure 1:"</td>
</tr>

<tr>
<td class="left">.table-number</td>
<td class="left">label like "Table 1:"</td>
</tr>

<tr>
<td class="left">.listing-number</td>
<td class="left">label like "Listing 1:"</td>
</tr>

<tr>
<td class="left">div.figure</td>
<td class="left">how to format an inlined image</td>
</tr>

<tr>
<td class="left">pre.src</td>
<td class="left">formatted source code</td>
</tr>

<tr>
<td class="left">pre.example</td>
<td class="left">normal example</td>
</tr>

<tr>
<td class="left">p.verse</td>
<td class="left">verse paragraph</td>
</tr>

<tr>
<td class="left">div.footnotes</td>
<td class="left">footnote section headline</td>
</tr>

<tr>
<td class="left">p.footnote</td>
<td class="left">footnote definition paragraph, containing a footnote</td>
</tr>

<tr>
<td class="left">.footref</td>
<td class="left">a footnote reference number (always a &lt;sup&gt;)</td>
</tr>

<tr>
<td class="left">.footnum</td>
<td class="left">footnote number in footnote definition (always &lt;sup&gt;)</td>
</tr>
</tbody>
</table>

<p>
Each exported file contains a compact default style that defines
these classes in a basic way<sup><a id="fnr.131" name="fnr.131" class="footref" href="#fn.131">131</a></sup>. You may overwrite these
settings, or add to them by using the variables <code>org-html-head</code>
and <code>org-html-head-extra</code>. You can override the global values of
these variables for each file by using these keywords:
</p>

<pre class="example">
#+HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="style1.css" /&gt;
#+HTML_HEAD_EXTRA: &lt;link rel="alternate stylesheet" type="text/css" href="style2.css" /&gt;
</pre>

<p>
For longer style definitions, you can use several such lines. You
could also directly write a <code>&lt;style&gt;</code> <code>&lt;/style&gt;</code> section in this
way, without referring to an external file.
</p>

<p>
In order to add styles to a subtree, use the
<code>:HTML_CONTAINER_CLASS:</code> property to assign a class to the
tree. In order to specify CSS styles for a particular headline,
you can use the id specified in a <code>:CUSTOM_ID:</code> property.
</p>
</div>
</div>

<div id="outline-container-sec-12-6-12" class="outline-4">
<h4 id="sec-12-6-12">12.6.12 JavaScript supported display of web pages                 <a id="JavaScript-support" name="JavaScript-support"></a></h4>
<div class="outline-text-4" id="text-12-6-12">
<p>
Sebastian Rose has written a JavaScript program especially
designed to enhance the web viewing experience of HTML files
created with Org. This program allows you to view large files in
two different ways. The first one is an <i>Info</i>-like mode where
each section is displayed separately and navigation can be done
with the n and p keys (and some other keys as well, press ? for an
overview of the available keys). The second view type is a
<i>folding</i> view much like Org provides inside Emacs. The script is
available at <a href="http://orgmode.org/org-info.js">http://orgmode.org/org-info.js</a> and you can find the
documentation for it at <a href="http://orgmode.org/worg/code/org-info-js/">http://orgmode.org/worg/code/org-info-js/</a>.
We host the script at our site, but if you use it a lot, you might
not want to be dependent on <a href="http://orgmode.org">http://orgmode.org</a> and prefer to
install a local copy on your own web server.
</p>

<p>
All it then takes to use this program is adding a single line to
the Org file:
</p>

<pre class="example">
#+INFOJS_OPT: view:info toc:nil
</pre>

<p>
If this line is found, the HTML header will automatically contain
the code needed to invoke the script. Using the line above, you
can set the following viewing options:
</p>


<ul class="org-ul">
<li><code>path:</code>

<p>
The path to the script.  The default is to grab the script from
<a href="http://orgmode.org/org-info.js">http://orgmode.org/org-info.js</a>, but you might want to have a
local copy and use a path like ‘../scripts/org-info.js’.
</p>
</li>

<li><code>view:</code>

<p>
Initial view when the website is first shown.  Possible values
are:
</p>

<ul class="org-ul">
<li>info

<p>
Info-like interface with one section per page.
</p>
</li>

<li>overview

<p>
Folding interface, initially showing only top-level.
</p>
</li>

<li>content

<p>
Folding interface, starting with all headlines visible.
</p>
</li>

<li>showall

<p>
Folding interface, all headlines and text visible.
</p>
</li>
</ul>
</li>

<li><code>sdepth:</code>

<p>
Maximum headline level that will still become an independent
section for info and folding modes.  The default is taken from
org-export-headline-levels (= the H switch in #+OPTIONS).  If
this is smaller than in org-export-headline-levels, each
info/folding section can still contain child headlines.
</p>
</li>

<li><code>toc:</code>

<p>
Should the table of contents initially be visible?  Even when
nil, you can always get to the "toc" with i.
</p>
</li>
<li><code>tdepth:</code>

<p>
The depth of the table of contents.  The defaults are taken
from the variables org-export-headline-levels and
org-export-with-toc.
</p>
</li>

<li><code>ftoc:</code>

<p>
Does the CSS of the page specify a fixed position for the
"toc"?  If yes, the toc will never be displayed as a section.
</p>
</li>

<li><code>ltoc:</code>

<p>
Should there be short contents (children) in each section?
Make this above if the section should be above initial text.
</p>
</li>

<li><code>mouse:</code>

<p>
Headings are highlighted when the mouse is over them.  Should
be ‘underline’ (default) or a background color like ‘#cccccc’.
</p>
</li>

<li><code>buttons:</code>

<p>
Should view-toggle buttons be everywhere?  When nil (the
default), only one such button will be present.
</p>
</li>
</ul>

<p>
You can choose default values for these options by customizing the
variable <code>org-html-infojs-options</code>. If you always want to apply
the script to your pages, configure the variable
<code>org-html-use-infojs</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12-7" class="outline-3">
<h3 id="sec-12-7">12.7 LaTeX and PDF export                                          <a id="LaTeX-and-PDF-export" name="LaTeX-and-PDF-export"></a></h3>
<div class="outline-text-3" id="text-12-7">
<p>
LaTeX export can produce an arbitrarily complex LaTeX document of
any standard or custom document class. With further
processing<sup><a id="fnr.132" name="fnr.132" class="footref" href="#fn.132">132</a></sup>, which the LaTeX exporter is able to
control, this back-end is able to produce PDF output. Because the
LaTeX exporter can be configured to use the <code>hyperref</code> package, the
default setup produces fully-linked PDF output.
</p>

<p>
As in LaTeX, blank lines are meaningful for this back-end: a
paragraph will not be started if two contiguous syntactical
elements are not separated by an empty line.
</p>

<p>
This back-end also offers enhanced support for footnotes. Thus, it
handles nested footnotes, footnotes in tables and footnotes in a
list item's description.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#LaTeX-export-commands">LaTeX export commands</a>:</td>
<td class="left">How to export to LaTeX and PDF</td>
</tr>

<tr>
<td class="left">• <a href="#LaTeX-specific-export-settings">LaTeX specific export settings</a>:</td>
<td class="left">Export settings for LaTeX</td>
</tr>

<tr>
<td class="left">• <a href="#Header-and-sectioning">Header and sectioning</a>:</td>
<td class="left">Setting up the export file structure</td>
</tr>

<tr>
<td class="left">• <a href="#Quoting-LaTeX-code">Quoting LaTeX code</a>:</td>
<td class="left">Incorporating literal LaTeX code</td>
</tr>

<tr>
<td class="left">• <a href="#LaTeX-specific-attributes">LaTeX specific attributes</a>:</td>
<td class="left">Controlling LaTeX output</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-7-1" class="outline-4">
<h4 id="sec-12-7-1">12.7.1 LaTeX export commands                                      <a id="LaTeX-export-commands" name="LaTeX-export-commands"></a></h4>
<div class="outline-text-4" id="text-12-7-1">
<ul class="org-ul">
<li><b><i>C-c C-e l l</i></b> (<code>org-latex-export-to-latex</code>)

<p>
Export as a LaTeX file. For an Org file myfile.org, the LaTeX
file will be myfile.tex. The file will be overwritten without
warning.
</p>
</li>

<li><b><i>C-c C-e l L</i></b> (<code>org-latex-export-as-latex</code>)

<p>
Export to a temporary buffer. Do not create a file.
</p>
</li>

<li><b><i>C-c C-e l p</i></b> (<code>org-latex-export-to-pdf</code>)

<p>
Export as LaTeX and then process to PDF.
</p>
</li>

<li><b><i>C-c C-e l o</i></b>

<p>
Export as LaTeX and then process to PDF, then open the
resulting PDF file.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-7-2" class="outline-4">
<h4 id="sec-12-7-2">12.7.2 LaTeX specific export settings                             <a id="LaTeX-specific-export-settings" name="LaTeX-specific-export-settings"></a></h4>
<div class="outline-text-4" id="text-12-7-2">
<p>
The LaTeX exporter introduces a number of keywords, similar to the
general options settings described in <a href="#Export-settings">Export settings</a>.
</p>

<ul class="org-ul">
<li>‘DESCRIPTION'

<p>
The document description. By default these are inserted as
metadata using ‘hyperref'. Document metadata can be configured
via <code>org-latex-hyperref-template</code>. Description can also be
typeset as part of the front matter via
<code>org-latex-title-command</code>.  You can use several <code>#+DESCRIPTION</code>
keywords if the description is is long.
</p>
</li>

<li>‘LATEX<sub>CLASS'</sub>

<p>
The predefined preamble and headline level mapping to use
(<code>org-latex-default-class</code>). Must be an element in
<code>org-latex-classes</code>.
</p>
</li>

<li>‘LATEX<sub>CLASS</sub><sub>OPTIONS'</sub>

<p>
Options given to the LaTeX document class.
</p>
</li>

<li>‘LATEX<sub>HEADER'</sub>

<p>
Arbitrary lines added to the preamble of the document, before
the ‘hyperref' settings. The location can be controlled via
<code>org-latex-classes</code>.
</p>
</li>

<li>‘LATEX<sub>HEADER</sub><sub>EXTRA'</sub>

<p>
Arbitrary lines added to the preamble of the document, before
the ‘hyperref' settings. The location can be controlled via
<code>org-latex-classes</code>.
</p>
</li>

<li>‘KEYWORDS'

<p>
The keywords defining the contents of the document. By default
these are inserted as metadata using ‘hyperref'. Document
metadata can be configured via <code>org-latex-hyperref-template</code>.
Description can also be typeset as part of the front matter via
<code>org-latex-title-command</code>. You can use several <code>#+KEYWORDS</code> if
the description is is long.
</p>
</li>

<li>‘SUBTITLE'

<p>
The document subtitle. This is typeset according to
<code>org-latex-subtitle-format</code>. If <code>org-latex-subtitle-separate</code>
is non-=nil= it is typed as part of the ‘\title'-macro. It can
also access via <code>org-latex-hyperref-template</code> or typeset as
part of the front matter via <code>org-latex-title-command</code>.
</p>
</li>
</ul>

<p>
These keywords are treated in details in the following sections.
</p>
</div>
</div>

<div id="outline-container-sec-12-7-3" class="outline-4">
<h4 id="sec-12-7-3">12.7.3 Header and sectioning structure                            <a id="Header-and-sectioning" name="Header-and-sectioning"></a></h4>
<div class="outline-text-4" id="text-12-7-3">
<p>
By default, the first three outline levels become headlines,
defining a general document structure. Additional levels are
exported as <code>itemize</code> or <code>enumerate</code> lists. The transition can
also occur at a different level (see <a href="#Export-settings">Export settings</a>).
</p>

<p>
By default, the LaTeX output uses the class <code>article</code>.
</p>

<p>
You can change this globally by setting a different value for
<code>org-latex-default-class</code> or locally by adding an option like
<code>#+LATEX_CLASS: myclass</code> in your file, or with a
<code>EXPORT_LATEX_CLASS</code> property that applies when exporting a region
containing only this (sub)tree. The class must be listed in
<code>org-latex-classes</code>. This variable defines a header template for
each class<sup><a id="fnr.133" name="fnr.133" class="footref" href="#fn.133">133</a></sup>, and allows you to define the sectioning
structure for each class. You can also define your own classes
there.
</p>

<p>
The <code>LATEX_CLASS_OPTIONS</code> keyword or <code>EXPORT_LATEX_CLASS_OPTIONS</code>
property can specify the options for the <code>\documentclass</code>
macro. These options have to be provided, as expected by LaTeX,
within square brackets.
</p>

<p>
You can also use the <code>LATEX_HEADER</code> and
<code>LATEX_HEADER_EXTRA</code> <sup><a id="fnr.134" name="fnr.134" class="footref" href="#fn.134">134</a></sup> keywords in order to add lines
to the header. See the docstring of <code>org-latex-classes</code> for more
information.
</p>

<p>
An example is shown below.
</p>

<pre class="example">
#+LATEX_CLASS: article
#+LATEX_CLASS_OPTIONS: [a4paper]
#+LATEX_HEADER: \usepackage{xyz}

* Headline 1
  some text
</pre>
</div>
</div>

<div id="outline-container-sec-12-7-4" class="outline-4">
<h4 id="sec-12-7-4">12.7.4 Quoting LaTeX code                                         <a id="Quoting-LaTeX-code" name="Quoting-LaTeX-code"></a></h4>
<div class="outline-text-4" id="text-12-7-4">
<p>
Embedded LaTeX as described in <a href="#Embedded-LaTeX">Embedded LaTeX</a>, will be correctly
inserted into the LaTeX file. Furthermore, you can add special
code that should only be present in LaTeX export with the
following constructs:
</p>

<pre class="example">
Code within @@latex:some code@@ a paragraph.

#+LATEX: Literal LaTeX code for export

#+BEGIN_LATEX
All lines between these markers are exported literally
#+END_LATEX
</pre>
</div>
</div>

<div id="outline-container-sec-12-7-5" class="outline-4">
<h4 id="sec-12-7-5">12.7.5 LaTeX specific attributes                                  <a id="LaTeX-specific-attributes" name="LaTeX-specific-attributes"></a></h4>
<div class="outline-text-4" id="text-12-7-5">
<p>
LaTeX understands attributes specified in an <code>ATTR_LATEX</code>
line. They affect tables, images, plain lists, source blocks,
example blocks and special blocks.
</p>
</div>

<div id="outline-container-sec-12-7-5-1" class="outline-5">
<h5 id="sec-12-7-5-1">Tables in LaTeX export</h5>
<div class="outline-text-5" id="text-12-7-5-1">
<p>
For LaTeX export of a table, you can specify a label and a
caption (see <a href="#Images-and-tables">Images and tables</a>). You can also use attributes to
control table layout and contents. Valid LaTeX attributes
include:
</p>

<ul class="org-ul">
<li><code>:mode</code>

<p>
Nature of table's contents. It can be set to <code>table</code>, <code>math</code>,
<code>inline-math</code> or <code>verbatim</code>. In particular, when in <code>math</code> or
<code>inline-math</code> mode, every cell is exported as-is, horizontal
rules are ignored and the table will be wrapped in a math
environment.  Also, contiguous tables sharing the same math
mode will be wrapped within the same environment. Default mode
is determined in <code>org-latex-default-table-mode</code>.
</p>
</li>

<li><code>:environment</code>

<p>
Environment used for the table. It can be set to any LaTeX
table environment, like <code>tabularx</code> <sup><a id="fnr.135" name="fnr.135" class="footref" href="#fn.135">135</a></sup>, <code>longtable</code>,
<code>array</code>, <code>tabu</code> <sup><a id="fnr.136" name="fnr.136" class="footref" href="#fn.136">136</a></sup>, <code>bmatrix</code>&#x2026; It defaults to
<code>org-latex-default-table-environment</code> value.
</p>
</li>

<li><code>:caption</code>

<p>
<code>#+CAPTION</code> keyword is the simplest way to set a caption for a
table (see <a href="#Images-and-tables">Images and tables</a>).  If you need more advanced
commands for that task, you can use <code>:caption</code> attribute
instead. Its value should be raw LaTeX code. It has precedence
over <code>#+CAPTION</code>.
</p>
</li>

<li><code>:float</code>
</li>
<li><code>:placement</code>

<p>
The <code>:float</code> specifies the float environment for the
table. Possible values are <code>sideways=[fn:FOOT143],
        =multicolumn</code>, <code>t</code> and <code>nil</code>. When unspecified, a table with a
caption will have a <code>table</code> environment. Moreover, the
<code>:placement</code> attribute can specify the positioning of the
float. Note: <code>:placement</code> is ignored for <code>:float sideways</code>
tables.
</p>
</li>

<li><code>:align</code>
</li>
<li><code>:font</code>
</li>
<li><code>:width</code>

<p>
Set, respectively, the alignment string of the table, its font
size and its width. They only apply on regular tables.
</p>
</li>

<li><code>:spread</code>

<p>
Boolean specific to the <code>tabu</code> and <code>longtabu</code> environments,
and only takes effect when used in conjunction with the
<code>:width</code> attribute. When <code>:spread</code> is non-=nil=, the table
will be spread or shrunk by the value of <code>:width</code>.
</p>
</li>

<li><code>:booktabs</code>
</li>
<li><code>:center</code>
</li>
<li><code>:rmlines</code>

<p>
They toggle, respectively, <code>booktabs</code> usage (assuming the
package is properly loaded), table centering and removal of
every horizontal rule but the first one (in a "table.el" table
only). In particular, <code>org-latex-tables-booktabs</code>
(respectively <code>org-latex-tables-centered</code>) activates the first
(respectively second) attribute globally.
</p>
</li>

<li><code>:math-prefix</code>
</li>
<li><code>:math-suffix</code>
</li>
<li><code>:math-arguments</code>

<p>
A string that will be inserted, respectively, before the table
within the math environment, after the table within the math
environment, and between the macro name and the contents of
the table. The <code>:math-arguments</code> attribute is used for matrix
macros that require more than one argument (e.g.,
<code>qbordermatrix</code>).
</p>
</li>
</ul>

<p>
Thus, attributes can be used in a wide array of situations, like
writing a table that will span over multiple pages, or a matrix
product:
</p>

<pre class="example">
#+ATTR_LATEX: :environment longtable :align l|lp{3cm}r|l
| ..... | ..... |
| ..... | ..... |

#+ATTR_LATEX: :mode math :environment bmatrix :math-suffix \times
| a | b |
| c | d |
#+ATTR_LATEX: :mode math :environment bmatrix
| 1 | 2 |
| 3 | 4 |
</pre>

<p>
In the example below, LaTeX command
<code>\bicaption{HeadingA}{HeadingB}</code> will set the caption.
</p>

<pre class="example">
#+ATTR_LATEX: :caption \bicaption{HeadingA}{HeadingB}
| ..... | ..... |
| ..... | ..... |
</pre>
</div>
</div>

<div id="outline-container-sec-12-7-5-2" class="outline-5">
<h5 id="sec-12-7-5-2">Images in LaTeX export</h5>
<div class="outline-text-5" id="text-12-7-5-2">
<p>
Images that are linked to without a description part in the link,
like <code>[[file:img.jpg]]</code> or <code>[[./img.jpg]]</code> will be inserted into the PDF
output file resulting from LaTeX processing. Org will use an
<code>\includegraphics</code> macro to insert the image<sup><a id="fnr.137" name="fnr.137" class="footref" href="#fn.137">137</a></sup>.
</p>

<p>
You can specify specify image width or height with, respectively,
<code>:width</code> and <code>:height</code> attributes. It is also possible to add any
other option with the <code>:options</code> attribute, as shown in the
following example:
</p>

<pre class="example">
#+ATTR_LATEX: :width 5cm :options angle=90
[[./img/sed-hr4049.pdf]]
</pre>

<p>
If you need a specific command for the caption, use <code>:caption</code>
attribute. It will override standard <code>#+CAPTION</code> value, if any.
</p>

<pre class="example">
#+ATTR_LATEX: :caption \bicaption{HeadingA}{HeadingB}
[[./img/sed-hr4049.pdf]]
</pre>

<p>
If you have specified a caption as described in <a href="#Images-and-tables">Images and
tables</a>, the picture will be wrapped into a <code>figure</code> environment
and thus become a floating element. You can also ask Org to
export an image as a float without specifying caption by setting
the <code>:float</code> attribute. You may also set it to:
</p>

<ul class="org-ul">
<li><code>t</code>:

<p>
if you want to use the standard ‘figure' environment. It is
used by default if you provide a caption to the image.
</p>
</li>

<li><code>multicolumn</code>:

<p>
if you wish to include an image which spans multiple columns
in a page. This will export the image wrapped in a <code>figure*</code>
environment.
</p>
</li>

<li><code>wrap</code>:

<p>
if you would like to let text flow around the image. It will
make the figure occupy the left half of the page.
</p>
</li>

<li><code>sideways</code>:

<p>
if you would like the image to appear alone on a separate page
rotated ninety degrees using the <code>sidewaysfigure</code>
environment. Setting this <code>:float</code> option will ignore the
<code>:placement</code> setting.
</p>
</li>

<li><code>nil</code>:

<p>
if you need to avoid any floating environment, even when a
caption is provided.
</p>
</li>
</ul>

<p>
To modify the placement option of any floating environment, set
the <code>placement</code> attribute.
</p>

<pre class="example">
#+ATTR_LATEX: :float wrap :width 0.38\textwidth :placement {r}{0.4\textwidth}
[[./img/hst.png]]
</pre>

<p>
If the <code>:comment-include</code> attribute is set to a non-=nil= value,
the LaTeX <code>\includegraphics</code> macro will be commented out.
</p>
</div>
</div>

<div id="outline-container-sec-12-7-5-3" class="outline-5">
<h5 id="sec-12-7-5-3">Plain lists in LaTeX export</h5>
<div class="outline-text-5" id="text-12-7-5-3">
<p>
Plain lists accept two optional attributes: <code>:environment</code> and
<code>:options</code>. The first one allows the use of a non-standard
environment (e.g., ‘inparaenum'). The second one specifies
additional arguments for that environment.
</p>

<pre class="example">
#+ATTR_LATEX: :environment compactitem :options [$\circ$]
- you need ``paralist'' package to reproduce this example.
</pre>
</div>
</div>

<div id="outline-container-sec-12-7-5-4" class="outline-5">
<h5 id="sec-12-7-5-4">Source blocks in LaTeX export</h5>
<div class="outline-text-5" id="text-12-7-5-4">
<p>
In addition to syntax defined in <a href="#Literal-examples">Literal examples</a>, names and
captions (see <a href="#Images-and-tables">Images and tables</a>), source blocks also accept two
additional attributes: <code>:float</code> and <code>:options</code>.
</p>

<p>
You may set the former to
</p>

<ul class="org-ul">
<li><code>t</code>: if you want to make the source block a float. It is the
default value when a caption is provided.
</li>

<li><code>multicolumn</code>: if you wish to include a source block which
spans multiple columns in a page.
</li>

<li><code>nil</code>: if you need to avoid any floating environment, even
when a caption is provided. It is useful for source code that
may not fit in a single page.

<pre class="example">
#+ATTR_LATEX: :float nil
#+BEGIN_SRC emacs-lisp
    Code that may not fit in a single page.
#+END_SRC
</pre>

<p>
The latter allows to specify options relative to the package
used to highlight code in the output (e.g., <code>listings</code>). This
is the local counterpart to <code>org-latex-listings-options</code> and
<code>org-latex-minted-options</code> variables, which see.
</p>

<pre class="example">
#+ATTR_LATEX: :options commentstyle=\bfseries
#+BEGIN_SRC emacs-lisp
      (defun Fib (n)                          ; Count rabbits.
        (if (&lt; n 2) n (+ (Fib (- n 1)) (Fib (- n 2)))))
#+END_SRC
</pre>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-7-5-5" class="outline-5">
<h5 id="sec-12-7-5-5">Example blocks in LaTeX export</h5>
<div class="outline-text-5" id="text-12-7-5-5">
<p>
By default, when exporting to LaTeX, example blocks contents are
wrapped in a ‘verbatim' environment. It is possible to use a
different environment globally using an appropriate export filter
(see <a href="#Advanced-configuration">Advanced configuration</a>). You can also change this per block
using <code>:environment</code> parameter.
</p>

<pre class="example">
 #+ATTR_LATEX: :environment myverbatim
\#+BEGIN_EXAMPLE
 This sentence is false.
\#+END_EXAMPLE
</pre>
</div>
</div>

<div id="outline-container-sec-12-7-5-6" class="outline-5">
<h5 id="sec-12-7-5-6">Special blocks in LaTeX export</h5>
<div class="outline-text-5" id="text-12-7-5-6">
<p>
In LaTeX back-end, special blocks become environments of the same
name.  Value of <code>:options</code> attribute will be appended as-is to
that environment's opening string. For example:
</p>

<pre class="example">
#+BEGIN_abstract
We demonstrate how to solve the Syracuse problem.
#+END_abstract

#+ATTR_LATEX: :options [Proof of important theorem]
#+BEGIN_proof
...
Therefore, any even number greater than 2 is the sum of two primes.
#+END_proof
</pre>

<p>
becomes
</p>

<pre class="example">
\begin{abstract}
We demonstrate how to solve the Syracuse problem.
\end{abstract}

\begin{proof}[Proof of important theorem]
...
Therefore, any even number greater than 2 is the sum of two primes.
\end{proof}
</pre>

<p>
If you need to insert a specific caption command, use <code>:caption</code>
attribute. It will override standard <code>#+CAPTION</code> value, if
any. For example:
</p>

<pre class="example">
#+ATTR_LATEX: :caption \MyCaption{HeadingA}
#+BEGIN_proof
...
#+END_proof
</pre>
</div>
</div>

<div id="outline-container-sec-12-7-5-7" class="outline-5">
<h5 id="sec-12-7-5-7">Horizontal rules</h5>
<div class="outline-text-5" id="text-12-7-5-7">
<p>
Width and thickness of a given horizontal rule can be controlled
with, respectively, <code>:width</code> and <code>:thickness</code> attributes:
</p>

<pre class="example">
#+ATTR_LATEX: :width .6\textwidth :thickness 0.8pt
-----
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-12-8" class="outline-3">
<h3 id="sec-12-8">12.8 Markdown export                                               <a id="Markdown-export" name="Markdown-export"></a></h3>
<div class="outline-text-3" id="text-12-8">
<p>
<code>md</code> export back-end generates Markdown syntax<sup><a id="fnr.138" name="fnr.138" class="footref" href="#fn.138">138</a></sup> for
an Org mode buffer.
</p>

<p>
It is built over HTML back-end: any construct not supported by Markdown
syntax (e.g., tables) will be controlled and translated by <code>html</code>
back-end (see <a href="#HTML-export">HTML export</a>).
</p>
</div>

<div id="outline-container-sec-12-8-1" class="outline-4">
<h4 id="sec-12-8-1">Markdown export commands</h4>
<div class="outline-text-4" id="text-12-8-1">
<p>
C-c C-e m m (<code>org-md-export-to-markdown</code>)
</p>

<p>
Export as a text file written in Markdown syntax. For an Org file,
myfile.org, the resulting file will be myfile.md. The file will be
overwritten without warning.
</p>

<p>
C-c C-e m M (<code>org-md-export-as-markdown</code>)
</p>

<p>
Export to a temporary buffer. Do not create a file.
</p>

<p>
C-c C-e m o
</p>

<p>
Export as a text file with Markdown syntax, then open it.
</p>
</div>
</div>

<div id="outline-container-sec-12-8-2" class="outline-4">
<h4 id="sec-12-8-2">Header and sectioning structure</h4>
<div class="outline-text-4" id="text-12-8-2">
<p>
Markdown export can generate both <code>atx</code> and <code>setext</code> types for
headlines, according to <code>org-md-headline-style</code>. The former introduces a
hard limit of two levels, whereas the latter pushes it to six. Headlines
below that limit are exported as lists. You can also set a soft limit
before that one (see <a href="#Export-settings">Export settings</a>).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12-9" class="outline-3">
<h3 id="sec-12-9">12.9 OpenDocument Text export                                      <a id="OpenDocument-Text-export" name="OpenDocument-Text-export"></a></h3>
<div class="outline-text-3" id="text-12-9">
<p>
Org mode<sup><a id="fnr.139" name="fnr.139" class="footref" href="#fn.139">139</a></sup> supports export to OpenDocument Text (ODT)
format. Documents created by this exporter use the OpenDocument-v1.2
specification<sup><a id="fnr.140" name="fnr.140" class="footref" href="#fn.140">140</a></sup> and are compatible with LibreOffice
3.4.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Pre_requisites-for-ODT-export">Pre-requisites for ODT export</a>:</td>
<td class="left">What packages ODT exporter relies on</td>
</tr>

<tr>
<td class="left">• <i>ODT export commands</i>:</td>
<td class="left">How to invoke ODT export</td>
</tr>

<tr>
<td class="left">• <a href="#ODT-specific-export-settings">ODT specific export settings</a>:</td>
<td class="left">Export settings for ODT</td>
</tr>

<tr>
<td class="left">• <a href="#Extending-ODT-export">Extending ODT export</a>:</td>
<td class="left">How to produce ‘doc', ‘pdf' files</td>
</tr>

<tr>
<td class="left">• <a href="#Applying-custom-styles">Applying custom styles</a>:</td>
<td class="left">How to apply custom styles to the output</td>
</tr>

<tr>
<td class="left">• <a href="#Links-in-ODT-export">Links in ODT export</a>:</td>
<td class="left">How links will be interpreted and formatted</td>
</tr>

<tr>
<td class="left">• <a href="#Tables-in-ODT-export">Tables in ODT export</a>:</td>
<td class="left">How Tables are exported</td>
</tr>

<tr>
<td class="left">• <a href="#Images-in-ODT-export">Images in ODT export</a>:</td>
<td class="left">How to insert images</td>
</tr>

<tr>
<td class="left">• <a href="#Math-formatting-in-ODT-export">Math formatting in ODT export</a>:</td>
<td class="left">How LaTeX fragments are formatted</td>
</tr>

<tr>
<td class="left">• <a href="#Labels-and-captions-in-ODT-export">Labels and captions in ODT export</a>:</td>
<td class="left">How captions are rendered</td>
</tr>

<tr>
<td class="left">• <a href="#Literal-examples-in-ODT-export">Literal examples in ODT export</a>:</td>
<td class="left">How source and example blocks are formatted</td>
</tr>

<tr>
<td class="left">• <a href="#Advanced-topics-in-ODT-export">Advanced topics in ODT export</a>:</td>
<td class="left">Read this if you are a power user</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-9-1" class="outline-4">
<h4 id="sec-12-9-1">12.9.1 Pre-requisites for ODT export                              <a id="Pre_requisites-for-ODT-export" name="Pre_requisites-for-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-1">
<p>
The ODT exporter relies on the zip program to create the final output.
Check the availability of this program before proceeding further.
</p>
</div>
</div>

<div id="outline-container-sec-12-9-2" class="outline-4">
<h4 id="sec-12-9-2">12.9.2 ODT export commands                                        @ODT-export-commands</h4>
<div class="outline-text-4" id="text-12-9-2">
<p>
C-c C-e o o (<code>org-odt-export-to-odt</code>)
</p>

<p>
Export as OpenDocument Text file.
</p>

<p>
If <code>org-odt-preferred-output-format</code> is specified, automatically convert
the exported file to that format. See
<i>Automatically exporting to
other formats</i>.
</p>

<p>
For an Org file myfile.org, the ODT file will be myfile.odt. The file
will be overwritten without warning. If there is an active
region,<sup><a id="fnr.141" name="fnr.141" class="footref" href="#fn.141">141</a></sup> only the region will be exported. If the
selected region is a single tree,<sup><a id="fnr.142" name="fnr.142" class="footref" href="#fn.142">142</a></sup> the tree head will
become the document title. If the tree head entry has, or inherits, an
<code>EXPORT_FILE_NAME</code> property, that name will be used for the export.
</p>

<p>
C-c C-e o O Export as an OpenDocument Text file and open the resulting
file.
</p>

<p>
If <code>org-odt-preferred-output-format</code> is specified, open the converted
file instead. See
<i>Automatically exporting to
other formats</i>.
</p>
</div>
</div>

<div id="outline-container-sec-12-9-3" class="outline-4">
<h4 id="sec-12-9-3">12.9.3 ODT specific export settings                               <a id="ODT-specific-export-settings" name="ODT-specific-export-settings"></a></h4>
<div class="outline-text-4" id="text-12-9-3">
<p>
The ODT exporter introduces a number of keywords, similar to the general
options settings described in <a href="#Export-settings">Export settings</a>.
</p>

<dl class="org-dl">
<dt> ‘DESCRIPTION' </dt><dd>The document description. These are inserted as
document metadata. You can use several such keywords if the list is
long.
</dd>

<dt> ‘KEYWORDS' </dt><dd>The keywords defining the contents of the document.
These are inserted as document metadata. You can use several such
keywords if the list is long.
</dd>

<dt> ‘ODT<sub>STYLES</sub><sub>FILE'</sub> </dt><dd>The style file of the document
(<code>org-odt-styles-file</code>). See <a href="#Applying-custom-styles">Applying
custom styles</a> for details.
</dd>

<dt> ‘SUBTITLE' </dt><dd>The document subtitle.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-12-9-4" class="outline-4">
<h4 id="sec-12-9-4">12.9.4 Extending ODT export                                       <a id="Extending-ODT-export" name="Extending-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-4">
<p>
The ODT exporter can interface with a variety of document converters and
supports popular converters out of the box. As a result, you can use it
to export to formats like ‘doc' or convert a document from one format
(say ‘csv') to another format (say ‘ods' or ‘xls').
</p>

<p>
If you have a working installation of LibreOffice, a document converter
is pre-configured for you and you can use it right away. If you would
like to use unoconv as your preferred converter, customize the variable
<code>org-odt-convert-process</code> to point to <code>unoconv</code>. You can also use your
own favorite converter or tweak the default settings of the LibreOffice
and ‘unoconv' converters. See
<a href="#Configuring-a-document-converter">Configuring a document converter</a>.
</p>
</div>

<div id="outline-container-sec-12-9-4-1" class="outline-5">
<h5 id="sec-12-9-4-1">Automatically exporting to other formats</h5>
<div class="outline-text-5" id="text-12-9-4-1">
<p>
Very often, you will find yourself exporting to ODT format, only to
immediately save the exported document to other formats like ‘doc',
‘docx', ‘rtf', ‘pdf' etc. In such cases, you can specify your preferred
output format by customizing the variable
<code>org-odt-preferred-output-format</code>. This way, the export commands (see
<i>Exporting to ODT</i>) can be extended to
export to a format that is of immediate interest to you.
</p>
</div>
</div>

<div id="outline-container-sec-12-9-4-2" class="outline-5">
<h5 id="sec-12-9-4-2">Converting between document formats</h5>
<div class="outline-text-5" id="text-12-9-4-2">
<p>
There are many document converters in the wild which support conversion
to and from various file formats, including, but not limited to the ODT
format. LibreOffice converter, mentioned above, is one such converter.
Once a converter is configured, you can interact with it using the
following command.
</p>

<dl class="org-dl">
<dt> M-x org-odt-convert RET </dt><dd>Convert an existing document from one
format to another. With a prefix argument, also open the newly
produced file.
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-12-9-5" class="outline-4">
<h4 id="sec-12-9-5">12.9.5 Applying custom styles                                     <a id="Applying-custom-styles" name="Applying-custom-styles"></a></h4>
<div class="outline-text-4" id="text-12-9-5">
<p>
The ODT exporter ships with a set of OpenDocument styles (see
<a href="#Working-with-OpenDocument-style-files">Working with OpenDocument
style files</a>) that ensure a well-formatted output. These factory
styles, however, may not cater to your specific tastes. To customize the
output, you can either modify the above styles files directly, or
generate the required styles using an application like LibreOffice. The
latter method is suitable for expert and non-expert users alike, and is
described here.
</p>
</div>

<div id="outline-container-sec-12-9-5-1" class="outline-5">
<h5 id="sec-12-9-5-1">Applying custom styles: the easy way</h5>
<div class="outline-text-5" id="text-12-9-5-1">
<ol class="org-ol">
<li>Create a sample example.org file with the below settings and export
it to ODT format.

<pre class="example">
#+OPTIONS: H:10 num:t
</pre>
</li>

<li>Open the above example.odt using LibreOffice. Use the Stylist to
locate the target styles&#x2014;these typically have the ‘Org'
prefix&#x2014;and modify those to your taste. Save the modified file
either as an OpenDocument Text (.odt) or OpenDocument Template (.ott)
file.
</li>
<li>Customize the variable <code>org-odt-styles-file</code> and point it to the
newly created file. For additional configuration options see
<i>Overriding factory
styles</i>.

<p>
If you would like to choose a style on a per-file basis, you can use
the <code>#+ODT_STYLES_FILE</code> option. A typical setting will look like
</p>

<pre class="example">
#+ODT_STYLES_FILE: "/path/to/example.ott"
</pre>

<p>
or
</p>

<pre class="example">
#+ODT_STYLES_FILE: ("/path/to/file.ott" ("styles.xml" "image/hdr.png"))
</pre>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-12-9-5-2" class="outline-5">
<h5 id="sec-12-9-5-2">Using third-party styles and templates</h5>
<div class="outline-text-5" id="text-12-9-5-2">
<p>
You can use third-party styles and templates for customizing your
output. This will produce the desired output only if the template
provides all style names that the ‘ODT' exporter relies on. Unless this
condition is met, the output is going to be less than satisfactory. So
it is highly recommended that you only work with templates that are
directly derived from the factory settings.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12-9-6" class="outline-4">
<h4 id="sec-12-9-6">12.9.6 Links in ODT export                                        <a id="Links-in-ODT-export" name="Links-in-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-6">
<p>
ODT exporter creates native cross-references for internal links. It
creates Internet-style links for all other links.
</p>

<p>
A link with no description and destined to a regular (un-itemized)
outline heading is replaced with a cross-reference and section number of
the heading.
</p>

<p>
A ‘\ref{label}'-style reference to an image, table etc. is replaced with
a cross-reference and sequence number of the labeled entity. See
<a href="#Labels-and-captions-in-ODT-export">Labels and captions in ODT
export</a>.
</p>
</div>
</div>

<div id="outline-container-sec-12-9-7" class="outline-4">
<h4 id="sec-12-9-7">12.9.7 Tables in ODT export                                       <a id="Tables-in-ODT-export" name="Tables-in-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-7">
<p>
Export of native Org mode tables (see <a href="#Tables">Tables</a>) and simple
table.el tables is supported. However, export of complex table.el
tables&#x2014;tables that have column or row spans&#x2014;is not supported. Such
tables are stripped from the exported document.
</p>

<p>
By default, a table is exported with top and bottom frames and with
rules separating row and column groups (see <a href="#Column-groups">Column
groups</a>). Furthermore, all tables are typeset to occupy the same width.
If the table specifies alignment and relative width for its columns (see
<a href="#Column-width-and-alignment">Column width and alignment</a>) then these
are honored on export.<sup><a id="fnr.143" name="fnr.143" class="footref" href="#fn.143">143</a></sup>
</p>

<p>
You can control the width of the table by specifying <code>:rel-width</code>
property using an <code>#+ATTR_ODT</code> line.
</p>

<p>
For example, consider the following table which makes use of all the
rules mentioned above.
</p>

<pre class="example">
#+ATTR_ODT: :rel-width 50
| Area/Month    |   Jan |   Feb |   Mar |   Sum |
|---------------+-------+-------+-------+-------|
| /             |     &lt; |       |       |     &lt; |
| &lt;l13&gt;         |  &lt;r5&gt; |  &lt;r5&gt; |  &lt;r5&gt; |  &lt;r6&gt; |
| North America |     1 |    21 |   926 |   948 |
| Middle East   |     6 |    75 |   844 |   925 |
| Asia Pacific  |     9 |    27 |   790 |   826 |
|---------------+-------+-------+-------+-------|
| Sum           |    16 |   123 |  2560 |  2699 |
</pre>

<p>
On export, the table will occupy 50% of text area. The columns will be
sized (roughly) in the ratio of 13:5:5:5:6. The first column will be
left-aligned and rest of the columns will be right-aligned. There will
be vertical rules after separating the header and last columns from
other columns. There will be horizontal rules separating the header and
last rows from other rows.
</p>

<p>
If you are not satisfied with the above formatting options, you can
create custom table styles and associate them with a table using the
<code>#+ATTR_ODT</code> line. See <a href="#Customizing-tables-in-ODT-export">Customizing
tables in ODT export</a>.
</p>
</div>
</div>

<div id="outline-container-sec-12-9-8" class="outline-4">
<h4 id="sec-12-9-8">12.9.8 Images in ODT export                                       <a id="Images-in-ODT-export" name="Images-in-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-8">
</div><div id="outline-container-sec-12-9-8-1" class="outline-5">
<h5 id="sec-12-9-8-1">Embedding images</h5>
<div class="outline-text-5" id="text-12-9-8-1">
<p>
You can embed images within the exported document by providing a link to
the desired image file with no link description. For example, to embed
‘img.png' do either of the following:
</p>

<pre class="example">
[[file:img.png]]
</pre>

<pre class="example">
[[./img.png]]
</pre>
</div>
</div>

<div id="outline-container-sec-12-9-8-2" class="outline-5">
<h5 id="sec-12-9-8-2">Embedding clickable images</h5>
<div class="outline-text-5" id="text-12-9-8-2">
<p>
You can create clickable images by providing a link whose description is
a link to an image file. For example, to embed a image
org-mode-unicorn.png which when clicked jumps to <a href="http://Orgmode.org">http://Orgmode.org</a>
website, do the following
</p>

<pre class="example">
[[http://orgmode.org][./org-mode-unicorn.png]]
</pre>
</div>
</div>

<div id="outline-container-sec-12-9-8-3" class="outline-5">
<h5 id="sec-12-9-8-3">Sizing and scaling of embedded images</h5>
<div class="outline-text-5" id="text-12-9-8-3">
<p>
You can control the size and scale of the embedded images using the
<code>#+ATTR_ODT</code> attribute.
</p>

<p>
The exporter specifies the desired size of the image in the final
document in units of centimeters. In order to scale the embedded images,
the exporter queries for pixel dimensions of the images using one of a)
ImageMagick's identify program or b) Emacs <code>create-image</code> and
<code>image-size</code> APIs<sup><a id="fnr.144" name="fnr.144" class="footref" href="#fn.144">144</a></sup>. The pixel dimensions are
subsequently converted in to units of centimeters using
<code>org-odt-pixels-per-inch</code>. The default value of this variable is set to
<code>display-pixels-per-inch</code>. You can tweak this variable to achieve the
best results.
</p>

<p>
The examples below illustrate the various possibilities.
</p>

<dl class="org-dl">
<dt> Explicitly size the image </dt><dd>To embed img.png as a 10 cm x 10 cm
image, do the following:

<pre class="example">
#+ATTR_ODT: :width 10 :height 10
[[./img.png]]
</pre>
</dd>

<dt> Scale the image </dt><dd>To embed img.png at half its size, do the
following:

<pre class="example">
#+ATTR_ODT: :scale 0.5
[[./img.png]]
</pre>
</dd>

<dt> Scale the image to a specific width </dt><dd>To embed img.png with a width
of 10 cm while retaining the original height:width ratio, do the
following:

<pre class="example">
#+ATTR_ODT: :width 10
[[./img.png]]
</pre>
</dd>

<dt> Scale the image to a specific height </dt><dd>To embed img.png with a
height of 10 cm while retaining the original height:width ratio, do
the following

<pre class="example">
#+ATTR_ODT: :height 10
[[./img.png]]
</pre>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-12-9-8-4" class="outline-5">
<h5 id="sec-12-9-8-4">Anchoring of images</h5>
<div class="outline-text-5" id="text-12-9-8-4">
<p>
You can control the manner in which an image is anchored by setting the
<code>:anchor</code> property of it's <code>#+ATTR_ODT</code> line. You can specify one of the
following three values for the <code>:anchor</code> property: ‘"as-char"',
‘"paragraph"' and ‘"page"'.
</p>

<p>
To create an image that is anchored to a page, do the following:
</p>

<pre class="example">
#+ATTR_ODT: :anchor "page"
[[./img.png]]
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-12-9-9" class="outline-4">
<h4 id="sec-12-9-9">12.9.9 Math formatting in ODT export                              <a id="Math-formatting-in-ODT-export" name="Math-formatting-in-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-9">
<p>
The ODT exporter has special support for handling math.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Working-with-LaTeX-math-snippets">Working with LaTeX math snippets</a>:</td>
<td class="left">How to embed LaTeX math fragments</td>
</tr>

<tr>
<td class="left">• <a href="#Working-with-MathML-or-OpenDocument-formula-files">Working with MathML or OpenDocument formula files</a>:</td>
<td class="left">How to embed equations in native format</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-9-9-1" class="outline-5">
<h5 id="sec-12-9-9-1">Working with LaTeX math snippets                                 <a id="Working-with-LaTeX-math-snippets" name="Working-with-LaTeX-math-snippets"></a></h5>
<div class="outline-text-5" id="text-12-9-9-1">
<p>
LaTeX math snippets (see <a href="#LaTeX-fragments">LaTeX fragments</a>) can be
embedded in the ODT document in one of the following ways:
</p>

<ol class="org-ol">
<li>MathML

<p>
This option is activated on a per-file basis with
</p>

<pre class="example">
#+OPTIONS: LaTeX:t
</pre>

<p>
With this option, LaTeX fragments are first converted into MathML
fragments using an external LaTeX-to-MathML converter program. The
resulting MathML fragments are then embedded as an OpenDocument
Formula in the exported document.
</p>

<p>
You can specify the LaTeX-to-MathML converter by customizing the
variables <code>org-latex-to-mathml-convert-command</code> and
<code>org-latex-to-mathml-jar-file</code>.
</p>

<p>
To use MathToWeb<sup><a id="fnr.145" name="fnr.145" class="footref" href="#fn.145">145</a></sup> as your converter, you can
configure the above variables as
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-latex-to-mathml-convert-command
      "java -jar %j -unicode -force -df %o %I"
      org-latex-to-mathml-jar-file
      "/path/to/mathtoweb.jar")
</pre>
</div>

<p>
To use LaTeXML<sup><a id="fnr.146" name="fnr.146" class="footref" href="#fn.146">146</a></sup> use
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-latex-to-mathml-convert-command
      "latexmlmath \"%i\" --presentationmathml=%o")
</pre>
</div>

<p>
You can use the following commands to quickly verify the reliability
of the LaTeX-to-MathML converter.
</p>

<dl class="org-dl">
<dt> M-x org-odt-export-as-odf RET </dt><dd>Convert a LaTeX math snippet to
an OpenDocument formula (.odf) file.
</dd>

<dt> M-x org-odt-export-as-odf-and-open RET </dt><dd>Convert a LaTeX math
snippet to an OpenDocument formula (.odf) file and open the
formula file with the system-registered application.
</dd>
</dl>
</li>

<li>PNG images

<p>
This option is activated on a per-file basis with
</p>

<pre class="example">
#+OPTIONS: tex:dvipng
</pre>

<p>
or:
</p>

<pre class="example">
#+OPTIONS: tex:imagemagick
</pre>

<p>
With this option, LaTeX fragments are processed into PNG images and
the resulting images are embedded in the exported document. This
method requires that the dvipng program or imagemagick suite be
available on your system.
</p>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-12-9-9-2" class="outline-5">
<h5 id="sec-12-9-9-2">Working with MathML or OpenDocument formula files                <a id="Working-with-MathML-or-OpenDocument-formula-files" name="Working-with-MathML-or-OpenDocument-formula-files"></a></h5>
<div class="outline-text-5" id="text-12-9-9-2">
<p>
For various reasons, you may find embedding LaTeX math snippets in an
ODT document less than reliable. In that case, you can embed a math
equation by linking to its MathML (.mml) source or its OpenDocument
formula (.odf) file as shown below:
</p>

<pre class="example">
[[./equation.mml]]
</pre>

<p>
or
</p>

<pre class="example">
[[./equation.odf]]
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-12-9-10" class="outline-4">
<h4 id="sec-12-9-10">12.9.10 Labels and captions in ODT export                         <a id="Labels-and-captions-in-ODT-export" name="Labels-and-captions-in-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-10">
<p>
You can label and caption various category of objects&#x2014;an inline image,
a table, a LaTeX fragment or a Math formula&#x2014;using <code>#+LABEL</code> and
<code>#+CAPTION</code> lines. See <a href="#Images-and-tables">Images and tables</a>. ODT
exporter enumerates each labeled or captioned object of a given category
separately. As a result, each such object is assigned a sequence number
based on order of it's appearance in the Org file.
</p>

<p>
In the exported document, a user-provided caption is augmented with the
category and sequence number. Consider the following inline image in an
Org file.
</p>

<pre class="example">
#+CAPTION: Bell curve
#+LABEL:   fig:SED-HR4049
[[./img/a.png]]
</pre>

<p>
It could be rendered as shown below in the exported document.
</p>

<pre class="example">
Figure 2: Bell curve
</pre>

<p>
You can modify the category component of the caption by customizing the
option <code>org-odt-category-map-alist</code>. For example, to tag all embedded
images with the string ‘Illustration' (instead of the default ‘Figure')
use the following setting:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-odt-category-map-alist
      (("__Figure__" "Illustration" "value" "Figure" org-odt--enumerable-image-p)))
</pre>
</div>

<p>
With this, previous image will be captioned as below in the exported
document.
</p>

<pre class="example">
Illustration 2: Bell curve
</pre>
</div>
</div>

<div id="outline-container-sec-12-9-11" class="outline-4">
<h4 id="sec-12-9-11">12.9.11 Literal examples in ODT export                            <a id="Literal-examples-in-ODT-export" name="Literal-examples-in-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-11">
<p>
Export of literal examples (see <a href="#Literal-examples">Literal examples</a>)
with full fontification is supported. Internally, the exporter relies on
htmlfontify.el to generate all style definitions needed for a fancy
listing.<sup><a id="fnr.147" name="fnr.147" class="footref" href="#fn.147">147</a></sup> The auto-generated styles have ‘OrgSrc' as
prefix and inherit their color from the faces used by Emacs <code>font-lock</code>
library for the source language.
</p>

<p>
If you prefer to use your own custom styles for fontification, you can
do so by customizing the option
<code>org-odt-create-custom-styles-for-srcblocks</code>.
</p>

<p>
You can turn off fontification of literal examples by customizing the
option <code>org-odt-fontify-srcblocks</code>.
</p>
</div>
</div>

<div id="outline-container-sec-12-9-12" class="outline-4">
<h4 id="sec-12-9-12">12.9.12 Advanced topics in ODT export                             <a id="Advanced-topics-in-ODT-export" name="Advanced-topics-in-ODT-export"></a></h4>
<div class="outline-text-4" id="text-12-9-12">
<p>
If you rely heavily on ODT export, you may want to exploit the full set
of features that the exporter offers. This section describes features
that would be of interest to power users.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Configuring-a-document-converter">Configuring a document converter</a>:</td>
<td class="left">How to register a document converter</td>
</tr>

<tr>
<td class="left">• <a href="#Working-with-OpenDocument-style-files">Working with OpenDocument style files</a>:</td>
<td class="left">Explore the internals</td>
</tr>

<tr>
<td class="left">• <a href="#Creating-one_off-styles">Creating one-off styles</a>:</td>
<td class="left">How to produce custom highlighting etc</td>
</tr>

<tr>
<td class="left">• <a href="#Customizing-tables-in-ODT-export">Customizing tables in ODT export</a>:</td>
<td class="left">How to define and use Table templates</td>
</tr>

<tr>
<td class="left">• <a href="#Validating-OpenDocument-XML">Validating OpenDocument XML</a>:</td>
<td class="left">How to debug corrupt OpenDocument files</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-9-12-1" class="outline-5">
<h5 id="sec-12-9-12-1">Configuring a document converter                                 <a id="Configuring-a-document-converter" name="Configuring-a-document-converter"></a></h5>
<div class="outline-text-5" id="text-12-9-12-1">
<p>
The ODT exporter can work with popular converters with little or no
extra configuration from your side. See
<a href="#Extending-ODT-export">Extending ODT export</a>. If you are using a
converter that is not supported by default or if you would like to tweak
the default converter settings, proceed as below.
</p>

<ol class="org-ol">
<li>Register the converter

<p>
Name your converter and add it to the list of known converters by
customizing the option <code>org-odt-convert-processes</code>. Also specify how
the converter can be invoked via command-line to effect the
conversion.
</p>
</li>

<li>Configure its capabilities

<p>
Specify the set of formats the converter can handle by customizing
the variable <code>org-odt-convert-capabilities</code>. Use the default value
for this variable as a guide for configuring your converter. As
suggested by the default setting, you can specify the full set of
formats supported by the converter and not limit yourself to
specifying formats that are related to just the OpenDocument Text
format.
</p>
</li>

<li>Choose the converter

<p>
Select the newly added converter as the preferred one by customizing
the option <code>org-odt-convert-process</code>.
</p>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-12-9-12-2" class="outline-5">
<h5 id="sec-12-9-12-2">Working with OpenDocument style files                            <a id="Working-with-OpenDocument-style-files" name="Working-with-OpenDocument-style-files"></a></h5>
<div class="outline-text-5" id="text-12-9-12-2">
<p>
This section explores the internals of the ODT exporter and the means by
which it produces styled documents. Read this section if you are
interested in exploring the automatic and custom OpenDocument styles
used by the exporter.
</p>
</div>
</div>

<div id="outline-container-sec-12-9-12-3" class="outline-5">
<h5 id="sec-12-9-12-3">a) Factory styles</h5>
<div class="outline-text-5" id="text-12-9-12-3">
<p>
The ODT exporter relies on two files for generating its output. These
files are bundled with the distribution under the directory pointed to
by the variable <code>org-odt-styles-dir</code>. The two files are:
</p>

<ul class="org-ul">
<li></li>
<li>OrgOdtStyles.xml

<p>
This file contributes to the styles.xml file of the final ‘ODT'
document. This file gets modified for the following purposes:
</p>

<ol class="org-ol">
<li>To control outline numbering based on user settings.
</li>
<li>To add styles generated by htmlfontify.el for fontification of
code blocks.
</li>
</ol>
</li>

<li>OrgOdtContentTemplate.xml

<p>
This file contributes to the content.xml file of the final ‘ODT'
document. The contents of the Org outline are inserted between the
‘&lt;office:text&gt;'&#x2026;‘&lt;/office:text&gt;' elements of this file.
</p>

<p>
Apart from serving as a template file for the final content.xml, the
file serves the following purposes:
</p>

<ol class="org-ol">
<li>It contains automatic styles for formatting of tables which are
referenced by the exporter.
</li>
<li>It contains ‘&lt;text:sequence-decl&gt;'&#x2026;‘&lt;/text:sequence-decl&gt;'
elements that control how various entities&#x2014;tables, images,
equations, etc.&#x2014;are numbered.
</li>
</ol>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-9-12-4" class="outline-5">
<h5 id="sec-12-9-12-4">b) Overriding factory styles</h5>
<div class="outline-text-5" id="text-12-9-12-4">
<p>
The following two variables control the location from which the ODT
exporter picks up the custom styles and content template files. You can
customize these variables to override the factory styles used by the
exporter.
</p>

<ul class="org-ul">
<li></li>
<li><code>org-odt-styles-file</code>

<p>
Use this variable to specify the styles.xml that will be used in the
final output. You can specify one of the following values:
</p>

<ol class="org-ol">
<li>A styles.xml file

<p>
Use this file instead of the default styles.xml
</p>
</li>

<li>A .odt or .ott file

<p>
Use the styles.xml contained in the specified OpenDocument Text or
Template file
</p>
</li>

<li>A .odt or .ott file and a subset of files contained within them

<p>
Use the styles.xml contained in the specified OpenDocument Text or
Template file. Additionally extract the specified member files and
embed those within the final ‘ODT' document.
</p>

<p>
Use this option if the styles.xml file references additional files
like header and footer images.
</p>
</li>

<li><code>nil</code>

<p>
Use the default styles.xml
</p>
</li>
</ol>
</li>

<li><code>org-odt-content-template-file</code>

<p>
Use this variable to specify the blank content.xml that will be used
in the final output.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12-9-12-5" class="outline-5">
<h5 id="sec-12-9-12-5">Creating one-off styles                                          <a id="Creating-one_off-styles" name="Creating-one_off-styles"></a></h5>
<div class="outline-text-5" id="text-12-9-12-5">
<p>
There are times when you would want one-off formatting in the exported
document. You can achieve this by embedding raw OpenDocument XML in the
Org file. The use of this feature is better illustrated with couple of
examples.
</p>

<ol class="org-ol">
<li>Embedding ODT tags as part of regular text

<p>
You can inline OpenDocument syntax by enclosing it within
‘' markup. For example, to highlight a region of text do
the following:
</p>

<pre class="example">
@@odt:&lt;text:span text:style-name="Highlight"&gt;This is a highlighted
text&lt;/text:span&gt;@@.  But this is a regular text.
</pre>

<p>
<b>Hint:</b> To see the above example in action, edit your styles.xml (see
<i>Factory styles</i>) and add a custom
‘Highlight' style as shown below.
</p>

<pre class="example">
&lt;style:style style:name="Highlight" style:family="text"&gt;
  &lt;style:text-properties fo:background-color="#ff0000"/&gt;
&lt;/style:style&gt;
</pre>
</li>

<li>Embedding a one-line OpenDocument XML

<p>
You can add a simple OpenDocument one-liner using the <code>#+ODT:</code>
directive. For example, to force a page break do the following:
</p>

<pre class="example">
#+ODT: &lt;text:p text:style-name="PageBreak"/&gt;
</pre>

<p>
<b>Hint:</b> To see the above example in action, edit your styles.xml (see
<i>Factory styles</i>) and add a custom
‘PageBreak' style as shown below.
</p>

<pre class="example">
&lt;style:style style:name="PageBreak" style:family="paragraph"
             style:parent-style-name="Text_20_body"&gt;
  &lt;style:paragraph-properties fo:break-before="page"/&gt;
&lt;/style:style&gt;
</pre>
</li>

<li>Embedding a block of OpenDocument XML

<p>
You can add a large block of OpenDocument XML using the
<code>#+BEGIN_ODT</code>&#x2026;=#+END<sub>ODT</sub>= construct.
</p>

<p>
For example, to create a one-off paragraph that uses bold text, do
the following:
</p>

<pre class="example">
#+BEGIN_ODT
&lt;text:p text:style-name="Text_20_body_20_bold"&gt;
This paragraph is specially formatted and uses bold text.
&lt;/text:p&gt;
#+END_ODT
</pre>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-12-9-12-6" class="outline-5">
<h5 id="sec-12-9-12-6">Customizing tables in ODT export                                 <a id="Customizing-tables-in-ODT-export" name="Customizing-tables-in-ODT-export"></a></h5>
<div class="outline-text-5" id="text-12-9-12-6">
<p>
You can override the default formatting of the table by specifying a
custom table style with the <code>#+ATTR_ODT</code> line. For a discussion on
default formatting of tables see <a href="#Tables-in-ODT-export">Tables in ODT
export</a>.
</p>

<p>
This feature closely mimics the way table templates are defined in the
OpenDocument-v1.2 specification.<sup><a id="fnr.148" name="fnr.148" class="footref" href="#fn.148">148</a></sup>
</p>

<p>
To have a quick preview of this feature, install the below setting and
export the table that follows:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-odt-table-styles
      (append org-odt-table-styles
            '(("TableWithHeaderRowAndColumn" "Custom"
                ((use-first-row-styles . t)
                 (use-first-column-styles . t)))
                ("TableWithFirstRowandLastRow" "Custom"
                 ((use-first-row-styles . t)
                 (use-last-row-styles . t))))))
</pre>
</div>

<pre class="example">
#+ATTR_ODT: :style TableWithHeaderRowAndColumn
| Name  | Phone | Age |
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
</pre>

<p>
In the above example, you used a template named ‘Custom' and installed
two table styles with the names ‘TableWithHeaderRowAndColumn' and
‘TableWithFirstRowandLastRow'. (<b>Important:</b> The OpenDocument styles
needed for producing the above template have been pre-defined for you.
These styles are available under the section marked ‘Custom Table
Template' in OrgOdtContentTemplate.xml (see
<i>Factory styles</i>). If you need
additional templates you have to define these styles yourselves.
</p>

<p>
To use this feature proceed as follows:
</p>

<ol class="org-ol">
<li>Create a table template<sup><a id="fnr.149" name="fnr.149" class="footref" href="#fn.149">149</a></sup>

<p>
A table template is nothing but a set of ‘table-cell' and ‘paragraph'
styles for each of the following table cell categories:
</p>

<ul class="org-ul">
<li>- Body
</li>
<li>- First column
</li>
<li>- Last column
</li>
<li>- First row
</li>
<li>- Last row
</li>
<li>- Even row
</li>
<li>- Odd row
</li>
<li>- Even column
</li>
<li>- Odd Column
</li>
</ul>
<p>
The names for the above styles must be chosen based on the name of
the table template using a well-defined convention.
</p>

<p>
The naming convention is better illustrated with an example. For a
table template with the name ‘Custom', the needed style names are
listed in the following table.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Table cell type</th>
<th scope="col" class="left"><code>table-cell</code> style</th>
<th scope="col" class="left"><code>paragraph</code> style</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Body</td>
<td class="left">‘CustomTableCell'</td>
<td class="left">‘CustomTableParagraph'</td>
</tr>

<tr>
<td class="left">First column</td>
<td class="left">‘CustomFirstColumnTableCell'</td>
<td class="left">‘CustomFirstColumnTableParagraph'</td>
</tr>

<tr>
<td class="left">Last column</td>
<td class="left">‘CustomLastColumnTableCell'</td>
<td class="left">‘CustomLastColumnTableParagraph'</td>
</tr>

<tr>
<td class="left">First row</td>
<td class="left">‘CustomFirstRowTableCell'</td>
<td class="left">‘CustomFirstRowTableParagraph'</td>
</tr>

<tr>
<td class="left">Last row</td>
<td class="left">‘CustomLastRowTableCell'</td>
<td class="left">‘CustomLastRowTableParagraph'</td>
</tr>

<tr>
<td class="left">Even row</td>
<td class="left">‘CustomEvenRowTableCell'</td>
<td class="left">‘CustomEvenRowTableParagraph'</td>
</tr>

<tr>
<td class="left">Odd row</td>
<td class="left">‘CustomOddRowTableCell'</td>
<td class="left">‘CustomOddRowTableParagraph'</td>
</tr>

<tr>
<td class="left">Even column</td>
<td class="left">‘CustomEvenColumnTableCell'</td>
<td class="left">‘CustomEvenColumnTableParagraph'</td>
</tr>

<tr>
<td class="left">Odd column</td>
<td class="left">‘CustomOddColumnTableCell'</td>
<td class="left">‘CustomOddColumnTableParagraph'</td>
</tr>
</tbody>
</table>

<p>
To create a table template with the name ‘Custom', define the above
styles in the
<code>&lt;office:automatic-styles&gt;</code>&#x2026;=&lt;/office:automatic-styles&gt;= element of
the content template file (see
<i>Factory styles</i>).
</p>
</li>

<li>Define a table style<sup><a id="fnr.150" name="fnr.150" class="footref" href="#fn.150">150</a></sup>

<p>
To define a table style, create an entry for the style in the
variable <code>org-odt-table-styles</code> and specify the following:
</p>

<ul class="org-ul">
<li>- the name of the table template created in step (1)
</li>
<li>- the set of cell styles in that template that are to be activated
</li>
</ul>
<p>
For example, the entry below defines two different table styles
‘TableWithHeaderRowAndColumn' and ‘TableWithFirstRowandLastRow' based
on the same template ‘Custom'. The styles achieve their intended
effect by selectively activating the individual cell styles in that
template.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-odt-table-styles
      (append org-odt-table-styles
              '(("TableWithHeaderRowAndColumn" "Custom"
                 ((use-first-row-styles . t)
                  (use-first-column-styles . t)))
                ("TableWithFirstRowandLastRow" "Custom"
                 ((use-first-row-styles . t)
                  (use-last-row-styles . t))))))
</pre>
</div>
</li>

<li>Associate a table with the table style

<p>
To do this, specify the table style created in step (2) as part of
the <code>ATTR_ODT</code> line as shown below.
</p>

<pre class="example">
#+ATTR_ODT: :style "TableWithHeaderRowAndColumn"
| Name  | Phone | Age |
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
</pre>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-12-9-12-7" class="outline-5">
<h5 id="sec-12-9-12-7">Validating OpenDocument XML                                      <a id="Validating-OpenDocument-XML" name="Validating-OpenDocument-XML"></a></h5>
<div class="outline-text-5" id="text-12-9-12-7">
<p>
Occasionally, you will discover that the document created by the ODT
exporter cannot be opened by your favorite application. One of the
common reasons for this is that the .odt file is corrupt. In such cases,
you may want to validate the document against the OpenDocument RELAX NG
Compact Syntax (RNC) schema.
</p>

<p>
For de-compressing the .odt file<sup><a id="fnr.151" name="fnr.151" class="footref" href="#fn.151">151</a></sup>: See
<a href="http://www.gnu.org/software/emacs/manual/html_mono/emacs.html#File-Archives">(emacs)File
Archives</a>. For general help with validation (and schema-sensitive
editing) of XML files: See
<a href="http://www.gnu.org/software/emacs/manual/html_mono/nxml-mode.html#Introduction">(nxml-mode)Introduction</a>.
</p>

<p>
If you have ready access to OpenDocument .rnc files and the needed
schema-locating rules in a single folder, you can customize the variable
<code>org-odt-schema-dir</code> to point to that directory. The ODT exporter will
take care of updating the <code>rng-schema-locating-files</code> for you.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-12-10" class="outline-3">
<h3 id="sec-12-10">12.10 Org export                                                   <a id="Org-export" name="Org-export"></a></h3>
<div class="outline-text-3" id="text-12-10">
<p>
<code>org</code> export back-end creates a normalized version of the Org document
in current buffer. In particular, it evaluates Babel code (see
<i>Evaluating code blocks</i>) and removes other
back-ends specific contents.
</p>
</div>

<div id="outline-container-sec-12-10-1" class="outline-4">
<h4 id="sec-12-10-1">Org export commands</h4>
<div class="outline-text-4" id="text-12-10-1">
<p>
C-c C-e O o (<code>org-org-export-to-org</code>)
</p>

<p>
Export as an Org document. For an Org file, myfile.org, the resulting
file will be myfile.org.org. The file will be overwritten without
warning.
</p>

<p>
C-c C-e O O (<code>org-org-export-as-org</code>)
</p>

<p>
Export to a temporary buffer. Do not create a file.
</p>

<p>
C-c C-e O v
</p>

<p>
Export to an Org file, then open it.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12-11" class="outline-3">
<h3 id="sec-12-11">12.11 Texinfo export                                               <a id="Texinfo-export" name="Texinfo-export"></a></h3>
<div class="outline-text-3" id="text-12-11">
<p>
‘texinfo' export back-end generates Texinfo code and can compile it into
an Info file.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">• <a href="#Texinfo-export-commands">Texinfo export commands</a>:</td>
<td class="left">How to invoke Texinfo export</td>
</tr>

<tr>
<td class="left">• <a href="#Texinfo-specific-export-settings">Texinfo specific export settings</a>:</td>
<td class="left">Export settings for Texinfo</td>
</tr>

<tr>
<td class="left">• <a href="#Document-preamble">Document preamble</a>:</td>
<td class="left">File header, title and copyright page</td>
</tr>

<tr>
<td class="left">• <a href="#Headings-and-sectioning-structure">Headings and sectioning structure</a>:</td>
<td class="left">Building document structure</td>
</tr>

<tr>
<td class="left">• <a href="#Indices">Indices</a>:</td>
<td class="left">Creating indices</td>
</tr>

<tr>
<td class="left">• <a href="#Quoting-Texinfo-code">Quoting Texinfo code</a>:</td>
<td class="left">Incorporating literal Texinfo code</td>
</tr>

<tr>
<td class="left">• <a href="#Texinfo-specific-attributes">Texinfo specific attributes</a>:</td>
<td class="left">Controlling Texinfo output</td>
</tr>

<tr>
<td class="left">• <a href="#An-example">An example</a>:</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-12-11-1" class="outline-4">
<h4 id="sec-12-11-1">12.11.1 Texinfo export commands                                   <a id="Texinfo-export-commands" name="Texinfo-export-commands"></a></h4>
<div class="outline-text-4" id="text-12-11-1">
<p>
C-c C-e i t (<code>org-texinfo-export-to-texinfo</code>)
</p>

<p>
Export as a Texinfo file. For an Org file, myfile.org, the resulting
file will be myfile.texi. The file will be overwritten without warning.
</p>

<p>
C-c C-e i i (<code>org-texinfo-export-to-info</code>)
</p>

<p>
Export to Texinfo and then process to an Info file<sup><a id="fnr.152" name="fnr.152" class="footref" href="#fn.152">152</a></sup>.
</p>
</div>
</div>

<div id="outline-container-sec-12-11-2" class="outline-4">
<h4 id="sec-12-11-2">12.11.2 Texinfo specific export settings                          <a id="Texinfo-specific-export-settings" name="Texinfo-specific-export-settings"></a></h4>
<div class="outline-text-4" id="text-12-11-2">
<p>
The Texinfo exporter introduces a number of keywords, similar to the
general options settings described in <a href="#Export-settings">Export
settings</a>.
</p>

<dl class="org-dl">
<dt> ‘SUBTITLE' </dt><dd>The document subtitle.
</dd>

<dt> ‘SUBAUTHOR' </dt><dd>The document subauthor.
</dd>

<dt> ‘TEXINFO<sub>FILENAME'</sub> </dt><dd>The Texinfo filename.
</dd>

<dt> ‘TEXINFO<sub>CLASS'</sub> </dt><dd>The class of the document
(<code>org-texinfo-default-class</code>). This must be a member of
<code>org-texinfo-classes</code>.
</dd>

<dt> ‘TEXINFO<sub>HEADER'</sub> </dt><dd>Arbitrary lines inserted at the end of the
preamble.
</dd>

<dt> ‘TEXINFO<sub>POST</sub><sub>HEADER'</sub> </dt><dd>Arbitrary lines inserted at the end of the
preamble.
</dd>

<dt> ‘TEXINFO<sub>DIR</sub><sub>CATEGORY'</sub> </dt><dd>The directory category of the document.
</dd>

<dt> ‘TEXINFO<sub>DIR</sub><sub>TITLE'</sub> </dt><dd>The directory title of the document.
</dd>

<dt> ‘TEXINFO<sub>DIR</sub><sub>DESC'</sub> </dt><dd>The directory description of the document.
</dd>

<dt> ‘TEXINFO<sub>PRINTED</sub><sub>TITLE'</sub> </dt><dd>The printed title of the document.
</dd>
</dl>

<p>
These keywords are treated in details in the following sections.
</p>
</div>
</div>

<div id="outline-container-sec-12-11-3" class="outline-4">
<h4 id="sec-12-11-3">12.11.3 Document preamble                                         <a id="Document-preamble" name="Document-preamble"></a></h4>
<div class="outline-text-4" id="text-12-11-3">
<p>
When processing a document, ‘texinfo' back-end generates a minimal file
header along with a title page, a copyright page, and a menu. You
control the latter through the structure of the document (see
<a href="#Headings-and-sectioning-structure">Headings and sectioning
structure</a>). Various keywords allow to tweak the other parts. It is
also possible to give directions to install the document in the ‘Top'
node.
</p>
</div>

<div id="outline-container-sec-12-11-3-1" class="outline-5">
<h5 id="sec-12-11-3-1">File header</h5>
<div class="outline-text-5" id="text-12-11-3-1">
<p>
Upon creating the header of a Texinfo file, the back-end guesses a name
for the Info file to be compiled. This may not be a sensible choice,
e.g., if you want to produce the final document in a different
directory. Specify an alternate path with <code>#+TEXINFO_FILENAME</code> keyword
to override the default destination.
</p>

<p>
Along with the output file name, the header contains information about
the language (see <a href="#Export-settings">Export settings</a>) and current
encoding used<sup><a id="fnr.153" name="fnr.153" class="footref" href="#fn.153">153</a></sup>. Insert a <code>#+TEXINFO_HEADER</code> keyword
for each additional command needed, e.g., @code{@synindex}.
</p>

<p>
If you happen to regularly install the same set of commands, it may be
easier to define your own class in <code>org-texinfo-classes</code>, which see. Set
<code>#+TEXINFO_CLASS</code> keyword accordingly in your document to activate it.
</p>
</div>
</div>

<div id="outline-container-sec-12-11-3-2" class="outline-5">
<h5 id="sec-12-11-3-2">Title and copyright page</h5>
<div class="outline-text-5" id="text-12-11-3-2">
<p>
The default template includes a title page for hard copy output. The
title and author displayed on this page are extracted from,
respectively, <code>#+TITLE</code> and <code>#+AUTHOR</code> keywords (see
<a href="#Export-settings">Export settings</a>). It is also possible to print a
different, more specific, title with <code>#+TEXINFO_PRINTED_TITLE</code> keyword,
and add subtitles with <code>#+SUBTITLE</code> keyword. Both expect raw Texinfo
code in their value.
</p>

<p>
Likewise, information brought by <code>#+AUTHOR</code> may not be enough. You can
include other authors with several <code>#+SUBAUTHOR</code> keywords. Values are
also expected to be written in Texinfo code.
</p>

<pre class="example">
#+AUTHOR: Jane Smith
#+SUBAUTHOR: John Doe
#+TEXINFO_PRINTED_TITLE: This Long Title@inlinefmt{tex,@*} Is Broken in @TeX{}
</pre>

<p>
Copying material is defined in a dedicated headline with a non-=nil=
<code>:COPYING:</code> property. The contents are inserted within a <code>@copying</code>
command at the beginning of the document whereas the heading itself does
not appear in the structure of the document.
</p>

<p>
Copyright information is printed on the back of the title page.
</p>

<pre class="example">
* Copying
  :PROPERTIES:
  :COPYING: t
  :END:

  This is a short example of a complete Texinfo file, version 1.0.

  Copyright \copy 2015 Free Software Foundation, Inc.
</pre>
</div>
</div>

<div id="outline-container-sec-12-11-3-3" class="outline-5">
<h5 id="sec-12-11-3-3">The Top node</h5>
<div class="outline-text-5" id="text-12-11-3-3">
<p>
You may ultimately want to install your new Info file in your system.
You can write an appropriate entry in the top level directory specifying
its category and title with, respectively, <code>#+TEXINFO_DIR_CATEGORY</code> and
<code>#+TEXINFO_DIR_TITLE</code>. Optionally, you can add a short description using
<code>#+TEXINFO_DIR_DESC</code>. The following example would write an entry similar
to Org's in the ‘Top' node.
</p>

<pre class="example">
#+TEXINFO_DIR_CATEGORY: Emacs
#+TEXINFO_DIR_TITLE: Org Mode: (org)
#+TEXINFO_DIR_DESC: Outline-based notes management and organizer
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-12-11-4" class="outline-4">
<h4 id="sec-12-11-4">12.11.4 Headings and sectioning structure                         <a id="Headings-and-sectioning-structure" name="Headings-and-sectioning-structure"></a></h4>
<div class="outline-text-4" id="text-12-11-4">
<p>
‘texinfo' uses a pre-defined scheme, or class, to convert headlines into
Texinfo structuring commands. For example, a top level headline appears
as <code>@chapter</code> if it should be numbered or as <code>@unnumbered</code> otherwise. If
you need to use a different set of commands, e.g., to start with <code>@part</code>
instead of <code>@chapter</code>, install a new class in <code>org-texinfo-classes</code>,
then activate it with <code>#+TEXINFO_CLASS</code> keyword. Export process defaults
to <code>org-texinfo-default-class</code> when there is no such keyword in the
document.
</p>

<p>
If a headline's level has no associated structuring command, or is below
a certain threshold (see <a href="#Export-settings">Export settings</a>), that
headline becomes a list in Texinfo output.
</p>

<p>
As an exception, a headline with a non-=nil= <code>:APPENDIX:</code> property
becomes an appendix, independently on its level and the class used.
</p>

<p>
Each regular sectioning structure creates a menu entry, named after the
heading. You can provide a different, e.g., shorter, title in
<code>:ALT_TITLE:</code> property (see <a href="#Table-of-contents">Table of contents</a>).
Optionally, you can specify a description for the item in
<code>:DESCRIPTION:</code> property. E.g.,
</p>

<pre class="example">
* Controlling Screen Display
  :PROPERTIES:
  :ALT_TITLE: Display
  :DESCRIPTION: Controlling Screen Display
  :END:
</pre>
</div>
</div>

<div id="outline-container-sec-12-11-5" class="outline-4">
<h4 id="sec-12-11-5">12.11.5 Indices                                                   <a id="Indices" name="Indices"></a></h4>
<div class="outline-text-4" id="text-12-11-5">
<p>
Index entries are created using dedicated keywords. ‘texinfo' back-end
provides one for each predefined type: <code>#+CINDEX</code>, <code>#+FINDEX</code>,
<code>#+KINDEX</code>, <code>#+PINDEX</code>, <code>#+TINDEX</code> and <code>#+VINDEX</code>. For custom indices,
you can write raw Texinfo code (see <a href="#Quoting-Texinfo-code">Quoting
Texinfo code</a>).
</p>

<pre class="example">
#+CINDEX: Defining indexing entries
</pre>

<p>
To generate an index, you need to set the <code>:INDEX:</code> property of a
headline to an appropriate abbreviation (e.g., ‘cp' or ‘vr'). The
headline is then exported as an unnumbered chapter or section command
and the index is inserted after its contents.
</p>

<pre class="example">
* Concept Index
  :PROPERTIES:
  :INDEX: cp
  :END:
</pre>
</div>
</div>

<div id="outline-container-sec-12-11-6" class="outline-4">
<h4 id="sec-12-11-6">12.11.6 Quoting Texinfo code                                      <a id="Quoting-Texinfo-code" name="Quoting-Texinfo-code"></a></h4>
<div class="outline-text-4" id="text-12-11-6">
<p>
It is possible to insert raw Texinfo code using any of the following
constructs
</p>

<pre class="example">
Richard @@texinfo:@sc{@@Stallman@@texinfo:}@@ commence' GNU.

#+TEXINFO: @need800
This paragraph is preceded by...

#+BEGIN_TEXINFO
@auindex Johnson, Mark
@auindex Lakoff, George
#+END_TEXINFO
</pre>
</div>
</div>

<div id="outline-container-sec-12-11-7" class="outline-4">
<h4 id="sec-12-11-7">12.11.7 Texinfo specific attributes                               <a id="Texinfo-specific-attributes" name="Texinfo-specific-attributes"></a></h4>
<div class="outline-text-4" id="text-12-11-7">
<p>
‘texinfo' back-end understands several attributes in plain lists, tables
and images. They must be specified using an <code>#+ATTR_TEXINFO</code> keyword,
written just above the list, table or image.
</p>
</div>

<div id="outline-container-sec-12-11-7-1" class="outline-5">
<h5 id="sec-12-11-7-1">Plain lists</h5>
<div class="outline-text-5" id="text-12-11-7-1">
<p>
In Texinfo output, description lists appear as two-column tables, using
the default command <code>@table</code>. You can use <code>@ftable</code> or
<code>@vtable=[fn:FOOT161] instead with =:table-type</code> attribute.
</p>

<p>
In any case, these constructs require a highlighting command for entries
in the list. You can provide one with <code>:indic</code> attribute. If you do not,
it defaults to the value stored in <code>org-texinfo-def-table-markup</code>, which
see.
</p>

<pre class="example">
#+ATTR_TEXINFO: :indic @asis
- foo :: This is the text for /foo/, with no highlighting.
</pre>
</div>
</div>

<div id="outline-container-sec-12-11-7-2" class="outline-5">
<h5 id="sec-12-11-7-2">Tables</h5>
<div class="outline-text-5" id="text-12-11-7-2">
<p>
When exporting a table, column widths are deduced from the longest cell
in each column. You can also define them explicitly as fractions of the
line length, using <code>:columns</code> attribute.
</p>

<pre class="example">
#+ATTR_TEXINFO: :columns .5 .5
| a cell | another cell |
</pre>
</div>
</div>

<div id="outline-container-sec-12-11-7-3" class="outline-5">
<h5 id="sec-12-11-7-3">Images</h5>
<div class="outline-text-5" id="text-12-11-7-3">
<p>
Images are links to files with a supported image extension and no
description. Image scaling is set with <code>:width</code> and <code>:height</code>
attributes. You can also use <code>:alt</code> to specify alternate text, as
Texinfo code.
</p>

<pre class="example">
#+ATTR_TEXINFO: :width 1in :alt Alternate @i{text}
[[ridt.pdf]]
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-12-11-8" class="outline-4">
<h4 id="sec-12-11-8">12.11.8 An example                                                <a id="An-example" name="An-example"></a></h4>
<div class="outline-text-4" id="text-12-11-8">
<p>
Here is a thorough example. See
<a href="http://www.gnu.org/software/texinfo/manual/texinfo/texinfo.html#GNU-Sample-Texts">(texinfo)GNU
Sample Texts</a> for an equivalent Texinfo code.
</p>

<pre class="example">
#+MACRO: version 2.0
#+MACRO: updated last updated 4 March 2014

#+OPTIONS: ':t toc:t author:t email:t
#+TITLE: GNU Sample {{{version}}}
#+AUTHOR: A.U. Thor
#+EMAIL: bug-sample@gnu.org
#+LANGUAGE: en

#+TEXINFO_FILENAME: sample.info
#+TEXINFO_HEADER: @syncodeindex pg cp

#+TEXINFO_DIR_CATEGORY: Texinfo documentation system
#+TEXINFO_DIR_TITLE: sample: (sample)
#+TEXINFO_DIR_DESC: Invoking sample

#+TEXINFO_PRINTED_TITLE: GNU Sample
#+SUBTITLE: for version {{{version}}}, {{{updated}}}

* Copying
  :PROPERTIES:
  :COPYING:  t
  :END:

  This manual is for GNU Sample (version {{{version}}},
  {{{updated}}}), which is an example in the Texinfo documentation.

  Copyright @@texinfo:@copyright{}@@ 2013 Free Software Foundation,
  Inc.

  #+BEGIN_QUOTE
  Permission is granted to copy, distribute and/or modify this
  document under the terms of the GNU Free Documentation License,
  Version 1.3 or any later version published by the Free Software
  Foundation; with no Invariant Sections, with no Front-Cover Texts,
  and with no Back-Cover Texts.  A copy of the license is included in
  the section entitled "GNU Free Documentation License".
  #+END_QUOTE

* Invoking sample

  #+PINDEX: sample
  #+CINDEX: invoking @command{sample}

  This is a sample manual.  There is no sample program to invoke, but
  if there were, you could see its basic usage and command line
  options here.

* GNU Free Documentation License
  :PROPERTIES:
  :APPENDIX: t
  :END:

  #+TEXINFO: @include fdl.texi

* Index
  :PROPERTIES:
  :INDEX:    cp
  :END:
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-12-12" class="outline-3">
<h3 id="sec-12-12">12.12 iCalendar export                                             <a id="iCalendar-export" name="iCalendar-export"></a></h3>
<div class="outline-text-3" id="text-12-12">
<p>
Some people use Org mode for keeping track of projects, but still prefer
a standard calendar application for anniversaries and appointments. In
this case it can be useful to show deadlines and other time-stamped
items in Org files in the calendar application. Org mode can export
calendar information in the standard iCalendar format. If you also want
to have TODO entries included in the export, configure the variable
<code>org-icalendar-include-todo</code>. Plain timestamps are exported as VEVENT,
and TODO items as VTODO. It will also create events from deadlines that
are in non-TODO items. Deadlines and scheduling dates in TODO items will
be used to set the start and due dates for the TODO
entry<sup><a id="fnr.154" name="fnr.154" class="footref" href="#fn.154">154</a></sup>. As categories, it will use the tags locally
defined in the heading, and the file/tree category<sup><a id="fnr.155" name="fnr.155" class="footref" href="#fn.155">155</a></sup>.
See the variable <code>org-icalendar-alarm-time</code> for a way to assign alarms
to entries with a time.
</p>

<p>
The iCalendar standard requires each entry to have a globally unique
identifier (UID). Org creates these identifiers during export. If you
set the variable <code>org-icalendar-store-UID</code>, the UID will be stored in
the <code>:ID:</code> property of the entry and re-used next time you report this
entry. Since a single entry can give rise to multiple iCalendar entries
(as a timestamp, a deadline, a scheduled item, and as a TODO item), Org
adds prefixes to the UID, depending on what triggered the inclusion of
the entry. In this way the UID remains unique, but a synchronization
program can still figure out from which entry all the different
instances originate.
</p>

<p>
C-c C-e c f (<code>org-icalendar-export-to-ics</code>)
</p>

<p>
Create iCalendar entries for the current buffer and store them in the
same directory, using a file extension .ics.
</p>

<p>
C-c C-e c a (<code>org-icalendar-export-agenda-files</code>)
</p>

<p>
Like C-c C-e c f, but do this for all files in <code>org-agenda-files</code>. For
each of these files, a separate iCalendar file will be written.
</p>

<p>
C-c C-e c c (<code>org-icalendar-combine-agenda-files</code>)
</p>

<p>
Create a single large iCalendar file from all files in
<code>org-agenda-files</code> and write it to the file given by
<code>org-icalendar-combined-agenda-file</code>.
</p>

<p>
The export will honor SUMMARY, DESCRIPTION and
LOCATION<sup><a id="fnr.156" name="fnr.156" class="footref" href="#fn.156">156</a></sup> properties if the selected entries have
them. If not, the summary will be derived from the headline, and the
description from the body (limited to <code>org-icalendar-include-body</code>
characters).
</p>

<p>
How this calendar is best read and updated, depends on the application
you are using. The FAQ covers this issue.
</p>
</div>
</div>

<div id="outline-container-sec-12-13" class="outline-3">
<h3 id="sec-12-13">12.13 Other built-in back-ends                                     <a id="Other-built_in-back_ends" name="Other-built_in-back_ends"></a></h3>
<div class="outline-text-3" id="text-12-13">
<p>
On top of the aforementioned back-ends, Org comes with other built-in
ones:
</p>

<ul class="org-ul">
<li>ox-man.el: export to a man page.
</li>
</ul>

<p>
To activate these export back-end, customize <code>org-export-backends</code> or
load them directly with e.g., <code>(require 'ox-man)</code>. This will add new
keys in the export dispatcher (see <a href="#The-export-dispatcher">The export
dispatcher</a>).
</p>

<p>
See the comment section of these files for more information on how to
use them.
</p>
</div>
</div>

<div id="outline-container-sec-12-14" class="outline-3">
<h3 id="sec-12-14">12.14 Export in foreign buffers                                    <a id="Export-in-foreign-buffers" name="Export-in-foreign-buffers"></a></h3>
<div class="outline-text-3" id="text-12-14">
<p>
Most built-in back-ends come with a command to convert the selected
region into a selected format and replace this region by the exported
output. Here is a list of such conversion commands:
</p>

<dl class="org-dl">
<dt> <code>org-html-convert-region-to-html</code> </dt><dd>Convert the selected region into
HTML.
</dd>

<dt> <code>org-latex-convert-region-to-latex</code> </dt><dd>Convert the selected region
into LaTeX.
</dd>

<dt> <code>org-texinfo-convert-region-to-texinfo</code> </dt><dd>Convert the selected
region into <code>Texinfo</code>.
</dd>

<dt> <code>org-md-convert-region-to-md</code> </dt><dd>Convert the selected region into
<code>MarkDown</code>.
</dd>
</dl>

<p>
This is particularly useful for converting tables and lists in foreign
buffers. E.g., in an HTML buffer, you can turn on <code>orgstruct-mode</code>, then
use Org commands for editing a list, and finally select and convert the
list with <code>M-x org-html-convert-region-to-html RET</code>.
</p>
</div>
</div>

<div id="outline-container-sec-12-15" class="outline-3">
<h3 id="sec-12-15">12.15 Advanced configuration                                       <a id="Advanced-configuration" name="Advanced-configuration"></a></h3>
<div class="outline-text-3" id="text-12-15">
</div><div id="outline-container-sec-12-15-1" class="outline-4">
<h4 id="sec-12-15-1">Hooks</h4>
<div class="outline-text-4" id="text-12-15-1">
<p>
Two hooks are run during the first steps of the export process. The
first one, <code>org-export-before-processing-hook</code> is called before
expanding macros, Babel code and include keywords in the buffer. The
second one, <code>org-export-before-parsing-hook</code>, as its name suggests,
happens just before parsing the buffer. Their main use is for heavy
duties, that is duties involving structural modifications of the
document. For example, one may want to remove every headline in the
buffer during export. The following code can achieve this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun my-headline-removal (backend)
  "Remove all headlines in the current buffer.
BACKEND is the export back-end being used, as a symbol."
  (org-map-entries
   (lambda () (delete-region (point) (progn (forward-line) (point))))))

(add-hook 'org-export-before-parsing-hook 'my-headline-removal)
</pre>
</div>

<p>
Note that functions used in these hooks require a mandatory argument, a
symbol representing the back-end used.
</p>
</div>
</div>

<div id="outline-container-sec-12-15-2" class="outline-4">
<h4 id="sec-12-15-2">Filters</h4>
<div class="outline-text-4" id="text-12-15-2">
<p>
Filters are lists of functions applied on a specific part of the output
from a given back-end. More explicitly, each time a back-end transforms
an Org object or element into another language, all functions within a
given filter type are called in turn on the string produced. The string
returned by the last function will be the one used in the final output.
</p>

<p>
There are filter sets for each type of element or object, for plain
text, for the parse tree, for the export options and for the final
output. They are all named after the same scheme:
<code>org-export-filter-TYPE-functions</code>, where <code>TYPE</code> is the type targeted by
the filter. Valid types are:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">body</td>
<td class="left">bold</td>
<td class="left">babel-call</td>
</tr>

<tr>
<td class="left">center-block</td>
<td class="left">clock</td>
<td class="left">code</td>
</tr>

<tr>
<td class="left">diary-sexp</td>
<td class="left">drawer</td>
<td class="left">dynamic-block</td>
</tr>

<tr>
<td class="left">entity</td>
<td class="left">example-block</td>
<td class="left">export-block</td>
</tr>

<tr>
<td class="left">export-snippet</td>
<td class="left">final-output</td>
<td class="left">fixed-width</td>
</tr>

<tr>
<td class="left">footnote-definition</td>
<td class="left">footnote-reference</td>
<td class="left">headline</td>
</tr>

<tr>
<td class="left">horizontal-rule</td>
<td class="left">inline-babel-call</td>
<td class="left">inline-src-block</td>
</tr>

<tr>
<td class="left">inlinetask</td>
<td class="left">italic</td>
<td class="left">item</td>
</tr>

<tr>
<td class="left">keyword</td>
<td class="left">latex-environment</td>
<td class="left">latex-fragment</td>
</tr>

<tr>
<td class="left">line-break</td>
<td class="left">link</td>
<td class="left">node-property</td>
</tr>

<tr>
<td class="left">options</td>
<td class="left">paragraph</td>
<td class="left">parse-tree</td>
</tr>

<tr>
<td class="left">plain-list</td>
<td class="left">plain-text</td>
<td class="left">planning</td>
</tr>

<tr>
<td class="left">property-drawer</td>
<td class="left">quote-block</td>
<td class="left">radio-target</td>
</tr>

<tr>
<td class="left">section</td>
<td class="left">special-block</td>
<td class="left">src-block</td>
</tr>

<tr>
<td class="left">statistics-cookie</td>
<td class="left">strike-through</td>
<td class="left">subscript</td>
</tr>

<tr>
<td class="left">superscript</td>
<td class="left">table</td>
<td class="left">table-cell</td>
</tr>

<tr>
<td class="left">table-row</td>
<td class="left">target</td>
<td class="left">timestamp</td>
</tr>

<tr>
<td class="left">underline</td>
<td class="left">verbatim</td>
<td class="left">verse-block</td>
</tr>
</tbody>
</table>

<p>
For example, the following snippet allows me to use non-breaking spaces
in the Org buffer and get them translated into LaTeX without using the
<code>\nbsp</code> macro (where <code>_</code> stands for the non-breaking space):
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun my-latex-filter-nobreaks (text backend info)
  "Ensure \"_\" are properly handled in LaTeX export."
  (when (org-export-derived-backend-p backend 'latex)
        (replace-regexp-in-string "_" "~" text)))

(add-to-list 'org-export-filter-plain-text-functions
             'my-latex-filter-nobreaks)
</pre>
</div>

<p>
Three arguments must be provided to a filter: the code being changed,
the back-end used, and some information about the export process. You
can safely ignore the third argument for most purposes. Note the use of
<code>org-export-derived-backend-p</code>, which ensures that the filter will only
be applied when using <code>latex</code> back-end or any other back-end derived
from it (e.g., <code>beamer</code>).
</p>
</div>
</div>

<div id="outline-container-sec-12-15-3" class="outline-4">
<h4 id="sec-12-15-3">Defining filters for individual files</h4>
<div class="outline-text-4" id="text-12-15-3">
<p>
You can customize the export for just a specific file by binding export
filter variables using <code>#+BIND</code>. Here is an example where we introduce
two filters, one to remove brackets from time stamps, and one to
entirely remove any strike-through text. The functions doing the
filtering are defined in an src block that allows the filter function
definitions to exist in the file itself and ensures that the functions
will be there when needed.
</p>

<pre class="example">
#+BIND: org-export-filter-timestamp-functions (tmp-f-timestamp)
#+BIND: org-export-filter-strike-through-functions (tmp-f-strike-through)
#+begin_src emacs-lisp :exports results :results none
  (defun tmp-f-timestamp (s backend info)
    (replace-regexp-in-string "&amp;[lg]t;\\|[][]" "" s))
  (defun tmp-f-strike-through (s backend info) "")
#+end_src
</pre>
</div>
</div>

<div id="outline-container-sec-12-15-4" class="outline-4">
<h4 id="sec-12-15-4">Extending an existing back-end</h4>
<div class="outline-text-4" id="text-12-15-4">
<p>
This is obviously the most powerful customization, since the changes
happen at the parser level. Indeed, some export back-ends are built as
extensions of other ones (e.g., Markdown back-end an extension of HTML
back-end).
</p>

<p>
Extending a back-end means that if an element type is not transcoded by
the new back-end, it will be handled by the original one. Hence you can
extend specific parts of a back-end without too much work.
</p>

<p>
As an example, imagine we want the <code>ascii</code> back-end to display the
language used in a source block, when it is available, but only when
some attribute is non-=nil=, like the following:
</p>

<pre class="example">
#+ATTR_ASCII: :language t
</pre>

<p>
Because that back-end is lacking in that area, we are going to create a
new back-end, <code>my-ascii</code> that will do the job.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun my-ascii-src-block (src-block contents info)
  "Transcode a SRC-BLOCK element from Org to ASCII.
CONTENTS is nil.  INFO is a plist used as a communication
channel."
  (if (not (org-export-read-attribute :attr_ascii src-block :language))
    (org-export-with-backend 'ascii src-block contents info)
  (concat
   (format ",--[ %s ]--\n%s`----"
           (org-element-property :language src-block)
           (replace-regexp-in-string
            "^" "| "
            (org-element-normalize-string
             (org-export-format-code-default src-block info)))))))

(org-export-define-derived-backend 'my-ascii 'ascii
  :translate-alist '((src-block . my-ascii-src-block)))
</pre>
</div>

<p>
The <code>my-ascii-src-block</code> function looks at the attribute above the
element. If it isn't true, it gives hand to the <code>ascii</code> back-end.
Otherwise, it creates a box around the code, leaving room for the
language. A new back-end is then created. It only changes its behavior
when translating <code>src-block</code> type element. Now, all it takes to use the
new back-end is calling the following from an Org buffer:
</p>

<pre class="example">
(org-export-to-buffer 'my-ascii "*Org MY-ASCII Export*")
</pre>

<p>
It is obviously possible to write an interactive function for this,
install it in the export dispatcher menu, and so on.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13">13 Publishing</h2>
<div class="outline-text-2" id="text-13">
<p>
Org includes a publishing management system that allows you to configure
automatic HTML conversion of <i>projects</i> composed of interlinked org
files. You can also configure Org to automatically upload your exported
HTML pages and related attachments, such as images and source code
files, to a web server.
</p>

<p>
You can also use Org to convert files into PDF, or even combine HTML and
PDF conversion so that files are available in both formats on the
server.
</p>

<p>
Publishing has been contributed to Org by David O'Toole.
</p>
</div>

<div id="outline-container-sec-13-1" class="outline-3">
<h3 id="sec-13-1">13.1 Configuration</h3>
<div class="outline-text-3" id="text-13-1">
<p>
Publishing needs significant configuration to specify files, destination
and many other properties of a project.
</p>
</div>

<div id="outline-container-sec-13-1-1" class="outline-4">
<h4 id="sec-13-1-1">13.1.1 The variable <code>org-publish-project-alist</code></h4>
<div class="outline-text-4" id="text-13-1-1">
<p>
Publishing is configured almost entirely through setting the value of
one variable, called <code>org-publish-project-alist</code>. Each element of the
list configures one project, and may be in one of the two following
forms:
</p>

<div class="org-src-container">

<pre class="src src-lisp">   ("project-name" :property value :property value ...)
     i.e., a well-formed property list with alternating keys and values
or
   ("project-name" :components ("project-name" "project-name" ...))
</pre>
</div>

<p>
In both cases, projects are configured by specifying property values. A
project defines the set of files that will be published, as well as the
publishing configuration to use when publishing those files. When a
project takes the second form listed above, the individual members of
the <code>:components</code> property are taken to be sub-projects, which group
together files requiring different publishing options. When you publish
such a “meta-project”, all the components will also be published, in the
sequence given.
</p>
</div>
</div>

<div id="outline-container-sec-13-1-2" class="outline-4">
<h4 id="sec-13-1-2">13.1.2 Sources and destinations for files</h4>
<div class="outline-text-4" id="text-13-1-2">
<p>
Most properties are optional, but some should always be set. In
particular, Org needs to know where to look for source files, and where
to put published files.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:base-directory</code></td>
<td class="left">Directory containing publishing source files</td>
</tr>

<tr>
<td class="left"><code>:publishing-directory</code></td>
<td class="left">Directory where output files will be published. You can directly publish to a web server using a file name syntax appropriate for the Emacs tramp package. Or you can publish to a local directory and use external tools to upload your website (see <i>Uploading files</i>).</td>
</tr>

<tr>
<td class="left"><code>:preparation-function</code></td>
<td class="left">Function or list of functions to be called before starting the publishing process, for example, to run <code>make</code> for updating files to be published. The project property list is scoped into this call as the variable <code>project-plist</code>.</td>
</tr>

<tr>
<td class="left"><code>:completion-function</code></td>
<td class="left">Function or list of functions called after finishing the publishing process, for example, to change permissions of the resulting files. The project property list is scoped into this call as the variable <code>project-plist</code>.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-3" class="outline-4">
<h4 id="sec-13-1-3">13.1.3 Selecting files</h4>
<div class="outline-text-4" id="text-13-1-3">
<p>
By default, all files with extension .org in the base directory are
considered part of the project. This can be modified by setting the
properties
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:base-extension</code></td>
<td class="left">Extension (without the dot!) of source files. This actually is a regular expression. Set this to the symbol <code>any</code> if you want to get all files in <code>:base-directory</code>, even without extension.</td>
</tr>

<tr>
<td class="left"><code>:exclude</code></td>
<td class="left">Regular expression to match file names that should not be published, even though they have been selected on the basis of their extension.</td>
</tr>

<tr>
<td class="left"><code>:include</code></td>
<td class="left">List of files to be included regardless of <code>:base-extension</code> and <code>:exclude</code>.</td>
</tr>

<tr>
<td class="left"><code>:recursive</code></td>
<td class="left">non-=nil= means, check base-directory recursively for files to publish.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-4" class="outline-4">
<h4 id="sec-13-1-4">13.1.4 Publishing action</h4>
<div class="outline-text-4" id="text-13-1-4">
<p>
Publishing means that a file is copied to the destination directory and
possibly transformed in the process. The default transformation is to
export Org files as HTML files, and this is done by the function
<code>org-html-publish-to-html</code>, which calls the HTML exporter (see
<a href="#HTML-export">HTML export</a>). But you also can publish your content as
PDF files using <code>org-latex-publish-to-pdf</code> or as <code>ascii</code>, <code>Texinfo</code>,
etc., using the corresponding functions.
</p>

<p>
If you want to publish the Org file as an <code>.org</code> file but with the
<i>archived</i>, <i>commented</i> and <i>tag-excluded</i> trees removed, use the
function <code>org-org-publish-to-org</code>. This will produce file.org and put it
in the publishing directory. If you want a htmlized version of this
file, set the parameter <code>:htmlized-source</code> to <code>t</code>, it will produce
file.org.html in the publishing directory<sup><a id="fnr.157" name="fnr.157" class="footref" href="#fn.157">157</a></sup>.
</p>

<p>
Other files like images only need to be copied to the publishing
destination. For this you can use <code>org-publish-attachment</code>. For non-org
files, you always need to specify the publishing function:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:publishing-function</code></td>
<td class="left">Function executing the publication of a file. This may also be a list of functions, which will all be called in turn.</td>
</tr>

<tr>
<td class="left"><code>:htmlized-source</code></td>
<td class="left">non-=nil= means, publish htmlized source.</td>
</tr>
</tbody>
</table>

<p>
The function must accept three arguments: a property list containing at
least a <code>:publishing-directory</code> property, the name of the file to be
published and the path to the publishing directory of the output file.
It should take the specified file, make the necessary transformation (if
any) and place the result into the destination folder.
</p>
</div>
</div>

<div id="outline-container-sec-13-1-5" class="outline-4">
<h4 id="sec-13-1-5">13.1.5 Options for the exporters</h4>
<div class="outline-text-4" id="text-13-1-5">
<p>
The property list can be used to set export options during the
publishing process. In most cases, these properties correspond to user
variables in Org. While some properties are available for all export
back-ends, most of them are back-end specific. The following sections
list properties along with the variable they belong to. See the
documentation string of these options for details.
</p>

<p>
When a property is given a value in <code>org-publish-project-alist</code>, its
setting overrides the value of the corresponding user variable (if any)
during publishing. Options set within a file (see
<a href="#Export-settings">Export settings</a>), however, override everything.
</p>
</div>
</div>

<div id="outline-container-sec-13-1-6" class="outline-4">
<h4 id="sec-13-1-6">Generic properties</h4>
<div class="outline-text-4" id="text-13-1-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:archived-trees</code></td>
<td class="left"><code>org-export-with-archived-trees</code></td>
</tr>

<tr>
<td class="left"><code>:exclude-tags</code></td>
<td class="left"><code>org-export-exclude-tags</code></td>
</tr>

<tr>
<td class="left"><code>:headline-levels</code></td>
<td class="left"><code>org-export-headline-levels</code></td>
</tr>

<tr>
<td class="left"><code>:language</code></td>
<td class="left"><code>org-export-default-language</code></td>
</tr>

<tr>
<td class="left"><code>:preserve-breaks</code></td>
<td class="left"><code>org-export-preserve-breaks</code></td>
</tr>

<tr>
<td class="left"><code>:section-numbers</code></td>
<td class="left"><code>org-export-with-section-numbers</code></td>
</tr>

<tr>
<td class="left"><code>:select-tags</code></td>
<td class="left"><code>org-export-select-tags</code></td>
</tr>

<tr>
<td class="left"><code>:with-author</code></td>
<td class="left"><code>org-export-with-author</code></td>
</tr>

<tr>
<td class="left"><code>:with-creator</code></td>
<td class="left"><code>org-export-with-creator</code></td>
</tr>

<tr>
<td class="left"><code>:with-date</code></td>
<td class="left"><code>org-export-with-date</code></td>
</tr>

<tr>
<td class="left"><code>:with-drawers</code></td>
<td class="left"><code>org-export-with-drawers</code></td>
</tr>

<tr>
<td class="left"><code>:with-email</code></td>
<td class="left"><code>org-export-with-email</code></td>
</tr>

<tr>
<td class="left"><code>:with-emphasize</code></td>
<td class="left"><code>org-export-with-emphasize</code></td>
</tr>

<tr>
<td class="left"><code>:with-fixed-width</code></td>
<td class="left"><code>org-export-with-fixed-width</code></td>
</tr>

<tr>
<td class="left"><code>:with-footnotes</code></td>
<td class="left"><code>org-export-with-footnotes</code></td>
</tr>

<tr>
<td class="left"><code>:with-latex</code></td>
<td class="left"><code>org-export-with-latex</code></td>
</tr>

<tr>
<td class="left"><code>:with-planning</code></td>
<td class="left"><code>org-export-with-planning</code></td>
</tr>

<tr>
<td class="left"><code>:with-priority</code></td>
<td class="left"><code>org-export-with-priority</code></td>
</tr>

<tr>
<td class="left"><code>:with-properties</code></td>
<td class="left"><code>org-export-with-properties</code></td>
</tr>

<tr>
<td class="left"><code>:with-special-strings</code></td>
<td class="left"><code>org-export-with-special-strings</code></td>
</tr>

<tr>
<td class="left"><code>:with-sub-superscript</code></td>
<td class="left"><code>org-export-with-sub-superscripts</code></td>
</tr>

<tr>
<td class="left"><code>:with-tables</code></td>
<td class="left"><code>org-export-with-tables</code></td>
</tr>

<tr>
<td class="left"><code>:with-tags</code></td>
<td class="left"><code>org-export-with-tags</code></td>
</tr>

<tr>
<td class="left"><code>:with-tasks</code></td>
<td class="left"><code>org-export-with-tasks</code></td>
</tr>

<tr>
<td class="left"><code>:with-timestamps</code></td>
<td class="left"><code>org-export-with-timestamps</code></td>
</tr>

<tr>
<td class="left"><code>:with-title</code></td>
<td class="left"><code>org-export-with-title</code></td>
</tr>

<tr>
<td class="left"><code>:with-toc</code></td>
<td class="left"><code>org-export-with-toc</code></td>
</tr>

<tr>
<td class="left"><code>:with-todo-keywords</code></td>
<td class="left"><code>org-export-with-todo-keywords</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-7" class="outline-4">
<h4 id="sec-13-1-7">ASCII specific properties</h4>
<div class="outline-text-4" id="text-13-1-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:ascii-bullets</code></td>
<td class="left"><code>org-ascii-bullets</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-caption-above</code></td>
<td class="left"><code>org-ascii-caption-above</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-charset</code></td>
<td class="left"><code>org-ascii-charset</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-global-margin</code></td>
<td class="left"><code>org-ascii-global-margin</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-format-drawer-function</code></td>
<td class="left"><code>org-ascii-format-drawer-function</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-format-inlinetask-function</code></td>
<td class="left"><code>org-ascii-format-inlinetask-function</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-headline-spacing</code></td>
<td class="left"><code>org-ascii-headline-spacing</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-indented-line-width</code></td>
<td class="left"><code>org-ascii-indented-line-width</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-inlinetask-width</code></td>
<td class="left"><code>org-ascii-inlinetask-width</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-inner-margin</code></td>
<td class="left"><code>org-ascii-inner-margin</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-links-to-notes</code></td>
<td class="left"><code>org-ascii-links-to-notes</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-list-margin</code></td>
<td class="left"><code>org-ascii-list-margin</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-paragraph-spacing</code></td>
<td class="left"><code>org-ascii-paragraph-spacing</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-quote-margin</code></td>
<td class="left"><code>org-ascii-quote-margin</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-table-keep-all-vertical-lines</code></td>
<td class="left"><code>org-ascii-table-keep-all-vertical-lines</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-table-use-ascii-art</code></td>
<td class="left"><code>org-ascii-table-use-ascii-art</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-table-widen-columns</code></td>
<td class="left"><code>org-ascii-table-widen-columns</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-text-width</code></td>
<td class="left"><code>org-ascii-text-width</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-underline</code></td>
<td class="left"><code>org-ascii-underline</code></td>
</tr>

<tr>
<td class="left"><code>:ascii-verbatim-format</code></td>
<td class="left"><code>org-ascii-verbatim-format</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-8" class="outline-4">
<h4 id="sec-13-1-8">Beamer specific properties</h4>
<div class="outline-text-4" id="text-13-1-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:beamer-theme</code></td>
<td class="left"><code>org-beamer-theme</code></td>
</tr>

<tr>
<td class="left"><code>:beamer-column-view-format</code></td>
<td class="left"><code>org-beamer-column-view-format</code></td>
</tr>

<tr>
<td class="left"><code>:beamer-environments-extra</code></td>
<td class="left"><code>org-beamer-environments-extra</code></td>
</tr>

<tr>
<td class="left"><code>:beamer-frame-default-options</code></td>
<td class="left"><code>org-beamer-frame-default-options</code></td>
</tr>

<tr>
<td class="left"><code>:beamer-outline-frame-options</code></td>
<td class="left"><code>org-beamer-outline-frame-options</code></td>
</tr>

<tr>
<td class="left"><code>:beamer-outline-frame-title</code></td>
<td class="left"><code>org-beamer-outline-frame-title</code></td>
</tr>

<tr>
<td class="left"><code>:beamer-subtitle-format</code></td>
<td class="left"><code>org-beamer-subtitle-format</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-9" class="outline-4">
<h4 id="sec-13-1-9">HTML specific properties</h4>
<div class="outline-text-4" id="text-13-1-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:html-allow-name-attribute-in-anchors</code></td>
<td class="left"><code>org-html-allow-name-attribute-in-anchors</code></td>
</tr>

<tr>
<td class="left"><code>:html-checkbox-type</code></td>
<td class="left"><code>org-html-checkbox-type</code></td>
</tr>

<tr>
<td class="left"><code>:html-container</code></td>
<td class="left"><code>org-html-container-element</code></td>
</tr>

<tr>
<td class="left"><code>:html-divs</code></td>
<td class="left"><code>org-html-divs</code></td>
</tr>

<tr>
<td class="left"><code>:html-doctype</code></td>
<td class="left"><code>org-html-doctype</code></td>
</tr>

<tr>
<td class="left"><code>:html-extension</code></td>
<td class="left"><code>org-html-extension</code></td>
</tr>

<tr>
<td class="left"><code>:html-footnote-format</code></td>
<td class="left"><code>org-html-footnote-format</code></td>
</tr>

<tr>
<td class="left"><code>:html-footnote-separator</code></td>
<td class="left"><code>org-html-footnote-separator</code></td>
</tr>

<tr>
<td class="left"><code>:html-footnotes-section</code></td>
<td class="left"><code>org-html-footnotes-section</code></td>
</tr>

<tr>
<td class="left"><code>:html-format-drawer-function</code></td>
<td class="left"><code>org-html-format-drawer-function</code></td>
</tr>

<tr>
<td class="left"><code>:html-format-headline-function</code></td>
<td class="left"><code>org-html-format-headline-function</code></td>
</tr>

<tr>
<td class="left"><code>:html-format-inlinetask-function</code></td>
<td class="left"><code>org-html-format-inlinetask-function</code></td>
</tr>

<tr>
<td class="left"><code>:html-head-extra</code></td>
<td class="left"><code>org-html-head-extra</code></td>
</tr>

<tr>
<td class="left"><code>:html-head-include-default-style</code></td>
<td class="left"><code>org-html-head-include-default-style</code></td>
</tr>

<tr>
<td class="left"><code>:html-head-include-scripts</code></td>
<td class="left"><code>org-html-head-include-scripts</code></td>
</tr>

<tr>
<td class="left"><code>:html-head</code></td>
<td class="left"><code>org-html-head</code></td>
</tr>

<tr>
<td class="left"><code>:html-home/up-format</code></td>
<td class="left"><code>org-html-home/up-format</code></td>
</tr>

<tr>
<td class="left"><code>:html-html5-fancy</code></td>
<td class="left"><code>org-html-html5-fancy</code></td>
</tr>

<tr>
<td class="left"><code>:html-indent</code></td>
<td class="left"><code>org-html-indent</code></td>
</tr>

<tr>
<td class="left"><code>:html-infojs-options</code></td>
<td class="left"><code>org-html-infojs-options</code></td>
</tr>

<tr>
<td class="left"><code>:html-infojs-template</code></td>
<td class="left"><code>org-html-infojs-template</code></td>
</tr>

<tr>
<td class="left"><code>:html-inline-image-rules</code></td>
<td class="left"><code>org-html-inline-image-rules</code></td>
</tr>

<tr>
<td class="left"><code>:html-inline-images</code></td>
<td class="left"><code>org-html-inline-images</code></td>
</tr>

<tr>
<td class="left"><code>:html-link-home</code></td>
<td class="left"><code>org-html-link-home</code></td>
</tr>

<tr>
<td class="left"><code>:html-link-org-files-as-html</code></td>
<td class="left"><code>org-html-link-org-files-as-html</code></td>
</tr>

<tr>
<td class="left"><code>:html-link-up</code></td>
<td class="left"><code>org-html-link-up</code></td>
</tr>

<tr>
<td class="left"><code>:html-link-use-abs-url</code></td>
<td class="left"><code>org-html-link-use-abs-url</code></td>
</tr>

<tr>
<td class="left"><code>:html-mathjax-options</code></td>
<td class="left"><code>org-html-mathjax-options</code></td>
</tr>

<tr>
<td class="left"><code>:html-mathjax-template</code></td>
<td class="left"><code>org-html-mathjax-template</code></td>
</tr>

<tr>
<td class="left"><code>:html-metadata-timestamp-format</code></td>
<td class="left"><code>org-html-metadata-timestamp-format</code></td>
</tr>

<tr>
<td class="left"><code>:html-postamble-format</code></td>
<td class="left"><code>org-html-postamble-format</code></td>
</tr>

<tr>
<td class="left"><code>:html-postamble</code></td>
<td class="left"><code>org-html-postamble</code></td>
</tr>

<tr>
<td class="left"><code>:html-preamble-format</code></td>
<td class="left"><code>org-html-preamble-format</code></td>
</tr>

<tr>
<td class="left"><code>:html-preamble</code></td>
<td class="left"><code>org-html-preamble</code></td>
</tr>

<tr>
<td class="left"><code>:html-table-align-individual-fields</code></td>
<td class="left"><code>org-html-table-align-individual-fields</code></td>
</tr>

<tr>
<td class="left"><code>:html-table-attributes</code></td>
<td class="left"><code>org-html-table-default-attributes</code></td>
</tr>

<tr>
<td class="left"><code>:html-table-caption-above</code></td>
<td class="left"><code>org-html-table-caption-above</code></td>
</tr>

<tr>
<td class="left"><code>:html-table-data-tags</code></td>
<td class="left"><code>org-html-table-data-tags</code></td>
</tr>

<tr>
<td class="left"><code>:html-table-header-tags</code></td>
<td class="left"><code>org-html-table-header-tags</code></td>
</tr>

<tr>
<td class="left"><code>:html-table-row-tags</code></td>
<td class="left"><code>org-html-table-row-tags</code></td>
</tr>

<tr>
<td class="left"><code>:html-table-use-header-tags-for-first-column</code></td>
<td class="left"><code>org-html-table-use-header-tags-for-first-column</code></td>
</tr>

<tr>
<td class="left"><code>:html-tag-class-prefix</code></td>
<td class="left"><code>org-html-tag-class-prefix</code></td>
</tr>

<tr>
<td class="left"><code>:html-text-markup-alist</code></td>
<td class="left"><code>org-html-text-markup-alist</code></td>
</tr>

<tr>
<td class="left"><code>:html-todo-kwd-class-prefix</code></td>
<td class="left"><code>org-html-todo-kwd-class-prefix</code></td>
</tr>

<tr>
<td class="left"><code>:html-toplevel-hlevel</code></td>
<td class="left"><code>org-html-toplevel-hlevel</code></td>
</tr>

<tr>
<td class="left"><code>:html-use-infojs</code></td>
<td class="left"><code>org-html-use-infojs</code></td>
</tr>

<tr>
<td class="left"><code>:html-use-unicode-chars</code></td>
<td class="left"><code>org-html-use-unicode-chars</code></td>
</tr>

<tr>
<td class="left"><code>:html-validation-link</code></td>
<td class="left"><code>org-html-validation-link</code></td>
</tr>

<tr>
<td class="left"><code>:html-viewport</code></td>
<td class="left"><code>org-html-viewport</code></td>
</tr>

<tr>
<td class="left"><code>:html-xml-declaration</code></td>
<td class="left"><code>org-html-xml-declaration</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-10" class="outline-4">
<h4 id="sec-13-1-10">LaTeX specific properties</h4>
<div class="outline-text-4" id="text-13-1-10">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:latex-active-timestamp-format</code></td>
<td class="left"><code>org-latex-active-timestamp-format</code></td>
</tr>

<tr>
<td class="left"><code>:latex-caption-above</code></td>
<td class="left"><code>org-latex-caption-above</code></td>
</tr>

<tr>
<td class="left"><code>:latex-classes</code></td>
<td class="left"><code>org-latex-classes</code></td>
</tr>

<tr>
<td class="left"><code>:latex-class</code></td>
<td class="left"><code>org-latex-default-class</code></td>
</tr>

<tr>
<td class="left"><code>:latex-default-figure-position</code></td>
<td class="left"><code>org-latex-default-figure-position</code></td>
</tr>

<tr>
<td class="left"><code>:latex-default-table-environment</code></td>
<td class="left"><code>org-latex-default-table-environment</code></td>
</tr>

<tr>
<td class="left"><code>:latex-default-table-mode</code></td>
<td class="left"><code>org-latex-default-table-mode</code></td>
</tr>

<tr>
<td class="left"><code>:latex-diary-timestamp-format</code></td>
<td class="left"><code>org-latex-diary-timestamp-format</code></td>
</tr>

<tr>
<td class="left"><code>:latex-footnote-separator</code></td>
<td class="left"><code>org-latex-footnote-separator</code></td>
</tr>

<tr>
<td class="left"><code>:latex-format-drawer-function</code></td>
<td class="left"><code>org-latex-format-drawer-function</code></td>
</tr>

<tr>
<td class="left"><code>:latex-format-headline-function</code></td>
<td class="left"><code>org-latex-format-headline-function</code></td>
</tr>

<tr>
<td class="left"><code>:latex-format-inlinetask-function</code></td>
<td class="left"><code>org-latex-format-inlinetask-function</code></td>
</tr>

<tr>
<td class="left"><code>:latex-hyperref-template</code></td>
<td class="left"><code>org-latex-hyperref-template</code></td>
</tr>

<tr>
<td class="left"><code>:latex-image-default-height</code></td>
<td class="left"><code>org-latex-image-default-height</code></td>
</tr>

<tr>
<td class="left"><code>:latex-image-default-option</code></td>
<td class="left"><code>org-latex-image-default-option</code></td>
</tr>

<tr>
<td class="left"><code>:latex-image-default-width</code></td>
<td class="left"><code>org-latex-image-default-width</code></td>
</tr>

<tr>
<td class="left"><code>:latex-inactive-timestamp-format</code></td>
<td class="left"><code>org-latex-inactive-timestamp-format</code></td>
</tr>

<tr>
<td class="left"><code>:latex-inline-image-rules</code></td>
<td class="left"><code>org-latex-inline-image-rules</code></td>
</tr>

<tr>
<td class="left"><code>:latex-link-with-unknown-path-format</code></td>
<td class="left"><code>org-latex-link-with-unknown-path-format</code></td>
</tr>

<tr>
<td class="left"><code>:latex-listings-langs</code></td>
<td class="left"><code>org-latex-listings-langs</code></td>
</tr>

<tr>
<td class="left"><code>:latex-listings-options</code></td>
<td class="left"><code>org-latex-listings-options</code></td>
</tr>

<tr>
<td class="left"><code>:latex-listings</code></td>
<td class="left"><code>org-latex-listings</code></td>
</tr>

<tr>
<td class="left"><code>:latex-minted-langs</code></td>
<td class="left"><code>org-latex-minted-langs</code></td>
</tr>

<tr>
<td class="left"><code>:latex-minted-options</code></td>
<td class="left"><code>org-latex-minted-options</code></td>
</tr>

<tr>
<td class="left"><code>:latex-prefer-user-labels</code></td>
<td class="left"><code>org-latex-prefer-user-labels</code></td>
</tr>

<tr>
<td class="left"><code>:latex-subtitle-format</code></td>
<td class="left"><code>org-latex-subtitle-format</code></td>
</tr>

<tr>
<td class="left"><code>:latex-subtitle-separate</code></td>
<td class="left"><code>org-latex-subtitle-separate</code></td>
</tr>

<tr>
<td class="left"><code>:latex-table-scientific-notation</code></td>
<td class="left"><code>org-latex-table-scientific-notation</code></td>
</tr>

<tr>
<td class="left"><code>:latex-tables-booktabs</code></td>
<td class="left"><code>org-latex-tables-booktabs</code></td>
</tr>

<tr>
<td class="left"><code>:latex-tables-centered</code></td>
<td class="left"><code>org-latex-tables-centered</code></td>
</tr>

<tr>
<td class="left"><code>:latex-text-markup-alist</code></td>
<td class="left"><code>org-latex-text-markup-alist</code></td>
</tr>

<tr>
<td class="left"><code>:latex-title-command</code></td>
<td class="left"><code>org-latex-title-command</code></td>
</tr>

<tr>
<td class="left"><code>:latex-toc-command</code></td>
<td class="left"><code>org-latex-toc-command</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-11" class="outline-4">
<h4 id="sec-13-1-11">Markdown specific properties</h4>
<div class="outline-text-4" id="text-13-1-11">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:md-headline-style</code></td>
<td class="left"><code>org-md-headline-style</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-12" class="outline-4">
<h4 id="sec-13-1-12">ODT specific properties</h4>
<div class="outline-text-4" id="text-13-1-12">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:odt-content-template-file</code></td>
<td class="left"><code>org-odt-content-template-file</code></td>
</tr>

<tr>
<td class="left"><code>:odt-display-outline-level</code></td>
<td class="left"><code>org-odt-display-outline-level</code></td>
</tr>

<tr>
<td class="left"><code>:odt-fontify-srcblocks</code></td>
<td class="left"><code>org-odt-fontify-srcblocks</code></td>
</tr>

<tr>
<td class="left"><code>:odt-format-drawer-function</code></td>
<td class="left"><code>org-odt-format-drawer-function</code></td>
</tr>

<tr>
<td class="left"><code>:odt-format-headline-function</code></td>
<td class="left"><code>org-odt-format-headline-function</code></td>
</tr>

<tr>
<td class="left"><code>:odt-format-inlinetask-function</code></td>
<td class="left"><code>org-odt-format-inlinetask-function</code></td>
</tr>

<tr>
<td class="left"><code>:odt-inline-formula-rules</code></td>
<td class="left"><code>org-odt-inline-formula-rules</code></td>
</tr>

<tr>
<td class="left"><code>:odt-inline-image-rules</code></td>
<td class="left"><code>org-odt-inline-image-rules</code></td>
</tr>

<tr>
<td class="left"><code>:odt-pixels-per-inch</code></td>
<td class="left"><code>org-odt-pixels-per-inch</code></td>
</tr>

<tr>
<td class="left"><code>:odt-styles-file</code></td>
<td class="left"><code>org-odt-styles-file</code></td>
</tr>

<tr>
<td class="left"><code>:odt-table-styles</code></td>
<td class="left"><code>org-odt-table-styles</code></td>
</tr>

<tr>
<td class="left"><code>:odt-use-date-fields</code></td>
<td class="left"><code>org-odt-use-date-fields</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-13" class="outline-4">
<h4 id="sec-13-1-13">Texinfo specific properties</h4>
<div class="outline-text-4" id="text-13-1-13">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:texinfo-active-timestamp-format</code></td>
<td class="left"><code>org-texinfo-active-timestamp-format</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-classes</code></td>
<td class="left"><code>org-texinfo-classes</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-class</code></td>
<td class="left"><code>org-texinfo-default-class</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-def-table-markup</code></td>
<td class="left"><code>org-texinfo-def-table-markup</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-diary-timestamp-format</code></td>
<td class="left"><code>org-texinfo-diary-timestamp-format</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-filename</code></td>
<td class="left"><code>org-texinfo-filename</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-format-drawer-function</code></td>
<td class="left"><code>org-texinfo-format-drawer-function</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-format-headline-function</code></td>
<td class="left"><code>org-texinfo-format-headline-function</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-format-inlinetask-function</code></td>
<td class="left"><code>org-texinfo-format-inlinetask-function</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-inactive-timestamp-format</code></td>
<td class="left"><code>org-texinfo-inactive-timestamp-format</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-link-with-unknown-path-format</code></td>
<td class="left"><code>org-texinfo-link-with-unknown-path-format</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-node-description-column</code></td>
<td class="left"><code>org-texinfo-node-description-column</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-table-scientific-notation</code></td>
<td class="left"><code>org-texinfo-table-scientific-notation</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-tables-verbatim</code></td>
<td class="left"><code>org-texinfo-tables-verbatim</code></td>
</tr>

<tr>
<td class="left"><code>:texinfo-text-markup-alist</code></td>
<td class="left"><code>org-texinfo-text-markup-alist</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-14" class="outline-4">
<h4 id="sec-13-1-14">13.1.6 Links between published files                              <a id="Publishing-links" name="Publishing-links"></a></h4>
<div class="outline-text-4" id="text-13-1-14">
<p>
To create a link from one Org file to another, you would use something
like ‘<a href="foo.html">The foo</a>' or simply ‘<a href="foo.html">foo.html</a>.' (see
<a href="#Hyperlinks">Hyperlinks</a>). When published, this link becomes a link
to foo.html. You can thus interlink the pages of your "org web" project
and the links will work as expected when you publish them to HTML. If
you also publish the Org source file and want to link to it, use an
<code>http:</code> link instead of a <code>file:</code> link, because <code>file:</code> links are
converted to link to the corresponding html file.
</p>

<p>
You may also link to related files, such as images. Provided you are
careful with relative file names, and provided you have also configured
Org to upload the related files, these links will work too. See
<i>Complex example</i>, for an example of this usage.
</p>
</div>
</div>

<div id="outline-container-sec-13-1-15" class="outline-4">
<h4 id="sec-13-1-15">13.1.7 Generating a sitemap</h4>
<div class="outline-text-4" id="text-13-1-15">
<p>
The following properties may be used to control publishing of a map of
files for a given project.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:auto-sitemap</code></td>
<td class="left">When non-=nil=, publish a sitemap during <code>org-publish-current-project</code> or <code>org-publish-all</code>.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-filename</code></td>
<td class="left">Filename for output of sitemap. Defaults to sitemap.org (which becomes sitemap.html).</td>
</tr>

<tr>
<td class="left"><code>:sitemap-title</code></td>
<td class="left">Title of sitemap page. Defaults to name of file.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-function</code></td>
<td class="left">Plug-in function to use for generation of the sitemap. Defaults to <code>org-publish-org-sitemap</code>, which generates a plain list of links to all files in the project.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-sort-folders</code></td>
<td class="left">Where folders should appear in the sitemap. Set this to <code>first</code> (default) or <code>last</code> to display folders first or last, respectively. Any other value will mix files and folders.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-sort-files</code></td>
<td class="left">How the files are sorted in the site map. Set this to <code>alphabetically</code> (default), <code>chronologically</code> or <code>anti-chronologically</code>. <code>chronologically</code> sorts the files with older date first while <code>anti-chronologically</code> sorts the files with newer date first. <code>alphabetically</code> sorts the files alphabetically. The date of a file is retrieved with <code>org-publish-find-date</code>.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-ignore-case</code></td>
<td class="left">Should sorting be case-sensitive? Default <code>nil</code>.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-file-entry-format</code></td>
<td class="left">With this option one can tell how a sitemap's entry is formatted in the sitemap. This is a format string with some escape sequences: <code>%t</code> stands for the title of the file, <code>%a</code> stands for the author of the file and <code>%d</code> stands for the date of the file. The date is retrieved with the <code>org-publish-find-date</code> function and formatted with <code>org-publish-sitemap-date-format</code>. Default <code>%t</code>.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-date-format</code></td>
<td class="left">Format string for the <code>format-time-string</code> function that tells how a sitemap entry's date is to be formatted. This property bypasses <code>org-publish-sitemap-date-format</code> which defaults to <code>%Y-%m-%d</code>.</td>
</tr>

<tr>
<td class="left"><code>:sitemap-sans-extension</code></td>
<td class="left">When non-=nil=, remove filenames' extensions from the generated sitemap. Useful to have cool URIs (see <a href="http://www.w3.org/Provider/Style/URI">http://www.w3.org/Provider/Style/URI</a>). Defaults to <code>nil</code>.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-13-1-16" class="outline-4">
<h4 id="sec-13-1-16">13.1.8 Generating an index                                        <a id="Generating-an-index" name="Generating-an-index"></a></h4>
<div class="outline-text-4" id="text-13-1-16">
<p>
Org mode can generate an index across the files of a publishing project.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>:makeindex</code></td>
<td class="left">When non-=nil=, generate in index in the file theindex.org and publish it as theindex.html.</td>
</tr>
</tbody>
</table>

<p>
The file will be created when first publishing a project with the
<code>:makeindex</code> set. The file only contains a statement
=#+INCLUDE: "theindex.inc"=. You can then build around this include
statement by adding a title, style information, etc.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-13-2" class="outline-3">
<h3 id="sec-13-2">13.2 Uploading files</h3>
<div class="outline-text-3" id="text-13-2">
<p>
For those people already utilizing third party sync tools such as
<code>rsync</code> or <code>unison</code>, it might be preferable not to use the built in
<i>remote</i> publishing facilities of Org mode which rely heavily on Tramp.
Tramp, while very useful and powerful, tends not to be so efficient for
multiple file transfer and has been known to cause problems under heavy
usage.
</p>

<p>
Specialized synchronization utilities offer several advantages. In
addition to timestamp comparison, they also do content and
permissions/attribute checks. For this reason you might prefer to
publish your web to a local directory (possibly even <i>in place</i> with
your Org files) and then use unison or rsync to do the synchronization
with the remote host.
</p>

<p>
Since Unison (for example) can be configured as to which files to
transfer to a certain remote destination, it can greatly simplify the
project publishing definition. Simply keep all files in the correct
location, process your Org files with <code>org-publish</code> and let the
synchronization tool do the rest. You do not need, in this scenario, to
include attachments such as jpg, css or gif files in the project
definition since the 3rd party tool syncs them.
</p>

<p>
Publishing to a local directory is also much faster than to a remote
one, so that you can afford more easily to republish entire projects. If
you set <code>org-publish-use-timestamps-flag</code> to <code>nil</code>, you gain the main
benefit of re-including any changed external files such as source
example files you might include with <code>#+INCLUDE:</code>. The timestamp
mechanism in Org is not smart enough to detect if included files have
been modified.
</p>
</div>
</div>

<div id="outline-container-sec-13-3" class="outline-3">
<h3 id="sec-13-3">13.3 Sample configuration</h3>
<div class="outline-text-3" id="text-13-3">
<p>
Below we provide two example configurations. The first one is a simple
project publishing only a set of Org files. The second example is more
complex, with a multi-component project.
</p>
</div>

<div id="outline-container-sec-13-3-1" class="outline-4">
<h4 id="sec-13-3-1">13.3.1 Example: simple publishing configuration</h4>
<div class="outline-text-4" id="text-13-3-1">
<p>
This example publishes a set of Org files to the public\<sub>html</sub> directory
on the local machine.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-publish-project-alist
      '(("org"
         :base-directory "~/org/"
         :publishing-directory "~/public_html"
         :section-numbers nil
         :with-toc nil
         :html-head "&lt;link rel=\"stylesheet\"
                    href=\"../other/mystyle.css\"
                    type=\"text/css\"/&gt;")))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-13-3-2" class="outline-4">
<h4 id="sec-13-3-2">13.3.2 Example: complex publishing configuration</h4>
<div class="outline-text-4" id="text-13-3-2">
<p>
This more complicated example publishes an entire website, including Org
files converted to HTML, image files, Emacs Lisp source code, and style
sheets. The publishing directory is remote and private files are
excluded.
</p>

<p>
To ensure that links are preserved, care should be taken to replicate
your directory structure on the web server, and to use relative file
paths. For example, if your Org files are kept in ~/org and your
publishable images in ~/images, you would link to an image with
</p>

<pre class="example">
file:../images/myimage.png
</pre>

<p>
On the web server, the relative path to the image should be the same.
You can accomplish this by setting up an "images" folder in the right
place on the web server, and publishing images to it.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-publish-project-alist
      '(("orgfiles"
          :base-directory "~/org/"
          :base-extension "org"
          :publishing-directory "/ssh:user@host:~/html/notebook/"
          :publishing-function org-html-publish-to-html
          :exclude "PrivatePage.org"   ;; regexp
          :headline-levels 3
          :section-numbers nil
          :with-toc nil
          :html-head "&lt;link rel=\"stylesheet\"
                  href=\"../other/mystyle.css\" type=\"text/css\"/&gt;"
          :html-preamble t)

         ("images"
          :base-directory "~/images/"
          :base-extension "jpg\\|gif\\|png"
          :publishing-directory "/ssh:user@host:~/html/images/"
          :publishing-function org-publish-attachment)

         ("other"
          :base-directory "~/other/"
          :base-extension "css\\|el"
          :publishing-directory "/ssh:user@host:~/html/other/"
          :publishing-function org-publish-attachment)
         ("website" :components ("orgfiles" "images" "other"))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-13-4" class="outline-3">
<h3 id="sec-13-4">13.4 Triggering publication</h3>
<div class="outline-text-3" id="text-13-4">
<p>
Once properly configured, Org can publish with the following commands:
</p>

<p>
C-c C-e P x (<code>org-publish</code>)
</p>

<p>
Prompt for a specific project and publish all files that belong to it.
</p>

<p>
C-c C-e P p (<code>org-publish-current-project</code>)
</p>

<p>
Publish the project containing the current file.
</p>

<p>
C-c C-e P f (<code>org-publish-current-file</code>)
</p>

<p>
Publish only the current file.
</p>

<p>
C-c C-e P a (<code>org-publish-all</code>)
</p>

<p>
Publish every project.
</p>

<p>
Org uses timestamps to track when a file has changed. The above
functions normally only publish changed files. You can override this and
force publishing of all files by giving a prefix argument to any of the
commands above, or by customizing the variable
<code>org-publish-use-timestamps-flag</code>. This may be necessary in particular
if files include other files via <code>#+SETUPFILE:</code> or <code>#+INCLUDE:</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14">14 Working with source code                                         <a id="Working-with-source-code" name="Working-with-source-code"></a></h2>
<div class="outline-text-2" id="text-14">
<p>
Source code can be included in Org mode documents using a ‘src' block,
e.g.:
</p>

<pre class="example">
#+BEGIN_SRC emacs-lisp
  (defun org-xor (a b)
     "Exclusive or."
     (if a (not b) b))
#+END_SRC
</pre>

<p>
Org mode provides a number of features for working with live source
code, including editing of code blocks in their native major-mode,
evaluation of code blocks, converting code blocks into source files
(known as <i>tangling</i> in literate programming), and exporting code blocks
and their results in several formats. This functionality was contributed
by Eric Schulte and Dan Davison, and was originally named Org-babel.
</p>

<p>
The following sections describe Org mode's code block handling
facilities.
</p>
</div>

<div id="outline-container-sec-14-1" class="outline-3">
<h3 id="sec-14-1">14.1 Structure of code blocks</h3>
<div class="outline-text-3" id="text-14-1">
<p>
Live code blocks can be specified with a ‘src' block or
inline.<sup><a id="fnr.158" name="fnr.158" class="footref" href="#fn.158">158</a></sup> The structure of a ‘src' block is
</p>

<pre class="example">
#+NAME: &lt;name&gt;
#+BEGIN_SRC &lt;language&gt; &lt;switches&gt; &lt;header arguments&gt;
  &lt;body&gt;
#+END_SRC
</pre>

<p>
The <code>#+NAME:</code> line is optional, and can be used to name the code block.
Live code blocks require that a language be specified on the
<code>#+BEGIN_SRC</code> line. Switches and header arguments are optional.
</p>

<p>
Live code blocks can also be specified inline using
</p>

<pre class="example">
src_&lt;language&gt;{&lt;body&gt;}
</pre>

<p>
or
</p>

<pre class="example">
src_&lt;language&gt;[&lt;header arguments&gt;]{&lt;body&gt;}
</pre>

<dl class="org-dl">
<dt> <code>&lt;#+NAME: name&gt;</code> </dt><dd>This line associates a name with the code block.
This is similar to the <code>#+NAME: Name</code> lines that can be used to name
tables in Org mode files. Referencing the name of a code block makes
it possible to evaluate the block from other places in the file, from
other files, or from Org mode table formulas (see
<a href="#The-spreadsheet">The spreadsheet</a>). Names are assumed to be
unique and the behavior of Org mode when two or more blocks share the
same name is undefined.
</dd>

<dt> <code>&lt;language&gt;</code> </dt><dd>The language of the code in the block (see
<i>Languages</i>).
</dd>

<dt> <code>&lt;switches&gt;</code> </dt><dd>Optional switches control code block export (see the
discussion of switches in <a href="#Literal-examples">Literal examples</a>)
</dd>

<dt> <code>&lt;header arguments&gt;</code> </dt><dd>Optional header arguments control many
aspects of evaluation, export and tangling of code blocks (see
<i>Header arguments</i>). Header arguments can also
be set on a per-buffer or per-subtree basis using properties.
</dd>

<dt> (no term) </dt><dd><code>source code, header arguments</code><br  />
   <code>&lt;body&gt;</code> :: Source code in the specified language.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-14-2" class="outline-3">
<h3 id="sec-14-2">14.2 Editing source code                                           <a id="Editing-source-code" name="Editing-source-code"></a></h3>
<div class="outline-text-3" id="text-14-2">
<p>
Use C-c ' to edit the current code block. This brings up a language
major-mode edit buffer containing the body of the code block. Manually
saving this buffer with <code>C-x C-s</code> will write the contents back to the
Org buffer. You can also set <code>org-edit-src-auto-save-idle-delay</code> to save
the base buffer after some idle delay, or
<code>org-edit-src-turn-on-auto-save</code> to auto-save this buffer into a
separate file using <code>auto-save-mode</code>. Use C-c ' again to exit.
</p>

<p>
The <code>org-src-mode</code> minor mode will be active in the edit buffer. The
following variables can be used to configure the behavior of the edit
buffer. See also the customization group <code>org-edit-structure</code> for
further configuration options.
</p>

<dl class="org-dl">
<dt> <code>org-src-lang-modes</code> </dt><dd>If an Emacs major-mode named <code>&lt;lang&gt;-mode</code>
exists, where <code>&lt;lang&gt;</code> is the language named in the header line of
the code block, then the edit buffer will be placed in that
major-mode. This variable can be used to map arbitrary language names
to existing major modes.
</dd>

<dt> <code>org-src-window-setup</code> </dt><dd>Controls the way Emacs windows are
rearranged when the edit buffer is created.
</dd>

<dt> <code>org-src-preserve-indentation</code> </dt><dd>By default, the value is <code>nil</code>,
which means that when code blocks are evaluated during export or
tangled, they are re-inserted into the code block, which may replace
sequences of spaces with tab characters. When non-=nil=, whitespace
in code blocks will be preserved during export or tangling, exactly
as it appears. This variable is especially useful for tangling
languages such as Python, in which whitespace indentation in the
output is critical.
</dd>

<dt> <code>org-src-ask-before-returning-to-edit-buffer</code> </dt><dd>By default, Org will
ask before returning to an open edit buffer. Set this variable to
<code>nil</code> to switch without asking.
</dd>
</dl>

<p>
To turn on native code fontification in the <i>Org</i> buffer, configure the
variable <code>org-src-fontify-natively</code>.
</p>
</div>
</div>

<div id="outline-container-sec-14-3" class="outline-3">
<h3 id="sec-14-3">14.3 Exporting code blocks</h3>
<div class="outline-text-3" id="text-14-3">
<p>
It is possible to export the <i>code</i> of code blocks, the <i>results</i> of
code block evaluation, <i>both</i> the code and the results of code block
evaluation, or <i>none</i>. For most languages, the default exports code.
However, for some languages (e.g., <code>ditaa</code>) the default exports the
results of code block evaluation. For information on exporting code
block bodies, see <a href="#Literal-examples">Literal examples</a>.
</p>

<p>
The <code>:exports</code> header argument can be used to specify export behavior
(note that these arguments are only relevant for code blocks, not inline
code):
</p>
</div>

<div id="outline-container-sec-14-3-1" class="outline-4">
<h4 id="sec-14-3-1">Header arguments:</h4>
<div class="outline-text-4" id="text-14-3-1">
<p>
<code>:exports code</code>
</p>

<p>
The default in most languages. The body of the code block is exported,
as described in <a href="#Literal-examples">Literal examples</a>.
</p>

<p>
<code>:exports results</code>
</p>

<p>
The code block will be evaluated each time to buffer is exported, and
the results will be placed in the Org mode buffer for export, either
updating previous results of the code block located anywhere in the
buffer or, if no previous results exist, placing the results immediately
after the code block. The body of the code block will not be exported.
</p>

<p>
<code>:exports both</code>
</p>

<p>
Both the code block and its results will be exported.
</p>

<p>
<code>:exports none</code>
</p>

<p>
Neither the code block nor its results will be exported.
</p>

<p>
It is possible to inhibit the evaluation of code blocks during export.
Setting the <code>org-export-babel-evaluate</code> variable to <code>nil</code> will ensure
that no code blocks are evaluated as part of the export process. This
can be useful in situations where potentially untrusted Org mode files
are exported in an automated fashion, for example when Org mode is used
as the markup language for a wiki. It is also possible to set this
variable to <code>inline-only</code>. In that case, only inline code blocks will be
evaluated, in order to insert their results. Non-inline code blocks are
assumed to have their results already inserted in the buffer by manual
evaluation. This setting is useful to avoid expensive recalculations
during export, not to provide security.
</p>

<p>
Code blocks in commented subtrees (see <a href="#Comment-lines">Comment
lines</a>) are never evaluated on export. However, code blocks in subtrees
excluded from export (see <a href="#Export-settings">Export settings</a>) may be
evaluated on export.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-14-4" class="outline-3">
<h3 id="sec-14-4">14.4 Extracting source code</h3>
<div class="outline-text-3" id="text-14-4">
<p>
Creating pure source code files by extracting code from source blocks is
referred to as “tangling”&#x2014;a term adopted from the literate programming
community. During “tangling” of code blocks their bodies are expanded
using <code>org-babel-expand-src-block</code> which can expand both variable and
“noweb” style references (see <i>Noweb reference
syntax</i>).
</p>
</div>

<div id="outline-container-sec-14-4-1" class="outline-4">
<h4 id="sec-14-4-1">Header arguments</h4>
<div class="outline-text-4" id="text-14-4-1">
<p>
<code>:tangle no</code>
</p>

<p>
The default. The code block is not included in the tangled output.
</p>

<p>
<code>:tangle yes</code>
</p>

<p>
Include the code block in the tangled output. The output file name is
the name of the org file with the extension ‘.org' replaced by the
extension for the block language.
</p>

<p>
<code>:tangle filename</code>
</p>

<p>
Include the code block in the tangled output to file ‘filename'.
</p>
</div>
</div>

<div id="outline-container-sec-14-4-2" class="outline-4">
<h4 id="sec-14-4-2">Functions</h4>
<div class="outline-text-4" id="text-14-4-2">
<dl class="org-dl">
<dt> <code>org-babel-tangle</code> </dt><dd>Tangle the current file. Bound to C-c C-v t.

<p>
With prefix argument only tangle the current code block.
</p>
</dd>

<dt> <code>org-babel-tangle-file</code> </dt><dd>Choose a file to tangle. Bound to C-c C-v
f.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-14-4-3" class="outline-4">
<h4 id="sec-14-4-3">Hooks</h4>
<div class="outline-text-4" id="text-14-4-3">
<dl class="org-dl">
<dt> <code>org-babel-post-tangle-hook</code> </dt><dd>This hook is run from within code
files tangled by <code>org-babel-tangle</code>. Example applications could
include post-processing, compilation or evaluation of tangled code
files.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-14-4-4" class="outline-4">
<h4 id="sec-14-4-4">Jumping between code and Org</h4>
<div class="outline-text-4" id="text-14-4-4">
<p>
When tangling code from an Org-mode buffer to a source code file, you'll
frequently find yourself viewing the file of tangled source code (e.g.,
many debuggers point to lines of the source code file). It is useful to
be able to navigate from the tangled source to the Org-mode buffer from
which the code originated.
</p>

<p>
The <code>org-babel-tangle-jump-to-org</code> function provides this jumping from
code to Org-mode functionality. Two header arguments are required for
jumping to work, first the <code>padline</code> (<i>padline</i>) option must
be set to true (the default setting), second the <code>comments</code>
(<i>comments</i>) header argument must be set to <code>links</code>, which
will insert comments into the source code buffer which point back to the
original Org-mode file.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-14-5" class="outline-3">
<h3 id="sec-14-5">14.5 Evaluating code blocks</h3>
<div class="outline-text-3" id="text-14-5">
<p>
Code blocks can be evaluated<sup><a id="fnr.159" name="fnr.159" class="footref" href="#fn.159">159</a></sup> and the results of
evaluation optionally placed in the Org mode buffer. The results of
evaluation are placed following a line that begins by default with
<code>#+RESULTS</code> and optionally a cache identifier and/or the name of the
evaluated code block. The default value of <code>#+RESULTS</code> can be changed
with the customizable variable <code>org-babel-results-keyword</code>.
</p>

<p>
By default, the evaluation facility is only enabled for Lisp code blocks
specified as <code>emacs-lisp</code>. However, source code blocks in many languages
can be evaluated within Org mode (see <i>Languages</i> for a
list of supported languages and <i>Structure
of code blocks</i> for information on the syntax used to define a code
block).
</p>

<p>
There are a number of ways to evaluate code blocks. The simplest is to
press C-c C-c or C-c C-v e with the point on a code
block<sup><a id="fnr.160" name="fnr.160" class="footref" href="#fn.160">160</a></sup>. This will call the
<code>org-babel-execute-src-block</code> function to evaluate the block and insert
its results into the Org mode buffer.
</p>

<p>
It is also possible to evaluate named code blocks from anywhere in an
Org mode buffer or an Org mode table. These named code blocks can be
located in the current Org mode buffer or in the “Library of Babel” (see
<i>Library of Babel</i>). Named code blocks can be
evaluated with a separate <code>#+CALL:</code> line or inline within a block of
text. In both cases the result is wrapped according to the value of
<code>org-babel-inline-result-wrap</code>, which by default is ="<code>%s</code>"= for markup
that produces verbatim text.
</p>

<p>
The syntax of the <code>#+CALL:</code> line is
</p>

<pre class="example">
#+CALL: &lt;name&gt;(&lt;arguments&gt;)
#+CALL: &lt;name&gt;[&lt;inside header arguments&gt;](&lt;arguments&gt;) &lt;end header arguments&gt;
</pre>

<p>
The syntax for inline evaluation of named code blocks is
</p>

<pre class="example">
... call_&lt;name&gt;(&lt;arguments&gt;) ...
... call_&lt;name&gt;[&lt;inside header arguments&gt;](&lt;arguments&gt;)[&lt;end header arguments&gt;] ...
</pre>

<dl class="org-dl">
<dt> <code>&lt;name&gt;</code> </dt><dd>The name of the code block to be evaluated (see
<i>Structure of code blocks</i>).
</dd>

<dt> <code>&lt;arguments&gt;</code> </dt><dd>Arguments specified in this section will be passed
to the code block. These arguments use standard function call syntax,
rather than header argument syntax. For example, a <code>#+CALL:</code> line
that passes the number four to a code block named <code>double</code>, which
declares the header argument <code>:var n=2</code>, would be written as
<code>#+CALL: double(n=4)</code>.
</dd>

<dt> <code>&lt;inside header arguments&gt;</code> </dt><dd>Inside header arguments are passed
through and applied to the named code block. These arguments use
header argument syntax rather than standard function call syntax.
Inside header arguments affect how the code block is evaluated. For
example, <code>[:results output]</code> will collect the results of everything
printed to <code>STDOUT</code> during execution of the code block.
</dd>

<dt> <code>&lt;end header arguments&gt;</code> </dt><dd>End header arguments are applied to the
calling instance and do not affect evaluation of the named code
block. They affect how the results are incorporated into the Org mode
buffer and how the call line is exported. For example,
<code>:results html</code> will insert the results of the call line evaluation
in the Org buffer, wrapped in a <code>BEGIN_HTML:</code> block.

<p>
For more examples of passing header arguments to <code>#+CALL:</code> lines see
<i>Header arguments in function
calls</i>.
</p>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-14-6" class="outline-3">
<h3 id="sec-14-6">14.6 Library of Babel</h3>
<div class="outline-text-3" id="text-14-6">
<p>
The “Library of Babel” consists of code blocks that can be called from
any Org mode file. Code blocks defined in the “Library of Babel” can be
called remotely as if they were in the current Org mode buffer (see
<i>Evaluating code blocks</i> for information on
the syntax of remote code block evaluation).
</p>

<p>
The central repository of code blocks in the “Library of Babel” is
housed in an Org mode file located in the ‘doc' directory of Org mode.
</p>

<p>
Users can add code blocks they believe to be generally useful to their
“Library of Babel.” The code blocks can be stored in any Org mode file
and then loaded into the library with <code>org-babel-lob-ingest</code>.
</p>

<p>
Code blocks located in any Org mode file can be loaded into the “Library
of Babel” with the <code>org-babel-lob-ingest</code> function, bound to C-c C-v i.
</p>
</div>
</div>

<div id="outline-container-sec-14-7" class="outline-3">
<h3 id="sec-14-7">14.7 Languages</h3>
<div class="outline-text-3" id="text-14-7">
<p>
Code blocks in the following languages are supported.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Language</b></th>
<th scope="col" class="left"><b>Identifier</b></th>
<th scope="col" class="left"><b>Language</b></th>
<th scope="col" class="left"><b>Identifier</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Asymptote</td>
<td class="left">asymptote</td>
<td class="left">Awk</td>
<td class="left">awk</td>
</tr>

<tr>
<td class="left">C</td>
<td class="left">C</td>
<td class="left">C++</td>
<td class="left">C++</td>
</tr>

<tr>
<td class="left">Clojure</td>
<td class="left">clojure</td>
<td class="left">CSS</td>
<td class="left">css</td>
</tr>

<tr>
<td class="left">D</td>
<td class="left">d</td>
<td class="left">ditaa</td>
<td class="left">ditaa</td>
</tr>

<tr>
<td class="left">Graphviz</td>
<td class="left">dot</td>
<td class="left">Emacs Calc</td>
<td class="left">calc</td>
</tr>

<tr>
<td class="left">Emacs Lisp</td>
<td class="left">emacs-lisp</td>
<td class="left">Fortran</td>
<td class="left">fortran</td>
</tr>

<tr>
<td class="left">gnuplot</td>
<td class="left">gnuplot</td>
<td class="left">Haskell</td>
<td class="left">haskell</td>
</tr>

<tr>
<td class="left">Java</td>
<td class="left">java</td>
<td class="left">Javascript</td>
<td class="left">js</td>
</tr>

<tr>
<td class="left">LaTeX</td>
<td class="left">latex</td>
<td class="left">Ledger</td>
<td class="left">ledger</td>
</tr>

<tr>
<td class="left">Lisp</td>
<td class="left">lisp</td>
<td class="left">Lilypond</td>
<td class="left">lilypond</td>
</tr>

<tr>
<td class="left">MATLAB</td>
<td class="left">matlab</td>
<td class="left">Mscgen</td>
<td class="left">mscgen</td>
</tr>

<tr>
<td class="left">Objective Caml</td>
<td class="left">ocaml</td>
<td class="left">Octave</td>
<td class="left">octave</td>
</tr>

<tr>
<td class="left">Org mode</td>
<td class="left">org</td>
<td class="left">Oz</td>
<td class="left">oz</td>
</tr>

<tr>
<td class="left">Perl</td>
<td class="left">perl</td>
<td class="left">Plantuml</td>
<td class="left">plantuml</td>
</tr>

<tr>
<td class="left">Processing.js</td>
<td class="left">processing</td>
<td class="left">Python</td>
<td class="left">python</td>
</tr>

<tr>
<td class="left">R</td>
<td class="left">R</td>
<td class="left">Ruby</td>
<td class="left">ruby</td>
</tr>

<tr>
<td class="left">Sass</td>
<td class="left">sass</td>
<td class="left">Scheme</td>
<td class="left">scheme</td>
</tr>

<tr>
<td class="left">GNU Screen</td>
<td class="left">screen</td>
<td class="left">Sed</td>
<td class="left">sed</td>
</tr>

<tr>
<td class="left">shell</td>
<td class="left">sh</td>
<td class="left">SQL</td>
<td class="left">sql</td>
</tr>

<tr>
<td class="left">SQLite</td>
<td class="left">sqlite</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Language-specific documentation is available for some languages. If
available, it can be found at
<a href="http://orgmode.org/worg/org-contrib/babel/languages.html">http://orgmode.org/worg/org-contrib/babel/languages.html</a>.
</p>

<p>
The option <code>org-babel-load-languages</code> controls which languages are
enabled for evaluation (by default only <code>emacs-lisp</code> is enabled). This
variable can be set using the customization interface or by adding code
like the following to your emacs configuration.
</p>

<p>
The following disables <code>emacs-lisp</code> evaluation and enables evaluation of
<code>R</code> code blocks.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . nil)
   (R . t)))
</pre>
</div>

<p>
It is also possible to enable support for a language by loading the
related elisp file with <code>require</code>.
</p>

<p>
The following adds support for evaluating <code>clojure</code> code blocks.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(require 'ob-clojure)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-14-8" class="outline-3">
<h3 id="sec-14-8">14.8 Header arguments</h3>
<div class="outline-text-3" id="text-14-8">
<p>
Code block functionality can be configured with header arguments. This
section provides an overview of the use of header arguments, and then
describes each header argument in detail.
</p>
</div>

<div id="outline-container-sec-14-8-1" class="outline-4">
<h4 id="sec-14-8-1">14.8.1 Using header arguments</h4>
<div class="outline-text-4" id="text-14-8-1">
<p>
The values of header arguments can be set in several way. When the
header arguments in each layer have been determined, they are combined
in order from the first, least specific (having the lowest priority) up
to the last, most specific (having the highest priority). A header
argument with a higher priority replaces the same header argument
specified at lower priority.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-2" class="outline-4">
<h4 id="sec-14-8-2">System-wide header arguments</h4>
<div class="outline-text-4" id="text-14-8-2">
<p>
System-wide values of header arguments can be specified by adapting the
<code>org-babel-default-header-args</code> variable:
</p>

<pre class="example">
:session    =&gt; "none"
:results    =&gt; "replace"
:exports    =&gt; "code"
:cache      =&gt; "no"
:noweb      =&gt; "no"
</pre>

<p>
For example, the following example could be used to set the default
value of <code>:noweb</code> header arguments to <code>yes</code>. This would have the effect
of expanding <code>:noweb</code> references by default when evaluating source code
blocks.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-babel-default-header-args
      (cons '(:noweb . "yes")
            (assq-delete-all :noweb org-babel-default-header-args)))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-14-8-3" class="outline-4">
<h4 id="sec-14-8-3">Language-specific header arguments</h4>
<div class="outline-text-4" id="text-14-8-3">
<p>
Each language can define its own set of default header arguments in
variable <code>org-babel-default-header-args:&lt;lang&gt;</code>, where <code>&lt;lang&gt;</code> is the
name of the language. See the language-specific documentation available
online at <a href="http://orgmode.org/worg/org-contrib/babel">http://orgmode.org/worg/org-contrib/babel</a>.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-4" class="outline-4">
<h4 id="sec-14-8-4">Header arguments in Org mode properties</h4>
<div class="outline-text-4" id="text-14-8-4">
<p>
Buffer-wide header arguments may be specified as properties through the
use of <code>#+PROPERTY:</code> lines placed anywhere in an Org mode file (see
<a href="#Property-syntax">Property syntax</a>).
</p>

<p>
For example the following would set <code>session</code> to <code>*R*</code> (only for R code
blocks), and <code>results</code> to <code>silent</code> for every code block in the buffer,
ensuring that all execution took place in the same session, and no
results would be inserted into the buffer.
</p>

<pre class="example">
#+PROPERTY: header-args:R  :session *R*
#+PROPERTY: header-args    :results silent
</pre>

<p>
Header arguments read from Org mode properties can also be set on a
per-subtree basis using property drawers (see
<a href="#Property-syntax">Property syntax</a>). When properties are used to set
default header arguments, they are always looked up with inheritance,
regardless of the value of <code>org-use-property-inheritance</code>. Properties
are evaluated as seen by the outermost call or source
block.<sup><a id="fnr.161" name="fnr.161" class="footref" href="#fn.161">161</a></sup>
</p>

<p>
In the following example the value of the <code>:cache</code> header argument will
default to <code>yes</code> in all code blocks in the subtree rooted at the
following heading:
</p>

<pre class="example">
* outline header
  :PROPERTIES:
  :header-args:    :cache yes
  :END:
</pre>

<p>
Properties defined in this way override the properties set in
<code>org-babel-default-header-args</code> and are applied for all activated
languages. It is convenient to use the <code>org-set-property</code> function bound
to C-c C-x p to set properties in Org mode documents.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-5" class="outline-4">
<h4 id="sec-14-8-5">Language-specific header arguments in Org mode properties</h4>
<div class="outline-text-4" id="text-14-8-5">
<p>
Language-specific header arguments are also read from properties
<code>header-args:&lt;lang&gt;</code> where <code>&lt;lang&gt;</code> is the name of the language
targeted. As an example
</p>

<pre class="example">
* Heading
  :PROPERTIES:
  :header-args:clojure:    :session *clojure-1*
  :header-args:R:          :session *R*
  :END:
** Subheading
  :PROPERTIES:
  :header-args:clojure:    :session *clojure-2*
  :END:
</pre>

<p>
would independently set a default session header argument for R and
clojure for calls and source blocks under subtree “Heading” and change
to a different clojure setting for evaluations under subtree
“Subheading”, while the R session is inherited from “Heading” and
therefore unchanged.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-6" class="outline-4">
<h4 id="sec-14-8-6">Code block specific header arguments</h4>
<div class="outline-text-4" id="text-14-8-6">
<p>
The most common way to assign values to header arguments is at the code
block level. This can be done by listing a sequence of header arguments
and their values as part of the <code>#+BEGIN_SRC</code> line. Properties set in
this way override both the values of <code>org-babel-default-header-args</code> and
header arguments specified as properties. In the following example, the
<code>:results</code> header argument is set to <code>silent</code>, meaning the results of
execution will not be inserted in the buffer, and the <code>:exports</code> header
argument is set to <code>code</code>, meaning only the body of the code block will
be preserved on export to HTML or LaTeX.
</p>

<pre class="example">
#+NAME: factorial
#+BEGIN_SRC haskell :results silent :exports code :var n=0
fac 0 = 1
fac n = n * fac (n-1)
#+END_SRC
</pre>

<p>
Similarly, it is possible to set header arguments for inline code blocks
</p>

<pre class="example">
src_haskell[:exports both]{fac 5}
</pre>

<p>
Code block header arguments can span multiple lines using <code>#+HEADER:</code> or
<code>#+HEADERS:</code> lines preceding a code block or nested between the
<code>#+NAME:</code> line and the <code>#+BEGIN_SRC</code> line of a named code block.
</p>

<p>
Multi-line header arguments on an un-named code block:
</p>

<pre class="example">
#+HEADERS: :var data1=1
#+BEGIN_SRC emacs-lisp :var data2=2
  (message "data1:%S, data2:%S" data1 data2)
#+END_SRC

#+RESULTS:
: data1:1, data2:2
</pre>

<p>
Multi-line header arguments on a named code block:
</p>

<pre class="example">
#+NAME: named-block
#+HEADER: :var data=2
#+BEGIN_SRC emacs-lisp
  (message "data:%S" data)
#+END_SRC

#+RESULTS: named-block
: data:2
</pre>
</div>
</div>

<div id="outline-container-sec-14-8-7" class="outline-4">
<h4 id="sec-14-8-7">Header arguments in function calls</h4>
<div class="outline-text-4" id="text-14-8-7">
<p>
At the most specific level, header arguments for “Library of Babel” or
<code>#+CALL:</code> lines can be set as shown in the two examples below. For more
information on the structure of <code>#+CALL:</code> lines see
<i>Evaluating code blocks</i>.
</p>

<p>
The following will apply the <code>:exports results</code> header argument to the
evaluation of the <code>#+CALL:</code> line.
</p>

<pre class="example">
#+CALL: factorial(n=5) :exports results
</pre>

<p>
The following will apply the <code>:session special</code> header argument to the
evaluation of the <code>factorial</code> code block.
</p>

<pre class="example">
#+CALL: factorial[:session special](n=5)
</pre>
</div>
</div>

<div id="outline-container-sec-14-8-8" class="outline-4">
<h4 id="sec-14-8-8">14.8.2 Specific header arguments</h4>
<div class="outline-text-4" id="text-14-8-8">
<p>
Header arguments consist of an initial colon followed by the name of the
argument in lowercase letters. The following header arguments are
defined:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><i>var</i>:</td>
<td class="left">Pass arguments to code blocks</td>
</tr>

<tr>
<td class="left"><i>Results</i>:</td>
<td class="left">Specify the type of results and how they will be collected and handled</td>
</tr>

<tr>
<td class="left"><i>file</i>:</td>
<td class="left">Specify a path for file output</td>
</tr>

<tr>
<td class="left"><i>file-desc</i>:</td>
<td class="left">Specify a description for file results</td>
</tr>

<tr>
<td class="left"><i>file-ext</i>:</td>
<td class="left">Specify an extension for file output</td>
</tr>

<tr>
<td class="left"><i>output-dir</i>:</td>
<td class="left">Specify a directory to write file output to</td>
</tr>

<tr>
<td class="left"><i>dir</i>:</td>
<td class="left">Specify the default (possibly remote) directory for code block execution</td>
</tr>

<tr>
<td class="left"><i>exports</i>:</td>
<td class="left">Export code and/or results</td>
</tr>

<tr>
<td class="left"><i>tangle</i>:</td>
<td class="left">Toggle tangling and specify file name</td>
</tr>

<tr>
<td class="left"><i>mkdirp</i>:</td>
<td class="left">Toggle creation of parent directories of target files during tangling</td>
</tr>

<tr>
<td class="left"><i>comments</i>:</td>
<td class="left">Toggle insertion of comments in tangled code files</td>
</tr>

<tr>
<td class="left"><i>padline</i>:</td>
<td class="left">Control insertion of padding lines in tangled code files</td>
</tr>

<tr>
<td class="left"><i>no-expand</i>:</td>
<td class="left">Turn off variable assignment and noweb expansion during tangling</td>
</tr>

<tr>
<td class="left"><i>session</i>:</td>
<td class="left">Preserve the state of code evaluation</td>
</tr>

<tr>
<td class="left"><i>noweb</i>:</td>
<td class="left">Toggle expansion of noweb references</td>
</tr>

<tr>
<td class="left"><i>noweb-ref</i>:</td>
<td class="left">Specify block's noweb reference resolution target</td>
</tr>

<tr>
<td class="left"><i>noweb-sep</i>:</td>
<td class="left">String used to separate noweb references</td>
</tr>

<tr>
<td class="left"><i>cache</i>:</td>
<td class="left">Avoid re-evaluating unchanged code blocks</td>
</tr>

<tr>
<td class="left"><i>sep</i>:</td>
<td class="left">Delimiter for writing tabular results outside Org</td>
</tr>

<tr>
<td class="left"><i>hlines</i>:</td>
<td class="left">Handle horizontal lines in tables</td>
</tr>

<tr>
<td class="left"><i>colnames</i>:</td>
<td class="left">Handle column names in tables</td>
</tr>

<tr>
<td class="left"><i>rownames</i>:</td>
<td class="left">Handle row names in tables</td>
</tr>

<tr>
<td class="left"><i>shebang</i>:</td>
<td class="left">Make tangled files executable</td>
</tr>

<tr>
<td class="left"><i>tangle-mode</i>:</td>
<td class="left">Set permission of tangled files</td>
</tr>

<tr>
<td class="left"><i>eval</i>:</td>
<td class="left">Limit evaluation of specific code blocks</td>
</tr>

<tr>
<td class="left"><i>wrap</i>:</td>
<td class="left">Mark source block evaluation results</td>
</tr>

<tr>
<td class="left"><i>post</i>:</td>
<td class="left">Post processing of code block results</td>
</tr>

<tr>
<td class="left"><i>prologue</i>:</td>
<td class="left">Text to prepend to code block body</td>
</tr>

<tr>
<td class="left"><i>epilogue</i>:</td>
<td class="left">Text to append to code block body</td>
</tr>
</tbody>
</table>

<p>
Additional header arguments are defined on a language-specific basis,
see <i>Languages</i>.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-9" class="outline-4">
<h4 id="sec-14-8-9">14.8.2.1 <code>:var</code></h4>
<div class="outline-text-4" id="text-14-8-9">
<p>
The <code>:var</code> header argument is used to pass arguments to code blocks. The
specifics of how arguments are included in a code block vary by
language; these are addressed in the language-specific documentation.
However, the syntax used to specify arguments is the same across all
languages. In every case, variables require a default value when they
are declared.
</p>

<p>
The values passed to arguments can either be literal values, references,
or Emacs Lisp code (see <i>Emacs Lisp evaluation of variables</i>).
References include anything in the Org mode file that takes a <code>#+NAME:</code>
or <code>#+RESULTS:</code> line: tables, lists, <code>#+BEGIN_EXAMPLE</code> blocks, other
code blocks and the results of other code blocks.
</p>

<p>
Note: When a reference is made to another code block, the referenced
block will be evaluated unless it has current cached results (see
<i>cache</i>).
</p>

<p>
Argument values can be indexed in a manner similar to arrays (see
<i>Indexable variable values</i>).
</p>

<p>
The following syntax is used to pass arguments to code blocks using the
<code>:var</code> header argument.
</p>

<pre class="example">
:var name=assign
</pre>

<p>
The argument, <code>assign</code>, can either be a literal value, such as a string
‘"string"' or a number ‘9', or a reference to a table, a list, a literal
example, another code block (with or without arguments), or the results
of evaluating another code block.
</p>

<p>
Here are examples of passing values by reference:
</p>

<dl class="org-dl">
<dt> <i>table</i> </dt><dd>an Org mode table named with either a <code>#+NAME:</code> line

<pre class="example">
#+NAME: example-table
| 1 |
| 2 |
| 3 |
| 4 |

#+NAME: table-length
#+BEGIN_SRC emacs-lisp :var table=example-table
(length table)
#+END_SRC

#+RESULTS: table-length
: 4
</pre>
</dd>

<dt> <i>list</i> </dt><dd>a simple list named with a <code>#+NAME:</code> line (note that
nesting is not carried through to the source code block)

<pre class="example">
#+NAME: example-list
  - simple
    - not
    - nested
  - list

#+BEGIN_SRC emacs-lisp :var x=example-list
  (print x)
#+END_SRC

#+RESULTS:
| simple | list |
</pre>
</dd>

<dt> <i>code block without arguments</i> </dt><dd>a code block name (from the example
above), as assigned by <code>#+NAME:</code>, optionally followed by parentheses

<pre class="example">
#+BEGIN_SRC emacs-lisp :var length=table-length()
(* 2 length)
#+END_SRC

#+RESULTS:
: 8
</pre>
</dd>

<dt> <i>code block with arguments</i> </dt><dd>a code block name, as assigned by
<code>#+NAME:</code>, followed by parentheses and optional arguments passed
within the parentheses following the code block name using standard
function call syntax

<pre class="example">
#+NAME: double
#+BEGIN_SRC emacs-lisp :var input=8
(* 2 input)
#+END_SRC

#+RESULTS: double
: 16

#+NAME: squared
#+BEGIN_SRC emacs-lisp :var input=double(input=1)
(* input input)
#+END_SRC

#+RESULTS: squared
: 4
</pre>
</dd>

<dt> <i>literal example</i> </dt><dd>a literal example block named with a <code>#+NAME:</code>
   line

<pre class="example">
#+NAME: literal-example
#+BEGIN_EXAMPLE
A literal example
on two lines
</pre>

<div class="org-src-container">

<pre class="src src-emacs-lisp" id="read-literal-example">(concatenate 'string x " for you.")
</pre>
</div>
<p>
#+END<sub>EXAMPLE</sub>
</p>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-14-8-10" class="outline-4">
<h4 id="sec-14-8-10">Indexable variable values</h4>
<div class="outline-text-4" id="text-14-8-10">
<p>
It is possible to reference portions of variable values by “indexing”
into the variables. Indexes are 0 based with negative values counting
back from the end. If an index is separated by =,=s then each subsequent
section will index into the next deepest nesting or dimension of the
value. Note that this indexing occurs <i>before</i> other table related
header arguments like <code>:hlines</code>, <code>:colnames</code> and <code>:rownames</code> are
applied. The following example assigns the last cell of the first row
the table <code>example-table</code> to the variable <code>data</code>:
</p>

<pre class="example">
#+NAME: example-table
| 1 | a |
| 2 | b |
| 3 | c |
| 4 | d |

#+BEGIN_SRC emacs-lisp :var data=example-table[0,-1]
  data
#+END_SRC

#+RESULTS:
: a
</pre>

<p>
Ranges of variable values can be referenced using two integers separated
by a <code>:</code>, in which case the entire inclusive range is referenced. For
example the following assigns the middle three rows of <code>example-table</code>
to <code>data</code>.
</p>

<pre class="example">
#+NAME: example-table
| 1 | a |
| 2 | b |
| 3 | c |
| 4 | d |
| 5 | 3 |

#+BEGIN_SRC emacs-lisp :var data=example-table[1:3]
  data
#+END_SRC

#+RESULTS:
| 2 | b |
| 3 | c |
| 4 | d |
</pre>

<p>
Additionally, an empty index, or the single character <code>*</code>, are both
interpreted to mean the entire range and as such are equivalent to
<code>0:-1</code>, as shown in the following example in which the entire first
column is referenced.
</p>

<pre class="example">
#+NAME: example-table
| 1 | a |
| 2 | b |
| 3 | c |
| 4 | d |

#+BEGIN_SRC emacs-lisp :var data=example-table[,0]
  data
#+END_SRC

#+RESULTS:
| 1 | 2 | 3 | 4 |
</pre>

<p>
It is possible to index into the results of code blocks as well as
tables. Any number of dimensions can be indexed. Dimensions are
separated from one another by commas, as shown in the following example.
</p>

<pre class="example">
#+NAME: 3D
#+BEGIN_SRC emacs-lisp
  '(((1  2  3)  (4  5  6)  (7  8  9))
    ((10 11 12) (13 14 15) (16 17 18))
    ((19 20 21) (22 23 24) (25 26 27)))
#+END_SRC

#+BEGIN_SRC emacs-lisp :var data=3D[1,,1]
  data
#+END_SRC

#+RESULTS:
| 11 | 14 | 17 |
</pre>
</div>
</div>

<div id="outline-container-sec-14-8-11" class="outline-4">
<h4 id="sec-14-8-11">Emacs Lisp evaluation of variables</h4>
<div class="outline-text-4" id="text-14-8-11">
<p>
Emacs lisp code can be used to initialize variable values. When a
variable value starts with <code>(</code>, <code>[</code>, ='= or <code>`</code> it will be evaluated as
Emacs Lisp and the result of the evaluation will be assigned as the
variable value. The following example demonstrates use of this
evaluation to reliably pass the file-name of the Org mode buffer to a
code block&#x2014;note that evaluation of header arguments is guaranteed to
take place in the original Org mode file, while there is no such
guarantee for evaluation of the code block body.
</p>

<pre class="example">
#+BEGIN_SRC sh :var filename=(buffer-file-name) :exports both
  wc -w $filename
#+END_SRC
</pre>

<p>
Note that values read from tables and lists will not be evaluated as
Emacs Lisp, as shown in the following example.
</p>

<pre class="example">
#+NAME: table
| (a b c) |

#+HEADERS: :var data=table[0,0]
#+BEGIN_SRC perl
  $data
#+END_SRC

#+RESULTS:
: (a b c)
</pre>
</div>
</div>

<div id="outline-container-sec-14-8-12" class="outline-4">
<h4 id="sec-14-8-12">14.8.2.2 <code>:results</code></h4>
<div class="outline-text-4" id="text-14-8-12">
<p>
There are four classes of <code>:results</code> header argument. Only one option
per class may be supplied per code block.
</p>

<ul class="org-ul">
<li><b>collection</b> header arguments specify how the results should be
collected from the code block
</li>
<li><b>type</b> header arguments specify what type of result the code block
will return&#x2014;which has implications for how they will be processed
before insertion into the Org mode buffer
</li>
<li><b>format</b> header arguments specify what type of result the code block
will return&#x2014;which has implications for how they will be inserted
into the Org mode buffer
</li>
<li><b>handling</b> header arguments specify how the results of evaluating the
code block should be handled.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-13" class="outline-4">
<h4 id="sec-14-8-13">Collection</h4>
<div class="outline-text-4" id="text-14-8-13">
<p>
The following options are mutually exclusive, and specify how the
results should be collected from the code block.
</p>

<ul class="org-ul">
<li><code>value</code> This is the default. The result is the value of the last
statement in the code block. This header argument places the
evaluation in functional mode. Note that in some languages, e.g.,
Python, use of this result type requires that a <code>return</code> statement be
included in the body of the source code block. E.g.,
<code>:results value</code>.
</li>
<li><code>output</code> The result is the collection of everything printed to STDOUT
during the execution of the code block. This header argument places
the evaluation in scripting mode. E.g., <code>:results output</code>.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-14" class="outline-4">
<h4 id="sec-14-8-14">Type</h4>
<div class="outline-text-4" id="text-14-8-14">
<p>
The following options are mutually exclusive and specify what type of
results the code block will return. By default, results are inserted as
either a table or scalar depending on their value.
</p>

<ul class="org-ul">
<li><code>table</code>, <code>vector</code> The results should be interpreted as an Org mode
table. If a single value is returned, it will be converted into a
table with one row and one column. E.g., <code>:results value table</code>.
</li>
<li><code>list</code> The results should be interpreted as an Org mode list. If a
single scalar value is returned it will be converted into a list with
only one element.
</li>
<li><code>scalar</code>, <code>verbatim</code> The results should be interpreted
literally&#x2014;they will not be converted into a table. The results will
be inserted into the Org mode buffer as quoted text. E.g.,
<code>:results value verbatim</code>.
</li>
<li><code>file</code> The results will be interpreted as the path to a file, and
will be inserted into the Org mode buffer as a file link. E.g.,
<code>:results value file</code>.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-15" class="outline-4">
<h4 id="sec-14-8-15">Format</h4>
<div class="outline-text-4" id="text-14-8-15">
<p>
The following options are mutually exclusive and specify what type of
results the code block will return. By default, results are inserted
according to the type as specified above.
</p>

<ul class="org-ul">
<li><code>raw</code> The results are interpreted as raw Org mode code and are
inserted directly into the buffer. If the results look like a table
they will be aligned as such by Org mode. E.g., <code>:results value raw</code>.
</li>
<li><code>org</code> The results are will be enclosed in a <code>BEGIN_SRC org</code> block.
They are not comma-escaped by default but they will be if you hit TAB
in the block and/or if you export the file. E.g.,
<code>:results value org</code>.
</li>
<li><code>html</code> Results are assumed to be HTML and will be enclosed in a
<code>BEGIN_HTML</code> block. E.g., <code>:results value html</code>.
</li>
<li><code>latex</code> Results assumed to be LaTeX and are enclosed in a
<code>BEGIN_LaTeX</code> block. E.g., <code>:results value latex</code>.
</li>
<li><code>code</code> Result are assumed to be parsable code and are enclosed in a
code block. E.g., <code>:results value code</code>.
</li>
<li><code>pp</code> The result is converted to pretty-printed code and is enclosed
in a code block. This option currently supports Emacs Lisp, Python,
and Ruby. E.g., <code>:results value pp</code>.
</li>
<li><code>drawer</code> The result is wrapped in a RESULTS drawer. This can be
useful for inserting <code>raw</code> or <code>org</code> syntax results in such a way that
their extent is known and they can be automatically removed or
replaced.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-16" class="outline-4">
<h4 id="sec-14-8-16">Handling</h4>
<div class="outline-text-4" id="text-14-8-16">
<p>
The following results options indicate what happens with the results
once they are collected.
</p>

<ul class="org-ul">
<li><code>silent</code> The results will be echoed in the minibuffer but will not be
inserted into the Org mode buffer. E.g., <code>:results output silent</code>.
</li>
<li><code>replace</code> The default value. Any existing results will be removed,
and the new results will be inserted into the Org mode buffer in
their place. E.g., <code>:results output replace</code>.
</li>
<li><code>append</code> If there are pre-existing results of the code block then the
new results will be appended to the existing results. Otherwise the
new results will be inserted as with <code>replace</code>.
</li>
<li><code>prepend</code> If there are pre-existing results of the code block then
the new results will be prepended to the existing results. Otherwise
the new results will be inserted as with <code>replace</code>.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-17" class="outline-4">
<h4 id="sec-14-8-17">14.8.2.3 <code>:file</code></h4>
<div class="outline-text-4" id="text-14-8-17">
<p>
The header argument <code>:file</code> is used to specify an external file in which
to save code block results. After code block evaluation an Org mode
style <code>[[file:]]</code> link (see <a href="#Link-format">Link format</a>) to the file
will be inserted into the Org mode buffer. Some languages including R,
gnuplot, dot, and ditaa provide special handling of the <code>:file</code> header
argument automatically wrapping the code block body in the boilerplate
code required to save output to the specified file. This is often useful
for saving graphical output of a code block to the specified file.
</p>

<p>
The argument to <code>:file</code> should be either a string specifying the path to
a file, or a list of two strings in which case the first element of the
list should be the path to a file and the second a description for the
link.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-18" class="outline-4">
<h4 id="sec-14-8-18">14.8.2.4 <code>:file-desc</code></h4>
<div class="outline-text-4" id="text-14-8-18">
<p>
The value of the <code>:file-desc</code> header argument is used to provide a
description for file code block results which are inserted as Org mode
links (see <a href="#Link-format">Link format</a>). If the <code>:file-desc</code> header
argument is given with no value the link path will be placed in both the
“link” and the “description” portion of the Org mode link.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-19" class="outline-4">
<h4 id="sec-14-8-19">14.8.2.5 <code>:file-ext</code></h4>
<div class="outline-text-4" id="text-14-8-19">
<p>
The value of the <code>:file-ext</code> header argument is used to provide an
extension to write the file output to. It is combined with the <code>#+NAME:</code>
of the source block and the value of the <i>output-dir</i>
header argument to generate a complete file name.
</p>

<p>
This header arg will be overridden by <code>:file</code>, and thus has no effect
when the latter is specified.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-20" class="outline-4">
<h4 id="sec-14-8-20">14.8.2.6 <code>:output-dir</code></h4>
<div class="outline-text-4" id="text-14-8-20">
<p>
The value of the <code>:output-dir</code> header argument is used to provide a
directory to write the file output to. It may specify an absolute
directory (beginning with <code>/</code>) or a relative directory (without <code>/</code>). It
can be combined with the <code>#+NAME:</code> of the source block and the value of
the <i>file-ext</i> header argument to generate a complete
file name, or used along with a <i>file</i> header arg.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-21" class="outline-4">
<h4 id="sec-14-8-21">14.8.2.7 <code>:dir</code> and remote execution</h4>
<div class="outline-text-4" id="text-14-8-21">
<p>
While the <code>:file</code> header argument can be used to specify the path to the
output file, <code>:dir</code> specifies the default directory during code block
execution. If it is absent, then the directory associated with the
current buffer is used. In other words, supplying <code>:dir path</code>
temporarily has the same effect as changing the current directory with
M-x cd path RET, and then not supplying <code>:dir</code>. Under the surface,
<code>:dir</code> simply sets the value of the Emacs variable <code>default-directory</code>.
</p>

<p>
When using <code>:dir</code>, you should supply a relative path for file output
(e.g., <code>:file myfile.jpg</code> or <code>:file results/myfile.jpg</code>) in which case
that path will be interpreted relative to the default directory.
</p>

<p>
In other words, if you want your plot to go into a folder called Work in
your home directory, you could use
</p>

<pre class="example">
#+BEGIN_SRC R :file myplot.png :dir ~/Work
matplot(matrix(rnorm(100), 10), type="l")
#+END_SRC
</pre>
</div>
</div>

<div id="outline-container-sec-14-8-22" class="outline-4">
<h4 id="sec-14-8-22">Remote execution</h4>
<div class="outline-text-4" id="text-14-8-22">
<p>
A directory on a remote machine can be specified using tramp file
syntax, in which case the code will be evaluated on the remote machine.
An example is
</p>

<pre class="example">
#+BEGIN_SRC R :file plot.png :dir /dand@yakuba.princeton.edu:
plot(1:10, main=system("hostname", intern=TRUE))
#+END_SRC
</pre>

<p>
Text results will be returned to the local Org mode buffer as usual, and
file output will be created on the remote machine with relative paths
interpreted relative to the remote directory. An Org mode link to the
remote file will be created.
</p>

<p>
So, in the above example a plot will be created on the remote machine,
and a link of the following form will be inserted in the org buffer:
</p>

<pre class="example">
[[file:/scp:dand@yakuba.princeton.edu:/home/dand/plot.png][plot.png]]
</pre>

<p>
Most of this functionality follows immediately from the fact that <code>:dir</code>
sets the value of the Emacs variable <code>default-directory</code>, thanks to
tramp. Those using XEmacs, or GNU Emacs prior to version 23 may need to
install tramp separately in order for these features to work correctly.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-23" class="outline-4">
<h4 id="sec-14-8-23">Further points</h4>
<div class="outline-text-4" id="text-14-8-23">
<ul class="org-ul">
<li>If <code>:dir</code> is used in conjunction with <code>:session</code>, although it will
determine the starting directory for a new session as expected, no
attempt is currently made to alter the directory associated with an
existing session.
</li>
<li><code>:dir</code> should typically not be used to create files during export
with <code>:exports results</code> or <code>:exports both</code>. The reason is that, in
order to retain portability of exported material between machines,
during export links inserted into the buffer will <i>not</i> be expanded
against <code>default directory</code>. Therefore, if <code>default-directory</code> is
altered using <code>:dir</code>, it is probable that the file will be created in
a location to which the link does not point.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-24" class="outline-4">
<h4 id="sec-14-8-24">14.8.2.8 <code>:exports</code></h4>
<div class="outline-text-4" id="text-14-8-24">
<p>
The <code>:exports</code> header argument specifies what should be included in HTML
or LaTeX exports of the Org mode file. Note that the <code>:exports</code> option
is only relevant for code blocks, not inline code.
</p>

<ul class="org-ul">
<li><code>code</code> The default. The body of code is included into the exported
file. E.g., <code>:exports code</code>.
</li>
<li><code>results</code> The result of evaluating the code is included in the
exported file. E.g., <code>:exports results</code>.
</li>
<li><code>both</code> Both the code and results are included in the exported file.
E.g., <code>:exports both</code>.
</li>
<li><code>none</code> Nothing is included in the exported file. E.g.,
<code>:exports none</code>.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-25" class="outline-4">
<h4 id="sec-14-8-25">14.8.2.9 <code>:tangle</code></h4>
<div class="outline-text-4" id="text-14-8-25">
<p>
The <code>:tangle</code> header argument specifies whether or not the code block
should be included in tangled extraction of source code files.
</p>

<ul class="org-ul">
<li><code>tangle</code> The code block is exported to a source code file named after
the full path (including the directory) and file name (w/o extension)
of the Org mode file. E.g., <code>:tangle yes</code>.
</li>
<li><code>no</code> The default. The code block is not exported to a source code
file. E.g., <code>:tangle no</code>.
</li>
<li>other Any other string passed to the <code>:tangle</code> header argument is
interpreted as a path (directory and file name relative to the
directory of the Org mode file) to which the block will be exported.
E.g., <code>:tangle path</code>.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-26" class="outline-4">
<h4 id="sec-14-8-26">14.8.2.10 <code>:mkdirp</code></h4>
<div class="outline-text-4" id="text-14-8-26">
<p>
The <code>:mkdirp</code> header argument can be used to create parent directories
of tangled files when missing. This can be set to <code>yes</code> to enable
directory creation or to <code>no</code> to inhibit directory creation.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-27" class="outline-4">
<h4 id="sec-14-8-27">14.8.2.11 <code>:comments</code></h4>
<div class="outline-text-4" id="text-14-8-27">
<p>
By default code blocks are tangled to source-code files without any
insertion of comments beyond those which may already exist in the body
of the code block. The <code>:comments</code> header argument can be set as follows
to control the insertion of extra comments into the tangled code file.
</p>

<ul class="org-ul">
<li><code>no</code> The default. No extra comments are inserted during tangling.
</li>
<li><code>link</code> The code block is wrapped in comments which contain pointers
back to the original Org file from which the code was tangled.
</li>
<li><code>yes</code> A synonym for “link” to maintain backwards compatibility.
</li>
<li><code>org</code> Include text from the Org mode file as a comment. The text is
picked from the leading context of the tangled code and is limited by
the nearest headline or source block as the case may be.
</li>
<li><code>both</code> Turns on both the “link” and “org” comment options.
</li>
<li><code>noweb</code> Turns on the “link” comment option, and additionally wraps
expanded noweb references in the code block body in link comments.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-28" class="outline-4">
<h4 id="sec-14-8-28">14.8.2.12 <code>:padline</code></h4>
<div class="outline-text-4" id="text-14-8-28">
<p>
Control in insertion of padding lines around code block bodies in
tangled code files. The default value is <code>yes</code> which results in
insertion of newlines before and after each tangled code block. The
following arguments are accepted.
</p>

<ul class="org-ul">
<li><code>yes</code> Insert newlines before and after each code block body in
tangled code files.
</li>
<li><code>no</code> Do not insert any newline padding in tangled output.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-29" class="outline-4">
<h4 id="sec-14-8-29">14.8.2.13 <code>:no-expand</code></h4>
<div class="outline-text-4" id="text-14-8-29">
<p>
By default, code blocks are expanded with <code>org-babel-expand-src-block</code>
during tangling. This has the effect of assigning values to variables
specified with <code>:var</code> (see <i>var</i>), and of replacing “noweb”
references (see <i>Noweb reference syntax</i>)
with their targets. The <code>:no-expand</code> header argument can be used to turn
off this behavior. Note: The <code>:no-expand</code> header argument has no impact
on export, i.e. code blocks will irrespective of this header argument
expanded for execution.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-30" class="outline-4">
<h4 id="sec-14-8-30">14.8.2.14 <code>:session</code></h4>
<div class="outline-text-4" id="text-14-8-30">
<p>
The <code>:session</code> header argument starts a (possibly named) session for an
interpreted language where the interpreter's state is preserved. All
code blocks sharing the same name are exectuted by the same interpreter
process. By default, a session is not started.
</p>

<ul class="org-ul">
<li><code>none</code> The default. Each block is evaluated in its own interpreter
process, which is terminated after the evaluation.
</li>
<li><code>other</code> Any other string passed to the <code>:session</code> header argument
will give the session a name. For example, <code>:session mysession</code>. If
<code>:session</code> is given but no name string is specified, the session is
named according to the language used in the block. All blocks with
the same session name share the same session. Using different session
names enables concurrent sessions (even for the same interpreted
language, if the language supports multiple sessions).
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-31" class="outline-4">
<h4 id="sec-14-8-31">14.8.2.15 <code>:noweb</code></h4>
<div class="outline-text-4" id="text-14-8-31">
<p>
The <code>:noweb</code> header argument controls expansion of “noweb” syntax
references (see <i>Noweb reference syntax</i>)
when the code block is evaluated, tangled, or exported. The <code>:noweb</code>
header argument can have one of the five values: <code>no</code>, <code>yes</code>, <code>tangle</code>,
or <code>no-export</code> <code>strip-export</code>.
</p>

<ul class="org-ul">
<li><code>no</code> The default. “Noweb” syntax references in the body of the code
block will not be expanded before the code block is evaluated,
tangled or exported.
</li>
<li><code>yes</code> “Noweb” syntax references in the body of the code block will be
expanded before the code block is evaluated, tangled or exported.
</li>
<li><code>tangle</code> “Noweb” syntax references in the body of the code block will
be expanded before the code block is tangled. However, “noweb” syntax
references will not be expanded when the code block is evaluated or
exported.
</li>
<li><code>no-export</code> “Noweb” syntax references in the body of the code block
will be expanded before the block is evaluated or tangled. However,
“noweb” syntax references will not be expanded when the code block is
exported.
</li>
<li><code>strip-export</code> “Noweb” syntax references in the body of the code
block will be expanded before the block is evaluated or tangled.
However, “noweb” syntax references will be removed when the code
block is exported.
</li>
<li><code>eval</code> “Noweb” syntax references in the body of the code block will
only be expanded before the block is evaluated.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-32" class="outline-4">
<h4 id="sec-14-8-32">Noweb prefix lines</h4>
<div class="outline-text-4" id="text-14-8-32">
<p>
Noweb insertions are now placed behind the line prefix of the
<code>&lt;&lt;reference&gt;&gt;</code>. This behavior is illustrated in the following example.
Because the <code>&lt;&lt;example&gt;&gt;</code> noweb reference appears behind the SQL comment
syntax, each line of the expanded noweb reference will be commented.
</p>

<p>
This code block:
</p>

<pre class="example">
-- &lt;&lt;example&gt;&gt;
</pre>

<p>
expands to:
</p>

<pre class="example">
-- this is the
-- multi-line body of example
</pre>

<p>
Note that noweb replacement text that does not contain any newlines will
not be affected by this change, so it is still possible to use inline
noweb references.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-33" class="outline-4">
<h4 id="sec-14-8-33">14.8.2.16 <code>:noweb-ref</code></h4>
<div class="outline-text-4" id="text-14-8-33">
<p>
When expanding “noweb” style references, the bodies of all code block
with <i>either</i> a block name matching the reference name <i>or</i> a
<code>:noweb-ref</code> header argument matching the reference name will be
concatenated together to form the replacement text.
</p>

<p>
By setting this header argument at the subtree or file level, simple
code block concatenation may be achieved. For example, when tangling the
following Org mode file, the bodies of code blocks will be concatenated
into the resulting pure code file<sup><a id="fnr.162" name="fnr.162" class="footref" href="#fn.162">162</a></sup>.
</p>

<pre class="example">
#+BEGIN_SRC sh :tangle yes :noweb yes :shebang #!/bin/sh
  &lt;&lt;fullest-disk&gt;&gt;
#+END_SRC
* the mount point of the fullest disk
  :PROPERTIES:
  :noweb-ref: fullest-disk
  :END:

** query all mounted disks
#+BEGIN_SRC sh
  df \
#+END_SRC

** strip the header row
#+BEGIN_SRC sh
  |sed '1d' \
#+END_SRC

** sort by the percent full
#+BEGIN_SRC sh
  |awk '{print $5 " " $6}'|sort -n |tail -1 \
#+END_SRC

** extract the mount point
#+BEGIN_SRC sh
  |awk '{print $2}'
#+END_SRC
</pre>

<p>
The <code>:noweb-sep</code> (see <i>noweb-sep</i>) header argument
holds the string used to separate accumulate noweb references like those
above. By default a newline is used.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-34" class="outline-4">
<h4 id="sec-14-8-34">14.8.2.17 <code>:noweb-sep</code></h4>
<div class="outline-text-4" id="text-14-8-34">
<p>
The <code>:noweb-sep</code> header argument holds the string used to separate
accumulate noweb references (see <i>noweb-ref</i>). By
default a newline is used.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-35" class="outline-4">
<h4 id="sec-14-8-35">14.8.2.18 <code>:cache</code></h4>
<div class="outline-text-4" id="text-14-8-35">
<p>
The <code>:cache</code> header argument controls the use of in-buffer caching of
the results of evaluating code blocks. It can be used to avoid
re-evaluating unchanged code blocks. Note that the <code>:cache</code> header
argument will not attempt to cache results when the <code>:session</code> header
argument is used, because the results of the code block execution may be
stored in the session outside of the Org mode buffer. The <code>:cache</code>
header argument can have one of two values: <code>yes</code> or <code>no</code>.
</p>

<ul class="org-ul">
<li><code>no</code> The default. No caching takes place, and the code block will be
evaluated every time it is called.
</li>
<li><code>yes</code> Every time the code block is run a SHA1 hash of the code and
arguments passed to the block will be generated. This hash is packed
into the <code>#+RESULTS:</code> line and will be checked on subsequent
executions of the code block. If the code block has not changed since
the last time it was evaluated, it will not be re-evaluated.
</li>
</ul>

<p>
Code block caches notice if the value of a variable argument to the code
block has changed. If this is the case, the cache is invalidated and the
code block is re-run. In the following example, <code>caller</code> will not be
re-run unless the results of <code>random</code> have changed since it was last
run.
</p>

<pre class="example">
#+NAME: random
#+BEGIN_SRC R :cache yes
runif(1)
#+END_SRC

#+RESULTS[a2a72cd647ad44515fab62e144796432793d68e1]: random
0.4659510825295

#+NAME: caller
#+BEGIN_SRC emacs-lisp :var x=random :cache yes
x
#+END_SRC

#+RESULTS[bec9c8724e397d5df3b696502df3ed7892fc4f5f]: caller
0.254227238707244
</pre>
</div>
</div>

<div id="outline-container-sec-14-8-36" class="outline-4">
<h4 id="sec-14-8-36">14.8.2.19 <code>:sep</code></h4>
<div class="outline-text-4" id="text-14-8-36">
<p>
The <code>:sep</code> header argument can be used to control the delimiter used
when writing tabular results out to files external to Org mode. This is
used either when opening tabular results of a code block by calling the
<code>org-open-at-point</code> function bound to C-c C-o on the code block, or when
writing code block results to an external file (see <i>file</i>)
header argument.
</p>

<p>
By default, when <code>:sep</code> is not specified output tables are tab
delimited.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-37" class="outline-4">
<h4 id="sec-14-8-37">14.8.2.20 <code>:hlines</code></h4>
<div class="outline-text-4" id="text-14-8-37">
<p>
Tables are frequently represented with one or more horizontal lines, or
hlines. The <code>:hlines</code> argument to a code block accepts the values <code>yes</code>
or <code>no</code>, with a default value of <code>no</code>.
</p>

<ul class="org-ul">
<li><code>no</code> Strips horizontal lines from the input table. In most languages
this is the desired effect because an <code>hline</code> symbol is interpreted
as an unbound variable and raises an error. Setting <code>:hlines no</code> or
relying on the default value yields the following results.

<pre class="example">
#+NAME: many-cols
| a | b | c |
|---+---+---|
| d | e | f |
|---+---+---|
| g | h | i |

#+NAME: echo-table
#+BEGIN_SRC python :var tab=many-cols
  return tab
#+END_SRC

#+RESULTS: echo-table
| a | b | c |
| d | e | f |
| g | h | i |
</pre>
</li>

<li><code>yes</code> Leaves hlines in the table. Setting <code>:hlines yes</code> has this
effect.

<pre class="example">
#+NAME: many-cols
| a | b | c |
|---+---+---|
| d | e | f |
|---+---+---|
| g | h | i |

#+NAME: echo-table
#+BEGIN_SRC python :var tab=many-cols :hlines yes
  return tab
#+END_SRC

#+RESULTS: echo-table
| a | b | c |
|---+---+---|
| d | e | f |
|---+---+---|
| g | h | i |
</pre>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-38" class="outline-4">
<h4 id="sec-14-8-38">14.8.2.21 <code>:colnames</code></h4>
<div class="outline-text-4" id="text-14-8-38">
<p>
The <code>:colnames</code> header argument accepts the values <code>yes</code>, <code>no</code>, or <code>nil</code>
for unassigned. The default value is <code>nil</code>. Note that the behavior of
the <code>:colnames</code> header argument may differ across languages.
</p>

<ul class="org-ul">
<li><code>nil</code> If an input table looks like it has column names (because its
second row is an hline), then the column names will be removed from
the table before processing, then reapplied to the results.

<pre class="example">
#+NAME: less-cols
| a |
|---|
| b |
| c |

#+NAME: echo-table-again
#+BEGIN_SRC python :var tab=less-cols
  return [[val + '*' for val in row] for row in tab]
#+END_SRC

#+RESULTS: echo-table-again
| a  |
|----|
| b* |
| c* |
</pre>

<p>
Please note that column names are not removed before the table is
indexed using variable indexing See <i>Indexable variable
values</i>.
</p>
</li>

<li><code>no</code> No column name pre-processing takes place
</li>
<li><code>yes</code> Column names are removed and reapplied as with <code>nil</code> even if
the table does not “look like” it has column names (i.e., the second
row is not an hline)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-39" class="outline-4">
<h4 id="sec-14-8-39">14.8.2.22 <code>:rownames</code></h4>
<div class="outline-text-4" id="text-14-8-39">
<p>
The <code>:rownames</code> header argument can take on the values <code>yes</code> or <code>no</code>,
with a default value of <code>no</code>. Note that Emacs Lisp code blocks ignore
the <code>:rownames</code> header argument entirely given the ease with which
tables with row names may be handled directly in Emacs Lisp.
</p>

<ul class="org-ul">
<li><code>no</code> No row name pre-processing will take place.
</li>
<li><code>yes</code> The first column of the table is removed from the table before
processing, and is then reapplied to the results.

<pre class="example">
#+NAME: with-rownames
| one | 1 | 2 | 3 | 4 |  5 |
| two | 6 | 7 | 8 | 9 | 10 |

#+NAME: echo-table-once-again
#+BEGIN_SRC python :var tab=with-rownames :rownames yes
  return [[val + 10 for val in row] for row in tab]
#+END_SRC

#+RESULTS: echo-table-once-again
| one | 11 | 12 | 13 | 14 | 15 |
| two | 16 | 17 | 18 | 19 | 20 |
</pre>

<p>
Please note that row names are not removed before the table is
indexed using variable indexing See <i>Indexable variable
values</i>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-14-8-40" class="outline-4">
<h4 id="sec-14-8-40">14.8.2.23 <code>:shebang</code></h4>
<div class="outline-text-4" id="text-14-8-40">
<p>
Setting the <code>:shebang</code> header argument to a string value (e.g.,
=:shebang "#!/bin/bash"=) causes the string to be inserted as the first
line of any tangled file holding the code block, and the file
permissions of the tangled file are set to make it executable.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-41" class="outline-4">
<h4 id="sec-14-8-41">14.8.2.24 <code>:tangle-mode</code></h4>
<div class="outline-text-4" id="text-14-8-41">
<p>
The <code>tangle-mode</code> header argument controls the permission set on tangled
files. The value of this header argument will be passed to
<code>set-file-modes</code>. For example, to set a tangled file as read only use
<code>:tangle-mode (identity #o444)</code>, or to set a tangled file as executable
use <code>:tangle-mode (identity #o755)</code>. Blocks with <code>shebang</code>
(<i>shebang</i>) header arguments will automatically be made
executable unless the <code>tangle-mode</code> header argument is also used. The
behavior is undefined if multiple code blocks with different values for
the <code>tangle-mode</code> header argument are tangled to the same file.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-42" class="outline-4">
<h4 id="sec-14-8-42">14.8.2.25 <code>:eval</code></h4>
<div class="outline-text-4" id="text-14-8-42">
<p>
The <code>:eval</code> header argument can be used to limit the evaluation of
specific code blocks. The <code>:eval</code> header argument can be useful for
protecting against the evaluation of dangerous code blocks or to ensure
that evaluation will require a query regardless of the value of the
<code>org-confirm-babel-evaluate</code> variable. The possible values of <code>:eval</code>
and their effects are shown below.
</p>

<dl class="org-dl">
<dt> <code>never or no</code> </dt><dd>The code block will not be evaluated under any
circumstances.
</dd>

<dt> <code>query</code> </dt><dd>Evaluation of the code block will require a query.
</dd>

<dt> <code>never-export or no-export</code> </dt><dd>The code block will not be evaluated
during export but may still be called interactively.
</dd>

<dt> <code>query-export</code> </dt><dd>Evaluation of the code block during export will
require a query.
</dd>
</dl>

<p>
If this header argument is not set then evaluation is determined by the
value of the <code>org-confirm-babel-evaluate</code> variable see
<i>Code evaluation security</i>.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-43" class="outline-4">
<h4 id="sec-14-8-43">14.8.2.26 <code>:wrap</code></h4>
<div class="outline-text-4" id="text-14-8-43">
<p>
The <code>:wrap</code> header argument is used to mark the results of source block
evaluation. The header argument can be passed a string that will be
appended to <code>#+BEGIN_</code> and <code>#+END_</code>, which will then be used to wrap the
results. If not string is specified then the results will be wrapped in
a <code>#+BEGIN/END_RESULTS</code> block.
</p>
</div>
</div>

<div id="outline-container-sec-14-8-44" class="outline-4">
<h4 id="sec-14-8-44">14.8.2.27 <code>:post</code></h4>
<div class="outline-text-4" id="text-14-8-44">
<p>
The <code>:post</code> header argument is used to post-process the results of a
code block execution. When a post argument is given, the results of the
code block will temporarily be bound to the <code>*this*</code> variable. This
variable may then be included in header argument forms such as those
used in <i>var</i> header argument specifications allowing passing of
results to other code blocks, or direct execution via Emacs Lisp.
Additional header arguments may be passed to the <code>:post</code>-function.
</p>

<p>
The following two examples illustrate the usage of the <code>:post</code> header
argument. The first example shows how to attach a attribute-line via
<code>:post</code>.
</p>

<pre class="example">
#+name: attr_wrap
#+begin_src sh :var data="" :var width="\\textwidth" :results output
  echo "#+ATTR_LATEX: :width $width"
  echo "$data"
#+end_src

#+header: :file /tmp/it.png
#+begin_src dot :post attr_wrap(width="5cm", data=*this*) :results drawer
  digraph{
          a -&gt; b;
          b -&gt; c;
          c -&gt; a;
  }
#+end_src

#+RESULTS:
:RESULTS:
#+ATTR_LATEX :width 5cm
[[file:/tmp/it.png]]
:END:
</pre>

<p>
The second examples shows how to use <code>:post</code> together with the
<code>:colnames</code> header argument.
</p>

<pre class="example">
#+name: round-tbl
#+begin_src emacs-lisp :var tbl="" fmt="%.3f"
  (mapcar (lambda (row)
            (mapcar (lambda (cell)
                      (if (numberp cell)
                          (format fmt cell)
                        cell))
                    row))
          tbl)
#+end_src

#+begin_src R :colnames yes :post round-tbl[:colnames yes](*this*)
set.seed(42)
data.frame(foo=rnorm(1))
#+end_src

#+RESULTS:
|   foo |
|-------|
| 1.371 |
</pre>
</div>
</div>

<div id="outline-container-sec-14-8-45" class="outline-4">
<h4 id="sec-14-8-45">14.8.2.28 <code>:prologue</code></h4>
<div class="outline-text-4" id="text-14-8-45">
<p>
The value of the <code>prologue</code> header argument will be prepended to the
code block body before execution. For example, =:prologue "reset"= may
be used to reset a gnuplot session before execution of a particular code
block, or the following configuration may be used to do this for all
gnuplot code blocks. Also see <i>epilogue</i>.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-to-list 'org-babel-default-header-args:gnuplot
             '((:prologue . "reset")))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-14-8-46" class="outline-4">
<h4 id="sec-14-8-46">14.8.2.29 <code>:epilogue</code></h4>
<div class="outline-text-4" id="text-14-8-46">
<p>
The value of the <code>epilogue</code> header argument will be appended to the code
block body before execution. Also see <i>prologue</i>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-14-9" class="outline-3">
<h3 id="sec-14-9">14.9 Results of evaluation</h3>
<div class="outline-text-3" id="text-14-9">
<p>
The way in which results are handled depends on whether a session is
invoked, as well as on whether <code>:results value</code> or <code>:results output</code> is
used. The following table shows the table possibilities. For a full
listing of the possible results header arguments see
<i>Results</i>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><b>Non-session</b></td>
<td class="left"><b>Session</b></td>
</tr>

<tr>
<td class="left"><code>:results value</code></td>
<td class="left">value of last expression</td>
<td class="left">value of last expression</td>
</tr>

<tr>
<td class="left"><code>:results output</code></td>
<td class="left">contents of STDOUT</td>
<td class="left">concatenation of interpreter output</td>
</tr>
</tbody>
</table>

<p>
Note: With <code>:results value</code>, the result in both <code>:session</code> and
non-session is returned to Org mode as a table (a one- or
two-dimensional vector of strings or numbers) when appropriate.
</p>
</div>

<div id="outline-container-sec-14-9-1" class="outline-4">
<h4 id="sec-14-9-1">14.9.1 Non-session</h4>
</div>

<div id="outline-container-sec-14-9-2" class="outline-4">
<h4 id="sec-14-9-2">14.9.1.1 <code>:results value</code></h4>
<div class="outline-text-4" id="text-14-9-2">
<p>
This is the default. Internally, the value is obtained by wrapping the
code in a function definition in the external language, and evaluating
that function. Therefore, code should be written as if it were the body
of such a function. In particular, note that Python does not
automatically return a value from a function unless a <code>return</code> statement
is present, and so a ‘return' statement will usually be required in
Python.
</p>

<p>
This is the only one of the four evaluation contexts in which the code
is automatically wrapped in a function definition.
</p>
</div>
</div>

<div id="outline-container-sec-14-9-3" class="outline-4">
<h4 id="sec-14-9-3">14.9.1.2 <code>:results output</code></h4>
<div class="outline-text-4" id="text-14-9-3">
<p>
The code is passed to the interpreter as an external process, and the
contents of the standard output stream are returned as text. (In certain
languages this also contains the error output stream; this is an area
for future work.)
</p>
</div>
</div>

<div id="outline-container-sec-14-9-4" class="outline-4">
<h4 id="sec-14-9-4">14.9.2 Session</h4>
</div>

<div id="outline-container-sec-14-9-5" class="outline-4">
<h4 id="sec-14-9-5">14.9.2.1 <code>:results value</code></h4>
<div class="outline-text-4" id="text-14-9-5">
<p>
The code is passed to an interpreter running as an interactive Emacs
inferior process. Only languages which provide tools for interactive
evaluation of code have session support, so some language (e.g., C and
ditaa) do not support the <code>:session</code> header argument, and in other
languages (e.g., Python and Haskell) which have limitations on the code
which may be entered into interactive sessions, those limitations apply
to the code in code blocks using the <code>:session</code> header argument as well.
</p>

<p>
Unless the <code>:results output</code> option is supplied (see below) the result
returned is the result of the last evaluation performed by the
interpreter. (This is obtained in a language-specific manner: the value
of the variable <code>_</code> in Python and Ruby, and the value of <code>.Last.value</code>
in R).
</p>
</div>
</div>

<div id="outline-container-sec-14-9-6" class="outline-4">
<h4 id="sec-14-9-6">14.9.2.2 <code>:results output</code></h4>
<div class="outline-text-4" id="text-14-9-6">
<p>
The code is passed to the interpreter running as an interactive Emacs
inferior process. The result returned is the concatenation of the
sequence of (text) output from the interactive interpreter. Notice that
this is not necessarily the same as what would be sent to <code>STDOUT</code> if
the same code were passed to a non-interactive interpreter running as an
external process. For example, compare the following two blocks:
</p>

<pre class="example">
#+BEGIN_SRC python :results output
 print "hello"
 2
 print "bye"
#+END_SRC

#+RESULTS:
: hello
: bye
</pre>

<p>
In non-session mode, the “2” is not printed and does not appear.
</p>

<pre class="example">
#+BEGIN_SRC python :results output :session
 print "hello"
 2
 print "bye"
#+END_SRC

#+RESULTS:
: hello
: 2
: bye
</pre>

<p>
But in <code>:session</code> mode, the interactive interpreter receives input “2”
and prints out its value, “2”. (Indeed, the other print statements are
unnecessary here).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-14-10" class="outline-3">
<h3 id="sec-14-10">14.10 Noweb reference syntax</h3>
<div class="outline-text-3" id="text-14-10">
<p>
The “noweb” (see <a href="http://www.cs.tufts.edu/~nr/noweb/">http://www.cs.tufts.edu/~nr/noweb/</a>) Literate
Programming system allows named blocks of code to be referenced by using
the familiar Noweb syntax:
</p>

<pre class="example">
&lt;&lt;code-block-name&gt;&gt;
</pre>

<p>
When a code block is tangled or evaluated, whether or not “noweb”
references are expanded depends upon the value of the <code>:noweb</code> header
argument. If <code>:noweb yes</code>, then a Noweb reference is expanded before
evaluation. If <code>:noweb no</code>, the default, then the reference is not
expanded before evaluation. See the <i>noweb-ref</i> header
argument for a more flexible way to resolve noweb references.
</p>

<p>
It is possible to include the <i>results</i> of a code block rather than the
body. This is done by appending parenthesis to the code block name which
may optionally contain arguments to the code block as shown below.
</p>

<pre class="example">
&lt;&lt;code-block-name(optional arguments)&gt;&gt;
</pre>

<p>
Note: the default value, <code>:noweb no</code>, was chosen to ensure that correct
code is not broken in a language, such as Ruby, where <code>&lt;&lt;arg&gt;&gt;</code> is a
syntactically valid construct. If <code>&lt;&lt;arg&gt;&gt;</code> is not syntactically valid
in languages that you use, then please consider setting the default
value.
</p>

<p>
Note: if noweb tangling is slow in large Org mode files consider setting
the <code>org-babel-use-quick-and-dirty-noweb-expansion</code> variable to <code>t</code>.
This will result in faster noweb reference resolution at the expense of
not correctly resolving inherited values of the <code>:noweb-ref</code> header
argument.
</p>
</div>
</div>

<div id="outline-container-sec-14-11" class="outline-3">
<h3 id="sec-14-11">14.11 Key bindings and useful functions</h3>
<div class="outline-text-3" id="text-14-11">
<p>
Many common Org mode key sequences are re-bound depending on the
context.
</p>

<p>
Within a code block, the following key bindings are active:
</p>

<p>
C-c C-c
</p>

<p>
<code>org-babel-execute-src-block</code>
</p>

<p>
C-c C-o
</p>

<p>
<code>org-babel-open-src-block-result</code>
</p>

<p>
M-up
</p>

<p>
<code>org-babel-load-in-session</code>
</p>

<p>
M-down
</p>

<p>
<code>org-babel-switch-to-session</code>
</p>

<p>
In an Org mode buffer, the following key bindings are active:
</p>

<p>
C-c C-v p or C-c C-v C-p
</p>

<p>
<code>org-babel-previous-src-block</code>
</p>

<p>
C-c C-v n or C-c C-v C-n
</p>

<p>
<code>org-babel-next-src-block</code>
</p>

<p>
C-c C-v e or C-c C-v C-e
</p>

<p>
<code>org-babel-execute-maybe</code>
</p>

<p>
C-c C-v o or C-c C-v C-o
</p>

<p>
<code>org-babel-open-src-block-result</code>
</p>

<p>
C-c C-v v or C-c C-v C-v
</p>

<p>
<code>org-babel-expand-src-block</code>
</p>

<p>
C-c C-v u or C-c C-v C-u
</p>

<p>
<code>org-babel-goto-src-block-head</code>
</p>

<p>
C-c C-v g or C-c C-v C-g
</p>

<p>
<code>org-babel-goto-named-src-block</code>
</p>

<p>
C-c C-v r or C-c C-v C-r
</p>

<p>
<code>org-babel-goto-named-result</code>
</p>

<p>
C-c C-v b or C-c C-v C-b
</p>

<p>
<code>org-babel-execute-buffer</code>
</p>

<p>
C-c C-v s or C-c C-v C-s
</p>

<p>
<code>org-babel-execute-subtree</code>
</p>

<p>
C-c C-v d or C-c C-v C-d
</p>

<p>
<code>org-babel-demarcate-block</code>
</p>

<p>
C-c C-v t or C-c C-v C-t
</p>

<p>
<code>org-babel-tangle</code>
</p>

<p>
C-c C-v f or C-c C-v C-f
</p>

<p>
<code>org-babel-tangle-file</code>
</p>

<p>
C-c C-v c or C-c C-v C-c
</p>

<p>
<code>org-babel-check-src-block</code>
</p>

<p>
C-c C-v j or C-c C-v C-j
</p>

<p>
<code>org-babel-insert-header-arg</code>
</p>

<p>
C-c C-v l or C-c C-v C-l
</p>

<p>
<code>org-babel-load-in-session</code>
</p>

<p>
C-c C-v i or C-c C-v C-i
</p>

<p>
<code>org-babel-lob-ingest</code>
</p>

<p>
C-c C-v I or C-c C-v C-I
</p>

<p>
<code>org-babel-view-src-block-info</code>
</p>

<p>
C-c C-v z or C-c C-v C-z
</p>

<p>
<code>org-babel-switch-to-session-with-code</code>
</p>

<p>
C-c C-v a or C-c C-v C-a
</p>

<p>
<code>org-babel-sha1-hash</code>
</p>

<p>
C-c C-v h or C-c C-v C-h
</p>

<p>
<code>org-babel-describe-bindings</code>
</p>

<p>
C-c C-v x or C-c C-v C-x
</p>

<p>
<code>org-babel-do-key-sequence-in-edit-buffer</code>
</p>
</div>
</div>

<div id="outline-container-sec-14-12" class="outline-3">
<h3 id="sec-14-12">14.12 Batch execution</h3>
<div class="outline-text-3" id="text-14-12">
<p>
It is possible to call functions from the command line. This shell
script calls <code>org-babel-tangle</code> on every one of its arguments.
</p>

<p>
Be sure to adjust the paths to fit your system.
</p>

<pre class="example">
#!/bin/sh
# -*- mode: shell-script -*-
#
# tangle files with org-mode
#
DIR=`pwd`
FILES=""

# wrap each argument in the code required to call tangle on it
for i in $@; do
    FILES="$FILES \"$i\""
done

emacs -Q --batch \
--eval "(progn
(add-to-list 'load-path (expand-file-name \"~/src/org/lisp/\"))
(add-to-list 'load-path (expand-file-name \"~/src/org/contrib/lisp/\" t))
(require 'org)(require 'org-exp)(require 'ob)(require 'ob-tangle)
(mapc (lambda (file)
       (find-file (expand-file-name file \"$DIR\"))
       (org-babel-tangle)
       (kill-buffer)) '($FILES)))" 2&gt;&amp;1 |grep tangled
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15">15 Miscellaneous</h2>
<div class="outline-text-2" id="text-15">
</div><div id="outline-container-sec-15-1" class="outline-3">
<h3 id="sec-15-1">15.1 Completion                                                    <a id="Completion" name="Completion"></a></h3>
<div class="outline-text-3" id="text-15-1">
<p>
Emacs would not be Emacs without completion, and Org mode uses it
whenever it makes sense. If you prefer an <i>iswitchb</i>- or <i>ido</i>-like
interface for some of the completion prompts, you can specify your
preference by setting at most one of the variables
<code>org-completion-use-iswitchb</code> <code>org-completion-use-ido</code>.
</p>

<p>
Org supports in-buffer completion. This type of completion does not make
use of the minibuffer. You simply type a few letters into the buffer and
use the key to complete text right there.
</p>

<p>
M-TAB
</p>

<p>
Complete word at point
</p>

<ul class="org-ul">
<li>At the beginning of a headline, complete TODO keywords.
</li>
<li>After ‘\', complete TeX symbols supported by the exporter.
</li>
<li>After ‘*', complete headlines in the current buffer so that they can
be used in search links like ‘<i>*find this headline</i>'.
</li>
<li>After ‘:' in a headline, complete tags. The list of tags is taken
from the variable <code>org-tag-alist</code> (possibly set through the ‘#+TAGS'
in-buffer option, see <a href="#Setting-tags">Setting tags</a>), or it is
created dynamically from all tags used in the current buffer.
</li>
<li>After ‘:' and not in a headline, complete property keys. The list of
keys is constructed dynamically from all keys used in the current
buffer.
</li>
<li>After ‘[', complete link abbreviations (see
<a href="#Link-abbreviations">Link abbreviations</a>).
</li>
<li>After ‘#+', complete the special keywords like ‘TYP<sub>TODO'</sub> or
‘OPTIONS' which set file-specific options for Org mode. When the
option keyword is already complete, pressing M-TAB again will insert
example settings for this keyword.
</li>
<li>In the line after ‘#+STARTUP: ', complete startup keywords, i.e.,
valid keys for this line.
</li>
<li>Elsewhere, complete dictionary words using Ispell.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-15-2" class="outline-3">
<h3 id="sec-15-2">15.2 Easy templates                                                <a id="Easy-templates" name="Easy-templates"></a></h3>
<div class="outline-text-3" id="text-15-2">
<p>
Org mode supports insertion of empty structural elements (like
<code>#+BEGIN_SRC</code> and <code>#+END_SRC</code> pairs) with just a few key strokes. This
is achieved through a native template expansion mechanism. Note that
Emacs has several other template mechanisms which could be used in a
similar way, for example yasnippet.
</p>

<p>
To insert a structural element, type a ‘&lt;', followed by a template
selector and TAB. Completion takes effect only when the above keystrokes
are typed on a line by itself.
</p>

<p>
The following template selectors are currently supported.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">s</td>
<td class="left"><code>#+BEGIN_SRC     ... #+END_SRC</code></td>
</tr>

<tr>
<td class="left">e</td>
<td class="left"><code>#+BEGIN_EXAMPLE ... #+END_EXAMPLE</code></td>
</tr>

<tr>
<td class="left">q</td>
<td class="left"><code>#+BEGIN_QUOTE   ... #+END_QUOTE</code></td>
</tr>

<tr>
<td class="left">v</td>
<td class="left"><code>#+BEGIN_VERSE   ... #+END_VERSE</code></td>
</tr>

<tr>
<td class="left">c</td>
<td class="left"><code>#+BEGIN_CENTER  ... #+END_CENTER</code></td>
</tr>

<tr>
<td class="left">l</td>
<td class="left"><code>#+BEGIN_LaTeX   ... #+END_LaTeX</code></td>
</tr>

<tr>
<td class="left">L</td>
<td class="left"><code>#+LaTeX:</code></td>
</tr>

<tr>
<td class="left">h</td>
<td class="left"><code>#+BEGIN_HTML    ... #+END_HTML</code></td>
</tr>

<tr>
<td class="left">H</td>
<td class="left"><code>#+HTML:</code></td>
</tr>

<tr>
<td class="left">a</td>
<td class="left"><code>#+BEGIN_ASCII   ... #+END_ASCII</code></td>
</tr>

<tr>
<td class="left">A</td>
<td class="left"><code>#+ASCII:</code></td>
</tr>

<tr>
<td class="left">i</td>
<td class="left"><code>#+INDEX:</code> line</td>
</tr>

<tr>
<td class="left">I</td>
<td class="left"><code>#+INCLUDE:</code> line</td>
</tr>
</tbody>
</table>

<p>
For example, on an empty line, typing "&lt;e" and then pressing TAB, will
expand into a complete EXAMPLE template.
</p>

<p>
You can install additional templates by customizing the variable
<code>org-structure-template-alist</code>. See the docstring of the variable for
additional details.
</p>
</div>
</div>

<div id="outline-container-sec-15-3" class="outline-3">
<h3 id="sec-15-3">15.3 Speed keys</h3>
<div class="outline-text-3" id="text-15-3">
<p>
Single keys can be made to execute commands when the cursor is at the
beginning of a headline, i.e., before the first star. Configure the
variable <code>org-use-speed-commands</code> to activate this feature. There is a
pre-defined list of commands, and you can add more such commands using
the variable <code>org-speed-commands-user</code>. Speed keys not only speed up
navigation and other commands, but they also provide an alternative way
to execute commands bound to keys that are not or not easily available
on a TTY, or on a small mobile device with a limited keyboard.
</p>

<p>
To see which commands are available, activate the feature and press ?
with the cursor at the beginning of a headline.
</p>
</div>
</div>

<div id="outline-container-sec-15-4" class="outline-3">
<h3 id="sec-15-4">15.4 Code evaluation and security issues</h3>
<div class="outline-text-3" id="text-15-4">
<p>
Org provides tools to work with code snippets, including evaluating
them.
</p>

<p>
Running code on your machine always comes with a security risk. Badly
written or malicious code can be executed on purpose or by accident. Org
has default settings which will only evaluate such code if you give
explicit permission to do so, and as a casual user of these features you
should leave these precautions intact.
</p>

<p>
For people who regularly work with such code, the confirmation prompts
can become annoying, and you might want to turn them off. This can be
done, but you must be aware of the risks that are involved.
</p>

<p>
Code evaluation can happen under the following circumstances:
</p>

<dl class="org-dl">
<dt> <i>Source code blocks</i> </dt><dd>Source code blocks can be evaluated during
export, or when pressing C-c C-c in the block. The most important
thing to realize here is that Org mode files which contain code
snippets are, in a certain sense, like executable files. So you
should accept them and load them into Emacs only from trusted
sources&#x2014;just like you would do with a program you install on your
computer.

<p>
Make sure you know what you are doing before customizing the
variables which take off the default security brakes.
</p>

<dl class="org-dl">
<dt> User Option: <b>org-confirm-babel-evaluate</b> </dt><dd>When t (the default),
the user is asked before every code block evaluation. When <code>nil</code>,
the user is not asked. When set to a function, it is called with
two arguments (language and body of the code block) and should
return t to ask and <code>nil</code> not to ask.
</dd>
</dl>
<p>
For example, here is how to execute "ditaa" code (which is considered
safe) without asking:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun my-org-confirm-babel-evaluate (lang body)
  (not (string= lang "ditaa")))  ; don't ask for ditaa
(setq org-confirm-babel-evaluate 'my-org-confirm-babel-evaluate)
</pre>
</div>
</dd>

<dt> <i>Following <code>shell</code> and <code>elisp</code> links</i> </dt><dd>Org has two link types that
can directly evaluate code (see <a href="#External-links">External links</a>).
These links can be problematic because the code to be evaluated is
not visible.

<dl class="org-dl">
<dt> User Option: <b>org-confirm-shell-link-function</b> </dt><dd>Function to
queries user about shell link execution.
</dd>

<dt> User Option: <b>org-confirm-elisp-link-function</b> </dt><dd>Functions to
query user for Emacs Lisp link execution.
</dd>
</dl>
</dd>

<dt> <i>Formulas in tables</i> </dt><dd>Formulas in tables (see
<a href="#The-spreadsheet">The spreadsheet</a>) are code that is evaluated
either by the <i>calc</i> interpreter, or by the <i>Emacs Lisp</i> interpreter.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-15-5" class="outline-3">
<h3 id="sec-15-5">15.5 Customization</h3>
<div class="outline-text-3" id="text-15-5">
<p>
There are more than 500 variables that can be used to customize Org. For
the sake of compactness of the manual, I am not describing the variables
here. A structured overview of customization variables is available with
M-x org-customize RET. Or select <code>Browse Org Group</code> from the
<code>Org-&gt;Customization</code> menu. Many settings can also be activated on a
per-file basis, by putting special lines into the buffer (see
<a href="#In_buffer-settings">In-buffer settings</a>).
</p>
</div>
</div>

<div id="outline-container-sec-15-6" class="outline-3">
<h3 id="sec-15-6">15.6 Summary of in-buffer settings                                 <a id="In_buffer-settings" name="In_buffer-settings"></a></h3>
<div class="outline-text-3" id="text-15-6">
<p>
Org mode uses special lines in the buffer to define settings on a
per-file basis. These lines start with a ‘#+' followed by a keyword, a
colon, and then individual words defining a setting. Several setting
words can be in the same line, but you can also have multiple lines for
the keyword. While these settings are described throughout the manual,
here is a summary. After changing any of these lines in the buffer,
press C-c C-c with the cursor still in the line to activate the changes
immediately. Otherwise they become effective only when the file is
visited again in a new Emacs session.
</p>

<dl class="org-dl">
<dt> #+ARCHIVE: %s\<sub>done</sub>:: </dt><dd>This line sets the archive location for the
agenda file. It applies for all subsequent lines until the next
‘#+ARCHIVE' line, or the end of the file. The first such line also
applies to any entries before it. The corresponding variable is
<code>org-archive-location</code>.
</dd>

<dt> #+CATEGORY: </dt><dd>This line sets the category for the agenda file. The
category applies to the whole document.
</dd>

<dt> #+COLUMNS: %25ITEM &#x2026; </dt><dd>Set the default format for columns view.
This format applies when columns view is invoked in locations where
no <code>COLUMNS</code> property applies.
</dd>

<dt> #+CONSTANTS: name1=value1 &#x2026; </dt><dd>Set file-local values for constants
to be used in table formulas. This line sets the local variable
<code>org-table-formula-constants-local</code>. The global version of this
variable is <code>org-table-formula-constants</code>.
</dd>

<dt> #+FILETAGS: :tag1:tag2:tag3: </dt><dd>Set tags that can be inherited by any
entry in the file, including the top-level entries.
</dd>

<dt> #+LINK: linkword replace </dt><dd>These lines (several are allowed) specify
link abbreviations. See <a href="#Link-abbreviations">Link abbreviations</a>.
The corresponding variable is <code>org-link-abbrev-alist</code>.
</dd>

<dt> #+PRIORITIES: highest lowest default </dt><dd>This line sets the limits and
the default for the priorities. All three must be either letters A&#x2013;Z
or numbers 0&#x2013;9. The highest priority must have a lower ASCII number
than the lowest priority.
</dd>

<dt> #+PROPERTY: Property<sub>Name</sub> Value </dt><dd>This line sets a default
inheritance value for entries in the current buffer, most useful for
specifying the allowed values of a property.
</dd>

<dt> #+SETUPFILE: file </dt><dd>This line defines a file that holds more
in-buffer setup. Normally this is entirely ignored. Only when the
buffer is parsed for option-setting lines (i.e., when starting Org
mode for a file, when pressing C-c C-c in a settings line, or when
exporting), then the contents of this file are parsed as if they had
been included in the buffer. In particular, the file can be any other
Org mode file with internal setup. You can visit the file the cursor
is in the line with C-c '.
</dd>

<dt> #+STARTUP: </dt><dd>This line sets options to be used at startup of Org
mode, when an Org file is being visited.

<p>
The first set of options deals with the initial visibility of the
outline tree. The corresponding variable for global default settings
is <code>org-startup-folded</code>, with a default value <code>t</code>, which means
<code>overview</code>.
</p>

<pre class="example">
overview         top-level headlines only
content          all headlines
showall          no folding of any entries
showeverything   show even drawer contents
</pre>

<p>
Dynamic virtual indentation is controlled by the variable
=org-startup-indented=<sup><a id="fnr.163" name="fnr.163" class="footref" href="#fn.163">163</a></sup>
</p>

<pre class="example">
indent     start with org-indent-mode turned on
noindent   start with org-indent-mode turned off
</pre>

<p>
Then there are options for aligning tables upon visiting a file. This
is useful in files containing narrowed table columns. The
corresponding variable is <code>org-startup-align-all-tables</code>, with a
default value <code>nil</code>.
</p>

<pre class="example">
align      align all tables
noalign    don’t align tables on startup
</pre>

<p>
When visiting a file, inline images can be automatically displayed.
The corresponding variable is <code>org-startup-with-inline-images</code>, with
a default value <code>nil</code> to avoid delays when visiting a file.
</p>

<pre class="example">
inlineimages   show inline images
noinlineimages don’t show inline images on startup
</pre>

<p>
When visiting a file, LaTeX fragments can be converted to images
automatically. The variable <code>org-startup-with-latex-preview</code> which
controls this behavior, is set to <code>nil</code> by default to avoid delays on
startup.
</p>

<pre class="example">
latexpreview   preview LaTeX fragments
nolatexpreview don’t preview LaTeX fragments
</pre>

<p>
Logging the closing and reopening of TODO items and clock intervals
can be configured using these options (see variables <code>org-log-done</code>,
<code>org-log-note-clock-out</code> and <code>org-log-repeat</code>)
</p>

<pre class="example">
logdone             record a timestamp when an item is marked DONE
lognotedone         record timestamp and a note when DONE
nologdone           don’t record when items are marked DONE
logrepeat           record a time when reinstating a repeating item
lognoterepeat       record a note when reinstating a repeating item
nologrepeat         do not record when reinstating repeating item
lognoteclock-out    record a note when clocking out
nolognoteclock-out  don’t record a note when clocking out
logreschedule       record a timestamp when scheduling time changes
lognotereschedule   record a note when scheduling time changes
nologreschedule     do not record when a scheduling date changes
logredeadline       record a timestamp when deadline changes
lognoteredeadline   record a note when deadline changes
nologredeadline     do not record when a deadline date changes
logrefile           record a timestamp when refiling
lognoterefile       record a note when refiling
nologrefile         do not record when refiling
logdrawer           store log into drawer
nologdrawer         store log outside of drawer
logstatesreversed   reverse the order of states notes
nologstatesreversed do not reverse the order of states notes
</pre>

<p>
Here are the options for hiding leading stars in outline headings,
and for indenting outlines. The corresponding variables are
<code>org-hide-leading-stars</code> and <code>org-odd-levels-only</code>, both with a
default setting <code>nil</code> (meaning <code>showstars</code> and <code>oddeven</code>).
</p>

<pre class="example">
hidestars  make all but one of the stars starting a headline invisible.
showstars  show all stars starting a headline
indent     virtual indentation according to outline level
noindent   no virtual indentation according to outline level
odd        allow only odd outline levels (1,3,...)
oddeven    allow all outline levels
</pre>

<p>
To turn on custom format overlays over timestamps (variables
<code>org-put-time-stamp-overlays</code> and <code>org-time-stamp-overlay-formats</code>),
use
</p>

<pre class="example">
customtime overlay custom time format
</pre>

<p>
The following options influence the table spreadsheet (variable
<code>constants-unit-system</code>).
</p>

<pre class="example">
constcgs   constants.el should use the c-g-s unit system
constSI    constants.el should use the SI unit system
</pre>

<p>
To influence footnote settings, use the following keywords. The
corresponding variables are <code>org-footnote-define-inline</code>,
<code>org-footnote-auto-label</code>, and <code>org-footnote-auto-adjust</code>.
</p>

<pre class="example">
fninline    define footnotes inline
fnnoinline  define footnotes in separate section
fnlocal     define footnotes near first reference, but not inline
fnprompt    prompt for footnote labels
fnauto      create [fn:1]-like labels automatically (default)
fnconfirm   offer automatic label for editing or confirmation
fnplain     create [1]-like labels automatically
fnadjust    automatically renumber and sort footnotes
nofnadjust  do not renumber and sort automatically
</pre>

<p>
To hide blocks on startup, use these keywords. The corresponding
variable is <code>org-hide-block-startup</code>.
</p>

<pre class="example">
hideblocks   Hide all begin/end blocks on startup
nohideblocks Do not hide blocks on startup
</pre>

<p>
The display of entities as UTF-8 characters is governed by the
variable <code>org-pretty-entities</code> and the keywords
</p>

<pre class="example">
entitiespretty  Show entities as UTF-8 characters where possible
entitiesplain   Leave entities plain
</pre>
</dd>

<dt> #+TAGS: TAG1(c1) TAG2(c2) </dt><dd>These lines (several such lines are
allowed) specify the valid tags in this file, and (potentially) the
corresponding <i>fast tag selection</i> keys. The corresponding variable
is <code>org-tag-alist</code>.
</dd>

<dt> #+TBLFM: </dt><dd>This line contains the formulas for the table directly
above the line.

<p>
Table can have multiple lines containing ‘#+TBLFM:'. Note that only
the first line of ‘#+TBLFM:' will be applied when you recalculate the
table. For more details see
<i>Using multiple #+TBLFM
lines</i> in <a href="#Editing-and-debugging-formulas">Editing and debugging
formulas</a>.
</p>
</dd>

<dt> (no term) </dt><dd>#+TITLE:, #+AUTHOR:, #+EMAIL:, #+LANGUAGE:, #+DATE:,<br  />
<p>
exporting files. For more details see <a href="#Export-settings">Export
settings</a>.
</p>
</dd>

<dt> #+TODO: #+SEQ<sub>TODO</sub>: #+TYP<sub>TODO</sub>: </dt><dd>These lines set the TODO
keywords and their interpretation in the current file. The
corresponding variable is <code>org-todo-keywords</code>.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-15-7" class="outline-3">
<h3 id="sec-15-7">15.7 The very busy C-c C-c key</h3>
<div class="outline-text-3" id="text-15-7">
<p>
The key C-c C-c has many purposes in Org, which are all mentioned
scattered throughout this manual. One specific function of this key is
to add <i>tags</i> to a headline (see <a href="#Tags">Tags</a>). In many other
circumstances it means something like <i>“Hey Org, look here and update
according to what you see here”</i>. Here is a summary of what this means
in different contexts.
</p>

<ul class="org-ul">
<li>- If there are highlights in the buffer from the creation of a sparse
tree, or from clock display, remove these highlights.
</li>
<li>- If the cursor is in one of the special <code>#+KEYWORD</code> lines, this
triggers scanning the buffer for these lines and updating the
information.
</li>
<li>- If the cursor is inside a table, realign the table. This command
works even if the automatic table editor has been turned off.
</li>
<li>- If the cursor is on a <code>#+TBLFM</code> line, re-apply the formulas to the
entire table.
</li>
<li>- If the current buffer is a capture buffer, close the note and file
it. With a prefix argument, file it, without further interaction, to
the default location.
</li>
<li>- If the cursor is on a <code>&lt;&lt;&lt;target&gt;&gt;&gt;</code>, update radio targets and
corresponding links in this buffer.
</li>
<li>- If the cursor is in a property line or at the start or end of a
property drawer, offer property commands.
</li>
<li>- If the cursor is at a footnote reference, go to the corresponding
definition, and <i>vice versa</i>.
</li>
<li>- If the cursor is on a statistics cookie, update it.
</li>
<li>- If the cursor is in a plain list item with a checkbox, toggle the
status of the checkbox.
</li>
<li>- If the cursor is on a numbered item in a plain list, renumber the
ordered list.
</li>
<li>- If the cursor is on the <code>#+BEGIN</code> line of a dynamic block, the
block is updated.
</li>
<li>- If the cursor is at a timestamp, fix the day name in the timestamp.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-15-8" class="outline-3">
<h3 id="sec-15-8">15.8 A cleaner outline view                                        <a id="Clean-view" name="Clean-view"></a></h3>
<div class="outline-text-3" id="text-15-8">
<p>
Some people find it noisy and distracting that the Org headlines start
with a potentially large number of stars, and that text below the
headlines is not indented. While this is no problem when writing a
<i>book-like</i> document where the outline headings are really section
headings, in a more <i>list-oriented</i> outline, indented structure is a lot
cleaner:
</p>

<pre class="example">
* Top level headline             |    * Top level headline
** Second level                  |      * Second level
*** 3rd level                    |        * 3rd level
some text                        |          some text
*** 3rd level                    |        * 3rd level
more text                        |          more text
* Another top level headline     |    * Another top level headline
</pre>

<p>
If you are using at least Emacs 23.2<sup><a id="fnr.164" name="fnr.164" class="footref" href="#fn.164">164</a></sup> and version
6.29 of Org, this kind of view can be achieved dynamically at display
time using <code>org-indent-mode</code>. In this minor mode, all lines are prefixed
for display with the necessary amount of space<sup><a id="fnr.165" name="fnr.165" class="footref" href="#fn.165">165</a></sup>. Also
headlines are prefixed with additional stars, so that the amount of
indentation shifts by two<sup><a id="fnr.166" name="fnr.166" class="footref" href="#fn.166">166</a></sup> spaces per level. All
headline stars but the last one are made invisible using the <code>org-hide</code>
face<sup><a id="fnr.167" name="fnr.167" class="footref" href="#fn.167">167</a></sup>; see below under ‘2.' for more information on
how this works. You can turn on <code>org-indent-mode</code> for all files by
customizing the variable <code>org-startup-indented</code>, or you can turn it on
for individual files using
</p>

<pre class="example">
#+STARTUP: indent
</pre>

<p>
If you want a similar effect in an earlier version of Emacs and/or Org,
or if you want the indentation to be hard space characters so that the
plain text file looks as similar as possible to the Emacs display, Org
supports you in the following way:
</p>

<ol class="org-ol">
<li><i>Indentation of text below headlines</i><br  />
    You may indent text below each headline to make the left boundary
line up with the headline, like

<pre class="example">
*** 3rd level
    more text, now indented
</pre>

<p>
Org supports this with paragraph filling, line wrapping, and
structure editing<sup><a id="fnr.168" name="fnr.168" class="footref" href="#fn.168">168</a></sup>, preserving or adapting the
indentation as appropriate.
</p>
</li>

<li><i>Hiding leading stars</i><br  />
    You can modify the display in such a way that all leading stars
become invisible. To do this in a global way, configure the variable
<code>org-hide-leading-stars</code> or change this on a per-file basis with

<pre class="example">
#+STARTUP: hidestars
#+STARTUP: showstars
</pre>

<p>
With hidden stars, the tree becomes:
</p>

<pre class="example">
* Top level headline
 * Second level
  * 3rd level
  ...
</pre>

<p>
The leading stars are not truly replaced by whitespace, they are only
fontified with the face <code>org-hide</code> that uses the background color as
font color. If you are not using either white or black background,
you may have to customize this face to get the wanted effect. Another
possibility is to set this font such that the extra stars are
<i>almost</i> invisible, for example using the color <code>grey90</code> on a white
background.
</p>
</li>

<li>Things become cleaner still if you skip all the even levels and use
only odd levels 1, 3, 5&#x2026;, effectively adding two stars to go from
one outline level to the next<sup><a id="fnr.169" name="fnr.169" class="footref" href="#fn.169">169</a></sup>. In this way we get
the outline view shown at the beginning of this section. In order to
make the structure editing and export commands handle this convention
correctly, configure the variable <code>org-odd-levels-only</code>, or set this
on a per-file basis with one of the following lines:

<pre class="example">
#+STARTUP: odd
#+STARTUP: oddeven
</pre>

<p>
You can convert an Org file from single-star-per-level to the
double-star-per-level convention with M-x org-convert-to-odd-levels
RET in that file. The reverse operation is M-x
org-convert-to-oddeven-levels.
</p>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-15-9" class="outline-3">
<h3 id="sec-15-9">15.9 Using Org on a tty</h3>
<div class="outline-text-3" id="text-15-9">
<p>
Because Org contains a large number of commands, by default many of
Org's core commands are bound to keys that are generally not accessible
on a tty, such as the cursor keys (<code>left</code>, <code>right</code>, <code>up</code>, <code>down</code>), <code>TAB</code>
and <code>RET</code>, in particular when used together with modifiers like <code>Meta</code>
and/or <code>Shift</code>. To access these commands on a tty when special keys are
unavailable, the following alternative bindings can be used. The tty
bindings below will likely be more cumbersome; you may find for some of
the bindings below that a customized workaround suits you better. For
example, changing a timestamp is really only fun with S-cursor keys,
whereas on a tty you would rather use C-c . to re-insert the timestamp.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><b>Default</b></td>
<td class="left"><b>Alternative 1</b></td>
<td class="left"><b>Speed key</b></td>
<td class="left"><b>Alternative 2</b></td>
</tr>

<tr>
<td class="left">S-TAB</td>
<td class="left">C-u TAB</td>
<td class="left">C</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">M-left</td>
<td class="left">C-c C-x l</td>
<td class="left">l</td>
<td class="left">Esc left</td>
</tr>

<tr>
<td class="left">M-S-left</td>
<td class="left">C-c C-x L</td>
<td class="left">L</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">M-right</td>
<td class="left">C-c C-x r</td>
<td class="left">r</td>
<td class="left">Esc right</td>
</tr>

<tr>
<td class="left">M-S-right</td>
<td class="left">C-c C-x R</td>
<td class="left">R</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">M-up</td>
<td class="left">C-c C-x u</td>
<td class="left">&#xa0;</td>
<td class="left">Esc up</td>
</tr>

<tr>
<td class="left">M-S-up</td>
<td class="left">C-c C-x U</td>
<td class="left">U</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">M-down</td>
<td class="left">C-c C-x d</td>
<td class="left">&#xa0;</td>
<td class="left">Esc down</td>
</tr>

<tr>
<td class="left">M-S-down</td>
<td class="left">C-c C-x D</td>
<td class="left">D</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">S-RET</td>
<td class="left">C-c C-x c</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">M-RET</td>
<td class="left">C-c C-x m</td>
<td class="left">&#xa0;</td>
<td class="left">Esc RET</td>
</tr>

<tr>
<td class="left">M-S-RET</td>
<td class="left">C-c C-x M</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">S-left</td>
<td class="left">C-c left</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">S-right</td>
<td class="left">C-c right</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">S-up</td>
<td class="left">C-c up</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">S-down</td>
<td class="left">C-c down</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">C-S-left</td>
<td class="left">C-c C-x left</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">C-S-right</td>
<td class="left">C-c C-x right</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-15-10" class="outline-3">
<h3 id="sec-15-10">15.10 Interaction with other packages</h3>
<div class="outline-text-3" id="text-15-10">
<p>
Org lives in the world of GNU Emacs and interacts in various ways with
other code out there.
</p>
</div>

<div id="outline-container-sec-15-10-1" class="outline-4">
<h4 id="sec-15-10-1">15.10.1 Packages that Org cooperates with</h4>
<div class="outline-text-4" id="text-15-10-1">
<p>
calc.el by Dave Gillespie
</p>

<p>
Org uses the Calc package for implementing spreadsheet functionality in
its tables (see <a href="#The-spreadsheet">The spreadsheet</a>). Org checks for
the availability of Calc by looking for the function <code>calc-eval</code> which
will have been autoloaded during setup if Calc has been installed
properly. As of Emacs 22, Calc is part of the Emacs distribution.
Another possibility for interaction between the two packages is using
Calc for embedded calculations. See
<a href="http://www.gnu.org/software/emacs/manual/html_mono/calc.html#Embedded-Mode">Embedded
Mode</a> in GNU Emacs Calc Manual.
</p>

<p>
constants.el by Carsten Dominik
</p>

<p>
In a table formula (see <a href="#The-spreadsheet">The spreadsheet</a>), it is
possible to use names for natural constants or units. Instead of
defining your own constants in the variable
<code>org-table-formula-constants</code>, install the constants package which
defines a large number of constants and units, and lets you use unit
prefixes like ‘M' for ‘Mega', etc. You will need version 2.0 of this
package, available at <a href="http://www.astro.uva.nl/~dominik/Tools">http://www.astro.uva.nl/~dominik/Tools</a>. Org
checks for the function <code>constants-get</code>, which has to be autoloaded in
your setup. See the installation instructions in the file constants.el.
</p>

<p>
cdlatex.el by Carsten Dominik
</p>

<p>
Org mode can make use of the CDLaTeX package to efficiently enter LaTeX
fragments into Org files. See <a href="#CDLaTeX-mode">CDLaTeX mode</a>.
</p>

<p>
imenu.el by Ake Stenhoff and Lars Lindberg
</p>

<p>
Imenu allows menu access to an index of items in a file. Org mode
supports Imenu&#x2014;all you need to do to get the index is the following:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'org-mode-hook
          (lambda () (imenu-add-to-menubar "Imenu")))
</pre>
</div>

<p>
By default the index is two levels deep&#x2014;you can modify the depth using
the option <code>org-imenu-depth</code>.
</p>

<p>
remember.el by John Wiegley
</p>

<p>
Org used to use this package for capture, but no longer does.
</p>

<p>
speedbar.el by Eric M. Ludlam
</p>

<p>
Speedbar is a package that creates a special frame displaying files and
index items in files. Org mode supports Speedbar and allows you to drill
into Org files directly from the Speedbar. It also allows you to
restrict the scope of agenda commands to a file or a subtree by using
the command &lt; in the Speedbar frame.
</p>

<p>
table.el by Takaaki Ota
</p>

<p>
Complex ASCII tables with automatic line wrapping, column- and
row-spanning, and alignment can be created using the Emacs table package
by Takaaki Ota (<a href="http://sourceforge.net/projects/table">http://sourceforge.net/projects/table</a>, and also part
of Emacs 22). Org mode will recognize these tables and export them
properly. Because of interference with other Org mode functionality, you
unfortunately cannot edit these tables directly in the buffer. Instead,
you need to use the command C-c ' to edit them, similar to source code
snippets.
</p>

<p>
C-c ' (<code>org-edit-special</code>)
</p>

<p>
Edit a table.el table. Works when the cursor is in a table.el table.
</p>

<p>
C-c ~ (<code>org-table-create-with-table.el</code>)
</p>

<p>
Insert a table.el table. If there is already a table at point, this
command converts it between the table.el format and the Org mode format.
See the documentation string of the command <code>org-convert-table</code> for the
restrictions under which this is possible.
</p>

<p>
table.el is part of Emacs since Emacs 22.
</p>

<p>
footnote.el by Steven L. Baur
</p>

<p>
Org mode recognizes numerical footnotes as provided by this package.
However, Org mode also has its own footnote support (see
<a href="#Footnotes">Footnotes</a>), which makes using footnote.el unnecessary.
</p>
</div>
</div>

<div id="outline-container-sec-15-10-2" class="outline-4">
<h4 id="sec-15-10-2">15.10.2 Packages that lead to conflicts with Org mode             <a id="Conflicts" name="Conflicts"></a></h4>
<div class="outline-text-4" id="text-15-10-2">
<p>
In Emacs 23, <code>shift-selection-mode</code> is on by default, meaning that
cursor motions combined with the shift key should start or enlarge
regions. This conflicts with the use of S-cursor commands in Org to
change timestamps, TODO keywords, priorities, and item bullet types if
the cursor is at such a location. By default, S-cursor commands outside
special contexts don't do anything, but you can customize the variable
<code>org-support-shift-select</code>. Org mode then tries to accommodate shift
selection by (i) using it outside of the special contexts where special
commands apply, and by (ii) extending an existing active region even if
the cursor moves across a special context.
</p>

<p>
CUA.el by Kim. F. Storm
</p>

<p>
Key bindings in Org conflict with the S-&lt;cursor&gt; keys used by CUA mode
(as well as <code>pc-select-mode</code> and <code>s-region-mode</code>) to select and extend
the region. In fact, Emacs 23 has this built-in in the form of
<code>shift-selection-mode</code>, see previous paragraph. If you are using Emacs
23, you probably don't want to use another package for this purpose.
However, if you prefer to leave these keys to a different package while
working in Org mode, configure the variable <code>org-replace-disputed-keys</code>.
When set, Org will move the following key bindings in Org files, and in
the agenda buffer (but not during date selection).
</p>

<pre class="example">
S-UP      ⇒  M-p             S-DOWN     ⇒  M-n
S-LEFT    ⇒  M--             S-RIGHT    ⇒  M-+
C-S-LEFT  ⇒  M-S--           C-S-RIGHT  ⇒  M-S-+
</pre>

<p>
Yes, these are unfortunately more difficult to remember. If you want to
have other replacement keys, look at the variable <code>org-disputed-keys</code>.
</p>

<p>
ecomplete.el by Lars Magne Ingebrigtsen
<a href="mailto:larsi@gnus.org">larsi@gnus.org</a>
</p>

<p>
Ecomplete provides “electric” address completion in address header lines
in message buffers. Sadly Orgtbl mode cuts ecompletes power supply: No
completion happens when Orgtbl mode is enabled in message buffers while
entering text in address header lines. If one wants to use ecomplete one
should <i>not</i> follow the advice to automagically turn on Orgtbl mode in
message buffers (see <a href="#Orgtbl-mode">Orgtbl mode</a>), but instead&#x2014;after
filling in the message headers&#x2014;turn on Orgtbl mode manually when
needed in the messages body.
</p>

<p>
filladapt.el by Kyle Jones
</p>

<p>
Org mode tries to do the right thing when filling paragraphs, list items
and other elements. Many users reported they had problems using both
filladapt.el and Org mode, so a safe thing to do is to disable it like
this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'org-mode-hook 'turn-off-filladapt-mode)
</pre>
</div>

<p>
yasnippet.el
</p>

<p>
The way Org mode binds the <code>TAB</code> key (binding to <code>[tab]</code> instead of
="\t"=) overrules YASnippet's access to this key. The following code
fixed this problem:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'org-mode-hook
          (lambda ()
            (org-set-local 'yas/trigger-key [tab])
            (define-key yas/keymap [tab] 'yas/next-field-or-maybe-expand)))
</pre>
</div>

<p>
The latest version of yasnippet doesn't play well with Org mode. If the
above code does not fix the conflict, start by defining the following
function:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun yas/org-very-safe-expand ()
  (let ((yas/fallback-behavior 'return-nil)) (yas/expand)))
</pre>
</div>

<p>
Then, tell Org mode what to do with the new function:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(add-hook 'org-mode-hook
          (lambda ()
            (make-variable-buffer-local 'yas/trigger-key)
            (setq yas/trigger-key [tab])
            (add-to-list 'org-tab-first-hook 'yas/org-very-safe-expand)
            (define-key yas/keymap [tab] 'yas/next-field)))
</pre>
</div>

<p>
windmove.el by Hovav Shacham
</p>

<p>
This package also uses the S-&lt;cursor&gt; keys, so everything written in the
paragraph above about CUA mode also applies here. If you want make the
windmove function active in locations where Org mode does not have
special functionality on S-cursor, add this to your configuration:
</p>

<div class="org-src-container">

<pre class="src src-lisp">;; Make windmove work in org-mode:
(add-hook 'org-shiftup-final-hook 'windmove-up)
(add-hook 'org-shiftleft-final-hook 'windmove-left)
(add-hook 'org-shiftdown-final-hook 'windmove-down)
(add-hook 'org-shiftright-final-hook 'windmove-right)
</pre>
</div>

<p>
viper.el by Michael Kifer
</p>

<p>
Viper uses C-c / and therefore makes this key not access the
corresponding Org mode command <code>org-sparse-tree</code>. You need to find
another key for this command, or override the key in
<code>viper-vi-global-user-map</code> with
</p>

<div class="org-src-container">

<pre class="src src-lisp">(define-key viper-vi-global-user-map "C-c /" 'org-sparse-tree)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-15-11" class="outline-3">
<h3 id="sec-15-11">15.11 org-crypt.el</h3>
<div class="outline-text-3" id="text-15-11">
<p>
Org-crypt will encrypt the text of an entry, but not the headline, or
properties. Org-crypt uses the Emacs EasyPG library to encrypt and
decrypt files.
</p>

<p>
Any text below a headline that has a ‘:crypt:' tag will be automatically
be encrypted when the file is saved. If you want to use a different tag
just customize the <code>org-crypt-tag-matcher</code> setting.
</p>

<p>
To use org-crypt it is suggested that you have the following in your
.emacs:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(require 'org-crypt)
(org-crypt-use-before-save-magic)
(setq org-tags-exclude-from-inheritance (quote ("crypt")))

(setq org-crypt-key nil)
  ;; GPG key to use for encryption
  ;; Either the Key ID or set to nil to use symmetric encryption.

(setq auto-save-default nil)
  ;; Auto-saving does not cooperate with org-crypt.el: so you need
  ;; to turn it off if you plan to use org-crypt.el quite often.
  ;; Otherwise, you'll get an (annoying) message each time you
  ;; start Org.

  ;; To turn it off only locally, you can insert this:
  ;;
  ;; # -*- buffer-auto-save-file-name: nil; -*-
</pre>
</div>

<p>
Excluding the crypt tag from inheritance prevents already encrypted text
being encrypted again.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16">Appendix A Hacking</h2>
<div class="outline-text-2" id="text-16">
<p>
This appendix covers some areas where users can extend the functionality
of Org.
</p>
</div>

<div id="outline-container-sec-16-1" class="outline-3">
<h3 id="sec-16-1">A.1 Hooks</h3>
<div class="outline-text-3" id="text-16-1">
<p>
Org has a large number of hook variables that can be used to add
functionality. This appendix about hacking is going to illustrate the
use of some of them. A complete list of all hooks with documentation is
maintained by the Worg project and can be found at
<a href="http://orgmode.org/worg/org-configs/org-hooks.php">http://orgmode.org/worg/org-configs/org-hooks.php</a>.
</p>
</div>
</div>

<div id="outline-container-sec-16-2" class="outline-3">
<h3 id="sec-16-2">A.2 Add-on packages</h3>
<div class="outline-text-3" id="text-16-2">
<p>
A large number of add-on packages have been written by various authors.
</p>

<p>
These packages are not part of Emacs, but they are distributed as
contributed packages with the separate release available at
<a href="http://orgmode.org">http://orgmode.org</a>. See the contrib/README file in the source code
directory for a list of contributed files. You may also find some more
information on the Worg page: <a href="http://orgmode.org/worg/org-contrib/">http://orgmode.org/worg/org-contrib/</a>.
</p>
</div>
</div>

<div id="outline-container-sec-16-3" class="outline-3">
<h3 id="sec-16-3">A.3 Adding hyperlink types                                         <a id="Adding-hyperlink-types" name="Adding-hyperlink-types"></a></h3>
<div class="outline-text-3" id="text-16-3">
<p>
Org has a large number of hyperlink types built-in (see
<a href="#Hyperlinks">Hyperlinks</a>). If you would like to add new link types,
Org provides an interface for doing so. Let's look at an example file,
org-man.el, that will add support for creating links like
‘<i>The printf manpage</i>' to show Unix manual pages inside
Emacs:
</p>

<div class="org-src-container">

<pre class="src src-lisp">;;; org-man.el - Support for links to manpages in Org

(require 'org)

(org-add-link-type "man" 'org-man-open)
(add-hook 'org-store-link-functions 'org-man-store-link)

(defcustom org-man-command 'man
  "The Emacs command to be used to display a man page."
  :group 'org-link
  :type '(choice (const man) (const woman)))

(defun org-man-open (path)
  "Visit the manpage on PATH.
PATH should be a topic that can be thrown at the man command."
  (funcall org-man-command path))

(defun org-man-store-link ()
  "Store a link to a manpage."
  (when (memq major-mode '(Man-mode woman-mode))
    ;; This is a man page, we do make this link
    (let* ((page (org-man-get-page-name))
           (link (concat "man:" page))
           (description (format "Manpage for %s" page)))
      (org-store-link-props
       :type "man"
       :link link
       :description description))))

(defun org-man-get-page-name ()
  "Extract the page name from the buffer name."
  ;; This works for both `Man-mode' and `woman-mode'.
  (if (string-match " \\(\\S-+\\)\\*" (buffer-name))
      (match-string 1 (buffer-name))
    (error "Cannot create link to this man page")))

(provide 'org-man)

;;; org-man.el ends here
</pre>
</div>

<p>
You would activate this new link type in .emacs with
</p>

<div class="org-src-container">

<pre class="src src-lisp">(require 'org-man)
</pre>
</div>

<p>
Let's go through the file and see what it does.
</p>

<ol class="org-ol">
<li>It does <code>(require 'org)</code> to make sure that org.el has been loaded.
</li>
<li>The next line calls <code>org-add-link-type</code> to define a new link type
with prefix ‘man'. The call also contains the name of a function that
will be called to follow such a link.
</li>
<li>The next line adds a function to <code>org-store-link-functions</code>, in order
to allow the command C-c l to record a useful link in a buffer
displaying a man page.
</li>
</ol>

<p>
The rest of the file defines the necessary variables and functions.
First there is a customization variable that determines which Emacs
command should be used to display man pages. There are two options,
<code>man</code> and <code>woman</code>. Then the function to follow a link is defined. It
gets the link path as an argument&#x2014;in this case the link path is just a
topic for the manual command. The function calls the value of
<code>org-man-command</code> to display the man page.
</p>

<p>
Finally the function <code>org-man-store-link</code> is defined. When you try to
store a link with C-c l, this function will be called to try to make a
link. The function must first decide if it is supposed to create the
link for this buffer type; we do this by checking the value of the
variable <code>major-mode</code>. If not, the function must exit and return the
value <code>nil</code>. If yes, the link is created by getting the manual topic
from the buffer name and prefixing it with the string ‘man:'. Then it
must call the command <code>org-store-link-props</code> and set the <code>:type</code> and
<code>:link</code> properties. Optionally you can also set the <code>:description</code>
property to provide a default for the link description when the link is
later inserted into an Org buffer with C-c C-l.
</p>

<p>
When it makes sense for your new link type, you may also define a
function <code>org-PREFIX-complete-link</code> that implements special (e.g.,
completion) support for inserting such a link with C-c C-l. Such a
function should not accept any arguments, and return the full link with
prefix.
</p>
</div>
</div>

<div id="outline-container-sec-16-4" class="outline-3">
<h3 id="sec-16-4">A.4 Adding export back-ends</h3>
<div class="outline-text-3" id="text-16-4">
<p>
Org 8.0 comes with a completely rewritten export engine which makes it
easy to write new export back-ends, either from scratch, or by deriving
them from existing ones.
</p>

<p>
Your two entry points are respectively <code>org-export-define-backend</code> and
<code>org-export-define-derived-backend</code>. To grok these functions, you should
first have a look at ox-latex.el (for how to define a new back-end from
scratch) and ox-beamer.el (for how to derive a new back-end from an
existing one.
</p>

<p>
When creating a new back-end from scratch, the basic idea is to set the
name of the back-end (as a symbol) and an alist of elements and export
functions. On top of this, you will need to set additional keywords like
<code>:menu-entry</code> (to display the back-end in the export dispatcher),
<code>:export-block</code> (to specify what blocks should not be exported by this
back-end), and <code>:options-alist</code> (to let the user set export options that
are specific to this back-end.)
</p>

<p>
Deriving a new back-end is similar, except that you need to set
<code>:translate-alist</code> to an alist of export functions that should be used
instead of the parent back-end functions.
</p>

<p>
For a complete reference documentation, see
<a href="http://orgmode.org/worg/dev/org-export-reference.html">the Org Export
Reference on Worg</a>.
</p>
</div>
</div>

<div id="outline-container-sec-16-5" class="outline-3">
<h3 id="sec-16-5">A.5 Context-sensitive commands</h3>
<div class="outline-text-3" id="text-16-5">
<p>
Org has several commands that act differently depending on context. The
most important example is the C-c C-c (see
<i>The very busy C-c C-c key</i>). Also
the M-cursor and M-S-cursor keys have this property.
</p>

<p>
Add-ons can tap into this functionality by providing a function that
detects special context for that add-on and executes functionality
appropriate for the context. Here is an example from Dan Davison's
org-R.el which allows you to evaluate commands based on the R
programming language <sup><a id="fnr.170" name="fnr.170" class="footref" href="#fn.170">170</a></sup>. For this package, special
contexts are lines that start with <code>#+R:</code> or <code>#+RR:</code>.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun org-R-apply-maybe ()
  "Detect if this is context for org-R and execute R commands."
  (if (save-excursion
        (beginning-of-line 1)
        (looking-at "#\\+RR?:"))
      (progn (call-interactively 'org-R-apply)
             t) ;; to signal that we took action
    nil)) ;; to signal that we did not

(add-hook 'org-ctrl-c-ctrl-c-hook 'org-R-apply-maybe)
</pre>
</div>

<p>
The function first checks if the cursor is in such a line. If that is
the case, <code>org-R-apply</code> is called and the function returns <code>t</code> to signal
that action was taken, and C-c C-c will stop looking for other contexts.
If the function finds it should do nothing locally, it returns <code>nil</code> so
that other, similar functions can have a try.
</p>
</div>
</div>

<div id="outline-container-sec-16-6" class="outline-3">
<h3 id="sec-16-6">A.6 Tables and lists in arbitrary syntax                           <a id="Tables-in-arbitrary-syntax" name="Tables-in-arbitrary-syntax"></a></h3>
<div class="outline-text-3" id="text-16-6">
<p>
Since Orgtbl mode can be used as a minor mode in arbitrary buffers, a
frequent feature request has been to make it work with native tables in
specific languages, for example LaTeX. However, this is extremely hard
to do in a general way, would lead to a customization nightmare, and
would take away much of the simplicity of the Orgtbl mode table editor.
</p>

<p>
This appendix describes a different approach. We keep the Orgtbl mode
table in its native format (the <i>source table</i>), and use a custom
function to <i>translate</i> the table to the correct syntax, and to
<i>install</i> it in the right location (the <i>target table</i>). This puts the
burden of writing conversion functions on the user, but it allows for a
very flexible system.
</p>

<p>
Bastien added the ability to do the same with lists, in Orgstruct mode.
You can use Org's facilities to edit and structure lists by turning
<code>orgstruct-mode</code> on, then locally exporting such lists in another format
(HTML, LaTeX or Texinfo.)
</p>
</div>

<div id="outline-container-sec-16-6-1" class="outline-4">
<h4 id="sec-16-6-1">A.6.1 Radio tables</h4>
<div class="outline-text-4" id="text-16-6-1">
<p>
To define the location of the target table, you first need to create two
lines that are comments in the current mode, but contain magic words
<code>BEGIN/END RECEIVE ORGTBL</code> for Orgtbl mode to find. Orgtbl mode will
insert the translated table between these lines, replacing whatever was
there before. For example in C mode where comments are between
<code>/* ... */</code>:
</p>

<pre class="example">
/* BEGIN RECEIVE ORGTBL table_name */
/* END RECEIVE ORGTBL table_name */
</pre>

<p>
Just above the source table, we put a special line that tells Orgtbl
mode how to translate this table and where to install it. For example:
</p>

<pre class="example">
#+ORGTBL: SEND table_name translation_function arguments...
</pre>

<p>
<code>table_name</code> is the reference name for the table that is also used in
the receiver lines. <code>translation_function</code> is the Lisp function that
does the translation. Furthermore, the line can contain a list of
arguments (alternating key and value) at the end. The arguments will be
passed as a property list to the translation function for
interpretation. A few standard parameters are already recognized and
acted upon before the translation function is called:
</p>

<dl class="org-dl">
<dt> <code>:skip N</code> </dt><dd>Skip the first N lines of the table. Hlines do count as
separate lines for this parameter!
</dd>

<dt> <code>:skipcols (n1 n2 ...)</code> </dt><dd>List of columns that should be skipped. If
the table has a column with calculation marks, that column is
automatically discarded as well. Please note that the translator
function sees the table <i>after</i> the removal of these columns, the
function never knows that there have been additional columns.
</dd>
</dl>

<p>
The one problem remaining is how to keep the source table in the buffer
without disturbing the normal workings of the file, for example during
compilation of a C file or processing of a LaTeX file. There are a
number of different solutions:
</p>

<ul class="org-ul">
<li>The table could be placed in a block comment if that is supported by
the language. For example, in C mode you could wrap the table between
‘/*' and ‘*/' lines.
</li>
<li>Sometimes it is possible to put the table after some kind of <i>END</i>
   statement, for example ‘\bye' in TeX and ‘\end{document}' in LaTeX.
</li>
<li>You can just comment the table line-by-line whenever you want to
process the file, and uncomment it whenever you need to edit the
table. This only sounds tedious&#x2014;the command M-x
orgtbl-toggle-comment RET makes this comment-toggling very easy, in
particular if you bind it to a key.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-16-6-2" class="outline-4">
<h4 id="sec-16-6-2">A.6.2 A LaTeX example of radio tables</h4>
<div class="outline-text-4" id="text-16-6-2">
<p>
The best way to wrap the source table in LaTeX is to use the <code>comment</code>
environment provided by comment.sty. It has to be activated by placing
<code>\usepackage{comment}</code> into the document header. Orgtbl mode can insert
a radio table skeleton<sup><a id="fnr.171" name="fnr.171" class="footref" href="#fn.171">171</a></sup> with the command M-x
orgtbl-insert-radio-table RET. You will be prompted for a table name,
let's say we use ‘salesfigures'. You will then get the following
template:
</p>

<pre class="example">
% BEGIN RECEIVE ORGTBL salesfigures
% END RECEIVE ORGTBL salesfigures
\begin{comment}
#+ORGTBL: SEND salesfigures orgtbl-to-latex
| | |
\end{comment}
</pre>

<p>
The <code>#+ORGTBL: SEND</code> line tells Orgtbl mode to use the function
<code>orgtbl-to-latex</code> to convert the table into LaTeX and to put it into the
receiver location with name <code>salesfigures</code>. You may now fill in the
table&#x2014;feel free to use the spreadsheet features<sup><a id="fnr.172" name="fnr.172" class="footref" href="#fn.172">172</a></sup>:
</p>

<pre class="example">
% BEGIN RECEIVE ORGTBL salesfigures
% END RECEIVE ORGTBL salesfigures
\begin{comment}
#+ORGTBL: SEND salesfigures orgtbl-to-latex
| Month | Days | Nr sold | per day |
|-------+------+---------+---------|
| Jan   |   23 |      55 |     2.4 |
| Feb   |   21 |      16 |     0.8 |
| March |   22 |     278 |    12.6 |
#+TBLFM: $4=$3/$2;%.1f
% $ (optional extra dollar to keep font-lock happy, see footnote)
\end{comment}
</pre>

<p>
When you are done, press C-c C-c in the table to get the converted table
inserted between the two marker lines.
</p>

<p>
Now let's assume you want to make the table header by hand, because you
want to control how columns are aligned, etc. In this case we make sure
that the table translator skips the first 2 lines of the source table,
and tell the command to work as a <i>splice</i>, i.e., to not produce header
and footer commands of the target table:
</p>

<pre class="example">
\begin{tabular}{lrrr}
Month &amp; \multicolumn{1}{c}{Days} &amp; Nr.\ sold &amp; per day\\
% BEGIN RECEIVE ORGTBL salesfigures
% END RECEIVE ORGTBL salesfigures
\end{tabular}
%
\begin{comment}
#+ORGTBL: SEND salesfigures orgtbl-to-latex :splice t :skip 2
| Month | Days | Nr sold | per day |
|-------+------+---------+---------|
| Jan   |   23 |      55 |     2.4 |
| Feb   |   21 |      16 |     0.8 |
| March |   22 |     278 |    12.6 |
#+TBLFM: $4=$3/$2;%.1f
\end{comment}
</pre>

<p>
The LaTeX translator function <code>orgtbl-to-latex</code> is already part of
Orgtbl mode. By default, it uses a <code>tabular</code> environment to typeset the
table and marks horizontal lines with <code>\hline</code>. You can control the
output through several parameters (see also see
<a href="#Translator-functions">Translator functions</a>), including the
following ones :
</p>

<dl class="org-dl">
<dt> <code>:splice nil/t</code> </dt><dd>When non-=nil=, return only table body lines,
don't wrap them into a tabular environment. Default is <code>nil</code>.
</dd>

<dt> <code>:fmt fmt</code> </dt><dd>A format to be used to wrap each field, it should
contain <code>%s</code> for the original field value. For example, to wrap each
field value in dollars, you could use =:fmt "\(%s\)"=. This may also be
a property list with column numbers and formats, for example
<code>:fmt (2 "$%s$" 4 "%s\\%%")</code>. A function of one argument can be used
in place of the strings; the function must return a formatted string.
</dd>

<dt> <code>:efmt efmt</code> </dt><dd>Use this format to print numbers with exponentials.
The format should have <code>%s</code> twice for inserting mantissa and
exponent, for example ="%s\&times;10<sup>%s</sup>"=. This may also be a
property list with column numbers and formats, for example
<code>:efmt (2 "$%s\\times10^{%s}$" 4 "$%s\\cdot10^{%s}$")</code>. After <code>efmt</code>
has been applied to a value, <code>fmt</code> will also be applied. Similar to
<code>fmt</code>, functions of two arguments can be supplied instead of strings.
By default, no special formatting is applied.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-16-6-3" class="outline-4">
<h4 id="sec-16-6-3">A.6.3 Translator functions                                        <a id="Translator-functions" name="Translator-functions"></a></h4>
<div class="outline-text-4" id="text-16-6-3">
<p>
Orgtbl mode has several translator functions built-in: <code>orgtbl-to-csv</code>
(comma-separated values), <code>orgtbl-to-tsv</code> (TAB-separated values)
<code>orgtbl-to-latex</code>, <code>orgtbl-to-html</code>, <code>orgtbl-to-texinfo</code>,
<code>orgtbl-to-unicode</code> and <code>orgtbl-to-orgtbl</code>. These all use a generic
translator, <code>orgtbl-to-generic</code>, which, in turn, can delegate
translations to various export back-ends (see
<a href="#Export-back_ends">Export back-ends</a>).
</p>

<p>
In particular, properties passed into the function (i.e., the ones set
by the ‘ORGTBL SEND' line) take precedence over translations defined in
the function. So if you would like to use the LaTeX translator, but
wanted the line endings to be ‘\\[2mm]' instead of the default ‘\\', you
could just overrule the default with
</p>

<pre class="example">
#+ORGTBL: SEND test orgtbl-to-latex :lend " \\\\[2mm]"
</pre>

<p>
For a new language, you can use the generic function to write your own
converter function. For example, if you have a language where a table is
started with ‘!BTBL!', ended with ‘!ETBL!', and where table lines are
started with ‘!BL!', ended with ‘!EL!', and where the field separator is
a TAB, you could define your generic translator like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun orgtbl-to-language (table params)
  "Convert the orgtbl-mode TABLE to language."
  (orgtbl-to-generic
   table
   (org-combine-plists
    '(:tstart "!BTBL!" :tend "!ETBL!" :lstart "!BL!" :lend "!EL!" :sep "\t")
    params)))
</pre>
</div>

<p>
Please check the documentation string of the function
<code>orgtbl-to-generic</code> for a full list of parameters understood by that
function, and remember that you can pass each of them into
<code>orgtbl-to-latex</code>, <code>orgtbl-to-texinfo</code>, and any other function using the
generic function.
</p>

<p>
Of course you can also write a completely new function doing complicated
things the generic translator cannot do. A translator function takes two
arguments. The first argument is the table, a list of lines, each line
either the symbol <code>hline</code> or a list of fields. The second argument is
the property list containing all parameters specified in the ‘#+ORGTBL:
SEND' line. The function must return a single string containing the
formatted table. If you write a generally useful translator, please post
it on <a href="mailto:emacs-orgmode@gnu.org">emacs-orgmode@gnu.org</a> so that
others can benefit from your work.
</p>
</div>
</div>

<div id="outline-container-sec-16-6-4" class="outline-4">
<h4 id="sec-16-6-4">A.6.4 Radio lists</h4>
<div class="outline-text-4" id="text-16-6-4">
<p>
Sending and receiving radio lists works exactly the same way as sending
and receiving radio tables (see <i>Radio tables</i>). As for
radio tables, you can insert radio list templates in HTML, LaTeX and
Texinfo modes by calling <code>org-list-insert-radio-list</code>.
</p>

<p>
Here are the differences with radio tables:
</p>

<ul class="org-ul">
<li>- Orgstruct mode must be active.
</li>
<li>- Use the <code>ORGLST</code> keyword instead of <code>ORGTBL</code>.
</li>
<li>- The available translation functions for radio lists don't take
parameters.
</li>
<li>- C-c C-c will work when pressed on the first item of the list.
</li>
</ul>

<p>
Here is a LaTeX example. Let's say that you have this in your LaTeX
file:
</p>

<pre class="example">
% BEGIN RECEIVE ORGLST to-buy
% END RECEIVE ORGLST to-buy
\begin{comment}
#+ORGLST: SEND to-buy org-list-to-latex
- a new house
- a new computer
  + a new keyboard
  + a new mouse
- a new life
\end{comment}
</pre>

<p>
Pressing C-c C-c on <code>a new house</code> and will insert the converted LaTeX
list between the two marker lines.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-16-7" class="outline-3">
<h3 id="sec-16-7">A.7 Dynamic blocks                                                 <a id="Dynamic-blocks" name="Dynamic-blocks"></a></h3>
<div class="outline-text-3" id="text-16-7">
<p>
Org documents can contain <i>dynamic blocks</i>. These are specially marked
regions that are updated by some user-written function. A good example
for such a block is the clock table inserted by the command C-c C-x C-r
(see <a href="#Clocking-work-time">Clocking work time</a>).
</p>

<p>
Dynamic blocks are enclosed by a BEGIN-END structure that assigns a name
to the block and can also specify parameters for the function producing
the content of the block.
</p>

<pre class="example">
#+BEGIN: myblock :parameter1 value1 :parameter2 value2 ...

#+END:
</pre>

<p>
Dynamic blocks are updated with the following commands
</p>

<p>
C-c C-x C-u (<code>org-dblock-update</code>)
</p>

<p>
Update dynamic block at point.
</p>

<p>
C-u C-c C-x C-u
</p>

<p>
Update all dynamic blocks in the current file.
</p>

<p>
Updating a dynamic block means to remove all the text between BEGIN and
END, parse the BEGIN line for parameters and then call the specific
writer function for this block to insert the new content. If you want to
use the original content in the writer function, you can use the extra
parameter <code>:content</code>.
</p>

<p>
For a block with name <code>myblock</code>, the writer function is
<code>org-dblock-write:myblock</code> with as only parameter a property list with
the parameters given in the begin line. Here is a trivial example of a
block that keeps track of when the block update function was last run:
</p>

<pre class="example">
#+BEGIN: block-update-time :format "on %m/%d/%Y at %H:%M"

#+END:
</pre>

<p>
The corresponding block writer function could look like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun org-dblock-write:block-update-time (params)
  (let ((fmt (or (plist-get params :format) "%d. %m. %Y")))
    (insert "Last block update at: "
            (format-time-string fmt))))
</pre>
</div>

<p>
If you want to make sure that all dynamic blocks are always up-to-date,
you could add the function <code>org-update-all-dblocks</code> to a hook, for
example <code>before-save-hook</code>. <code>org-update-all-dblocks</code> is written in a way
such that it does nothing in buffers that are not in <code>org-mode</code>.
</p>

<p>
You can narrow the current buffer to the current dynamic block (like any
other block) with <code>org-narrow-to-block</code>.
</p>
</div>
</div>

<div id="outline-container-sec-16-8" class="outline-3">
<h3 id="sec-16-8">A.8 Special agenda views</h3>
<div class="outline-text-3" id="text-16-8">
<p>
Org provides a special hook that can be used to narrow down the
selection made by these agenda views: <code>agenda</code>,
<code>agenda*=[fn:FOOT181], =todo</code>, <code>alltodo</code>, <code>tags</code>, <code>tags-todo</code>,
<code>tags-tree</code>. You may specify a function that is used at each match to
verify if the match should indeed be part of the agenda view, and if
not, how much should be skipped. You can specify a global condition that
will be applied to all agenda views, this condition would be stored in
the variable <code>org-agenda-skip-function-global</code>. More commonly, such a
definition is applied only to specific custom searches, using
<code>org-agenda-skip-function</code>.
</p>

<p>
Let's say you want to produce a list of projects that contain a WAITING
tag anywhere in the project tree. Let's further assume that you have
marked all tree headings that define a project with the TODO keyword
PROJECT. In this case you would run a TODO search for the keyword
PROJECT, but skip the match unless there is a WAITING tag anywhere in
the subtree belonging to the project line.
</p>

<p>
To achieve this, you must write a function that searches the subtree for
the tag. If the tag is found, the function must return <code>nil</code> to indicate
that this match should not be skipped. If there is no such tag, return
the location of the end of the subtree, to indicate that search should
continue from there.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(defun my-skip-unless-waiting ()
  "Skip trees that are not waiting"
  (let ((subtree-end (save-excursion (org-end-of-subtree t))))
    (if (re-search-forward ":waiting:" subtree-end t)
        nil          ; tag found, do not skip
      subtree-end))) ; tag not found, continue after end of subtree
</pre>
</div>

<p>
Now you may use this function in an agenda custom command, for example
like this:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(org-add-agenda-custom-command
 '("b" todo "PROJECT"
   ((org-agenda-skip-function 'my-skip-unless-waiting)
    (org-agenda-overriding-header "Projects waiting for something: "))))
</pre>
</div>

<p>
Note that this also binds <code>org-agenda-overriding-header</code> to get a
meaningful header in the agenda view.
</p>

<p>
A general way to create custom searches is to base them on a search for
entries with a certain level limit. If you want to study all entries
with your custom search function, simply do a search for
‘LEVEL&gt;0'<sup><a id="fnr.173" name="fnr.173" class="footref" href="#fn.173">173</a></sup>, and then use <code>org-agenda-skip-function</code>
to select the entries you really want to have.
</p>

<p>
You may also put a Lisp form into <code>org-agenda-skip-function</code>. In
particular, you may use the functions <code>org-agenda-skip-entry-if</code> and
<code>org-agenda-skip-subtree-if</code> in this form, for example:
</p>

<dl class="org-dl">
<dt> <code>(org-agenda-skip-entry-if 'scheduled)</code> </dt><dd>Skip current entry if it
has been scheduled.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'notscheduled)</code> </dt><dd>Skip current entry if
it has not been scheduled.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'deadline)</code> </dt><dd>Skip current entry if it
has a deadline.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'scheduled 'deadline)</code> </dt><dd>Skip current
entry if it has a deadline, or if it is scheduled.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'todo '("TODO" "WAITING"))</code> </dt><dd>Skip
current entry if the TODO keyword is TODO or WAITING.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'todo 'done)</code> </dt><dd>Skip current entry if the
TODO keyword marks a DONE state.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'timestamp)</code> </dt><dd>Skip current entry if it
has any timestamp, may also be deadline or scheduled.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'regexp "regular expression")</code> </dt><dd>Skip
current entry if the regular expression matches in the entry.
</dd>

<dt> <code>(org-agenda-skip-entry-if 'notregexp "regular expression")</code> </dt><dd>Skip
current entry unless the regular expression matches.
</dd>

<dt> <code>(org-agenda-skip-subtree-if 'regexp "regular expression")</code> </dt><dd>Same
as above, but check and skip the entire subtree.
</dd>
</dl>

<p>
Therefore we could also have written the search for WAITING projects
like this, even without defining a special function:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(org-add-agenda-custom-command
 '("b" todo "PROJECT"
   ((org-agenda-skip-function '(org-agenda-skip-subtree-if
                                'regexp ":waiting:"))
    (org-agenda-overriding-header "Projects waiting for something: "))))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-16-9" class="outline-3">
<h3 id="sec-16-9">A.9 Speeding up your agendas                                       <a id="Speeding-up-your-agendas" name="Speeding-up-your-agendas"></a></h3>
<div class="outline-text-3" id="text-16-9">
<p>
When your Org files grow in both number and size, agenda commands may
start to become slow. Below are some tips on how to speed up the agenda
commands.
</p>

<ol class="org-ol">
<li>Reduce the number of Org agenda files: this will reduce the slowdown
caused by accessing a hard drive.
</li>
<li>Reduce the number of DONE and archived headlines: this way the agenda
does not need to skip them.
</li>
<li>Inhibit the dimming of blocked tasks:

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-dim-blocked-tasks nil)
</pre>
</div>
</li>

<li>Inhibit agenda files startup options:

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-inhibit-startup nil)
</pre>
</div>
</li>

<li>Disable tag inheritance in agenda:

<div class="org-src-container">

<pre class="src src-lisp">(setq org-agenda-use-tag-inheritance nil)
</pre>
</div>
</li>
</ol>

<p>
You can set these options for specific agenda views only. See the
docstrings of these variables for details on why they affect the agenda
generation, and this
<a href="http://orgmode.org/worg/agenda-optimization.html">dedicated Worg
page</a> for further explanations.
</p>
</div>
</div>

<div id="outline-container-sec-16-10" class="outline-3">
<h3 id="sec-16-10">A.10 Extracting agenda information                                 <a id="Extracting-agenda-information" name="Extracting-agenda-information"></a></h3>
<div class="outline-text-3" id="text-16-10">
<p>
Org provides commands to access agenda information for the command line
in Emacs batch mode. This extracted information can be sent directly to
a printer, or it can be read by a program that does further processing
of the data. The first of these commands is the function
<code>org-batch-agenda</code>, that produces an agenda view and sends it as ASCII
text to STDOUT. The command takes a single string as parameter. If the
string has length 1, it is used as a key to one of the commands you have
configured in <code>org-agenda-custom-commands</code>, basically any key you can
use after C-c a. For example, to directly print the current TODO list,
you could use
</p>

<pre class="example">
emacs -batch -l ~/.emacs -eval '(org-batch-agenda "t")' | lpr
</pre>

<p>
If the parameter is a string with 2 or more characters, it is used as a
tags/TODO match string. For example, to print your local shopping list
(all items with the tag ‘shop', but excluding the tag ‘NewYork'), you
could use
</p>

<pre class="example">
emacs -batch -l ~/.emacs                                      \
      -eval '(org-batch-agenda "+shop-NewYork")' | lpr
</pre>

<p>
You may also modify parameters on the fly like this:
</p>

<pre class="example">
emacs -batch -l ~/.emacs                                      \
   -eval '(org-batch-agenda "a"                               \
            org-agenda-span (quote month)                     \
            org-agenda-include-diary nil                      \
            org-agenda-files (quote ("~/org/project.org")))'  \
   | lpr
</pre>

<p>
which will produce a 30-day agenda, fully restricted to the Org file
~/org/projects.org, not even including the diary.
</p>

<p>
If you want to process the agenda data in more sophisticated ways, you
can use the command <code>org-batch-agenda-csv</code> to get a comma-separated list
of values for each agenda item. Each line in the output will contain a
number of fields separated by commas. The fields in a line are:
</p>

<pre class="example">
category     The category of the item
head         The headline, without TODO keyword, TAGS and PRIORITY
type         The type of the agenda entry, can be
                todo               selected in TODO match
                tagsmatch          selected in tags match
                diary              imported from diary
                deadline           a deadline
                scheduled          scheduled
                timestamp          appointment, selected by timestamp
                closed             entry was closed on date
                upcoming-deadline  warning about nearing deadline
                past-scheduled     forwarded scheduled item
                block              entry has date block including date
todo         The TODO keyword, if any
tags         All tags including inherited ones, separated by colons
date         The relevant date, like 2007-2-14
time         The time, like 15:00-16:50
extra        String with extra planning info
priority-l   The priority letter if any was given
priority-n   The computed numerical priority
</pre>

<p>
Time and date will only be given if a timestamp (or deadline/scheduled)
led to the selection of the item.
</p>

<p>
A CSV list like this is very easy to use in a post-processing script.
For example, here is a Perl program that gets the TODO list from
Emacs/Org and prints all the items, preceded by a checkbox:
</p>

<pre class="example">
#!/usr/bin/perl

# define the Emacs command to run
$cmd = "emacs -batch -l ~/.emacs -eval '(org-batch-agenda-csv \"t\")'";

# run it and capture the output
$agenda = qx{$cmd 2&gt;/dev/null};

# loop over all lines
foreach $line (split(/\n/,$agenda)) {
  # get the individual values
  ($category,$head,$type,$todo,$tags,$date,$time,$extra,
   $priority_l,$priority_n) = split(/,/,$line);
  # process and print
  print "[ ] $head\n";
}
</pre>
</div>
</div>

<div id="outline-container-sec-16-11" class="outline-3">
<h3 id="sec-16-11">A.11 Using the property API                                        <a id="Using-the-property-API" name="Using-the-property-API"></a></h3>
<div class="outline-text-3" id="text-16-11">
<p>
Here is a description of the functions that can be used to work with
properties.
</p>

<dl class="org-dl">
<dt> Function: <b>org-entry-properties</b> <i>&amp;optional pom which</i> </dt><dd>Get all
properties of the entry at point-or-marker POM.<br  />
    This includes the TODO keyword, the tags, time strings for deadline,
scheduled, and clocking, and any additional properties defined in the
entry. The return value is an alist. Keys may occur multiple times if
the property key was used several times.<br  />
    POM may also be <code>nil</code>, in which case the current entry is used. If
WHICH is <code>nil</code> or <code>all</code>, get all properties. If WHICH is <code>special</code> or
<code>standard</code>, only get that subclass.
</dd>

<dt> Function: <b>org-entry-get</b> <i>pom property &amp;optional inherit</i> </dt><dd>Get
value of <code>PROPERTY</code> for entry at point-or-marker <code>POM</code>. By default,
this only looks at properties defined locally in the entry. If
<code>INHERIT</code> is non-=nil= and the entry does not have the property, then
also check higher levels of the hierarchy. If <code>INHERIT</code> is the symbol
<code>selective</code>, use inheritance if and only if the setting of
<code>org-use-property-inheritance</code> selects <code>PROPERTY</code> for inheritance.
</dd>

<dt> Function: <b>org-entry-delete</b> <i>pom property</i> </dt><dd>Delete the property
<code>PROPERTY</code> from entry at point-or-marker POM.
</dd>

<dt> Function: <b>org-entry-put</b> <i>pom property value</i> </dt><dd>Set <code>PROPERTY</code> to
<code>VALUE</code> for entry at point-or-marker POM.
</dd>

<dt> (no term) </dt><dd>Function: <b>org-buffer-property-keys</b> <i>&amp;optional
include-specials</i> :: Get all property keys in the current buffer.
</dd>

<dt> Function: <b>org-insert-property-drawer</b> </dt><dd>Insert a property drawer
for the current entry.
</dd>

<dt> (no term) </dt><dd>Function: <b>org-entry-put-multivalued-property</b> <i>pom property &amp;rest
values</i> :: Set <code>PROPERTY</code> at point-or-marker <code>POM</code> to <code>VALUES</code>.
<code>VALUES</code> should be a list of strings. They will be concatenated, with
spaces as separators.
</dd>

<dt> (no term) </dt><dd>Function: <b>org-entry-get-multivalued-property</b> <i>pom
property</i> :: Treat the value of the property <code>PROPERTY</code> as a
whitespace-separated list of values and return the values as a list
of strings.
</dd>

<dt> (no term) </dt><dd>Function: <b>org-entry-add-to-multivalued-property</b> <i>pom property
value</i> :: Treat the value of the property <code>PROPERTY</code> as a
whitespace-separated list of values and make sure that <code>VALUE</code> is in
this list.
</dd>

<dt> (no term) </dt><dd>Function: <b>org-entry-remove-from-multivalued-property</b> <i>pom property
value</i> :: Treat the value of the property <code>PROPERTY</code> as a
whitespace-separated list of values and make sure that <code>VALUE</code> is
<i>not</i> in this list.
</dd>

<dt> (no term) </dt><dd>Function: <b>org-entry-member-in-multivalued-property</b> <i>pom property
value</i> :: Treat the value of the property <code>PROPERTY</code> as a
whitespace-separated list of values and check if <code>VALUE</code> is in this
list.
</dd>

<dt> User Option: <b>org-property-allowed-value-functions</b> </dt><dd>Hook for
functions supplying allowed values for a specific property. The
functions must take a single argument, the name of the property, and
return a flat list of allowed values. If ‘:ETC' is one of the values,
use the values as completion help, but allow also other values to be
entered. The functions must return <code>nil</code> if they are not responsible
for this property.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-16-12" class="outline-3">
<h3 id="sec-16-12">A.12 Using the mapping API</h3>
<div class="outline-text-3" id="text-16-12">
<p>
Org has sophisticated mapping capabilities to find all entries
satisfying certain criteria. Internally, this functionality is used to
produce agenda views, but there is also an API that can be used to
execute arbitrary functions for each or selected entries. The main entry
point for this API is:
</p>

<ul class="org-ul">
<li>Function: <b>org-map-entries</b> <i>func &amp;optional match scope &amp;rest
skip</i> :: Call <code>FUNC</code> at each headline selected by <code>MATCH</code> in <code>SCOPE</code>.

<p>
<code>FUNC</code> is a function or a Lisp form. The function will be called
without arguments, with the cursor positioned at the beginning of the
headline. The return values of all calls to the function will be
collected and returned as a list.
</p>

<p>
The call to <code>FUNC</code> will be wrapped into a save-excursion form, so
<code>FUNC</code> does not need to preserve point. After evaluation, the cursor
will be moved to the end of the line (presumably of the headline of
the processed entry) and search continues from there. Under some
circumstances, this may not produce the wanted results. For example,
if you have removed (e.g., archived) the current (sub)tree it could
mean that the next entry will be skipped entirely. In such cases, you
can specify the position from where search should continue by making
<code>FUNC</code> set the variable <code>org-map-continue-from</code> to the desired buffer
position.
</p>

<p>
<code>MATCH</code> is a tags/property/todo match as it is used in the agenda
match view. Only headlines that are matched by this query will be
considered during the iteration. When <code>MATCH</code> is <code>nil</code> or <code>t</code>, all
headlines will be visited by the iteration.
</p>

<p>
<code>SCOPE</code> determines the scope of this command. It can be any of:
</p>

<pre class="example">
nil     the current buffer, respecting the restriction if any
tree    the subtree started with the entry at point
region  The entries within the active region, if any
file    the current buffer, without restriction
file-with-archives
        the current buffer, and any archives associated with it
agenda  all agenda files
agenda-with-archives
        all agenda files with any archive files associated with them
(file1 file2 ...)
        if this is a list, all files in the list will be scanned
</pre>

<p>
The remaining args are treated as settings for the skipping
facilities of the scanner. The following items can be given here:
</p>

<pre class="example">
archive   skip trees with the archive tag
comment   skip trees with the COMMENT keyword
function or Lisp form
          will be used as value for org-agenda-skip-function,
          so whenever the function returns t, FUNC
          will not be called for that entry and search will
          continue from the point where the function leaves it
</pre>
</li>
</ul>

<p>
The function given to that mapping routine can really do anything you
like. It can use the property API (see <a href="#Using-the-property-API">Using
the property API</a>) to gather more information about the entry, or in
order to change metadata in the entry. Here are a couple of functions
that might be handy:
</p>

<dl class="org-dl">
<dt> Function: <b>org-todo</b> <i>&amp;optional arg</i> </dt><dd>Change the TODO state of the
entry. See the docstring of the functions for the many possible
values for the argument <code>ARG</code>.
</dd>

<dt> Function: <b>org-priority</b> <i>&amp;optional action</i> </dt><dd>Change the priority of
the entry. See the docstring of this function for the possible values
for <code>ACTION</code>.
</dd>

<dt> Function: <b>org-toggle-tag</b> <i>tag &amp;optional onoff</i> </dt><dd>Toggle the tag
<code>TAG</code> in the current entry. Setting <code>ONOFF</code> to either <code>on</code> or <code>off</code>
will not toggle tag, but ensure that it is either on or off.
</dd>

<dt> Function: <b>org-promote</b> </dt><dd>Promote the current entry.
</dd>

<dt> Function: <b>org-demote</b> </dt><dd>Demote the current entry.
</dd>
</dl>

<p>
Here is a simple example that will turn all entries in the current file
with a tag <code>TOMORROW</code> into TODO entries with the keyword <code>UPCOMING</code>.
Entries in comment trees and in archive trees will be ignored.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(org-map-entries
 '(org-todo "UPCOMING")
 "+TOMORROW" 'file 'archive 'comment)
</pre>
</div>

<p>
The following example counts the number of entries with TODO keyword
<code>WAITING</code>, in all agenda files.
</p>

<div class="org-src-container">

<pre class="src src-lisp">(length (org-map-entries t "/+WAITING" 'agenda))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17">Appendix B MobileOrg</h2>
<div class="outline-text-2" id="text-17">
<p>
<i>MobileOrg</i> is the name of the mobile companion app for Org mode,
currently available for iOS and for Android. <i>MobileOrg</i> offers offline
viewing and capture support for an Org mode system rooted on a “real”
computer. It also allows you to record changes to existing entries. The
<a href="https://github.com/MobileOrg/">iOS implementation</a> for the
<i>iPhone/iPod Touch/iPad</i> series of devices, was started by Richard
Moreland and is now in the hands Sean Escriva. Android users should
check out <a href="http://wiki.github.com/matburt/mobileorg-android/">MobileOrg
Android</a> by Matt Jones. The two implementations are not identical but
offer similar features.
</p>

<p>
This appendix describes the support Org has for creating agenda views in
a format that can be displayed by <i>MobileOrg</i>, and for integrating notes
captured and changes made by <i>MobileOrg</i> into the main system.
</p>

<p>
For changing tags and TODO states in MobileOrg, you should have set up
the customization variables <code>org-todo-keywords</code> and <code>org-tag-alist</code> to
cover all important tags and TODO keywords, even if individual files use
only part of these. MobileOrg will also offer you states and tags set up
with in-buffer settings, but it will understand the logistics of TODO
state <i>sets</i> (see <a href="#Per_file-keywords">Per-file keywords</a>) and
<i>mutually exclusive</i> tags (see <a href="#Setting-tags">Setting tags</a>) only for
those set in these variables.
</p>
</div>

<div id="outline-container-sec-17-1" class="outline-3">
<h3 id="sec-17-1">B.1 Setting up the staging area</h3>
<div class="outline-text-3" id="text-17-1">
<p>
MobileOrg needs to interact with Emacs through a directory on a server.
If you are using a public server, you should consider encrypting the
files that are uploaded to the server. This can be done with Org mode
7.02 and with <i>MobileOrg 1.5</i> (iPhone version), and you need an openssl
installation on your system. To turn on encryption, set a password in
<i>MobileOrg</i> and, on the Emacs side, configure the variable
=org-mobile-use-encryption=<sup><a id="fnr.174" name="fnr.174" class="footref" href="#fn.174">174</a></sup>.
</p>

<p>
The easiest way to create that directory is to use a free
<a href="http://dropbox.com">Dropbox.com</a> account<sup><a id="fnr.175" name="fnr.175" class="footref" href="#fn.175">175</a></sup>. When
MobileOrg first connects to your Dropbox, it will create a directory
<i>MobileOrg</i> inside the Dropbox. After the directory has been created,
tell Emacs about it:
</p>

<div class="org-src-container">

<pre class="src src-lisp">(setq org-mobile-directory "~/Dropbox/MobileOrg")
</pre>
</div>

<p>
Org mode has commands to put files for <i>MobileOrg</i> into that directory,
and to read captured notes from there.
</p>
</div>
</div>

<div id="outline-container-sec-17-2" class="outline-3">
<h3 id="sec-17-2">B.2 Pushing to MobileOrg</h3>
<div class="outline-text-3" id="text-17-2">
<p>
This operation copies all files currently listed in <code>org-mobile-files</code>
to the directory <code>org-mobile-directory</code>. By default this list contains
all agenda files (as listed in <code>org-agenda-files</code>), but additional files
can be included by customizing <code>org-mobile-files</code>. File names will be
staged with paths relative to <code>org-directory</code>, so all files should be
inside this directory<sup><a id="fnr.176" name="fnr.176" class="footref" href="#fn.176">176</a></sup>.
</p>

<p>
The push operation also creates a special Org file agendas.org with all
custom agenda view defined by the user<sup><a id="fnr.177" name="fnr.177" class="footref" href="#fn.177">177</a></sup>.
</p>

<p>
Finally, Org writes the file index.org, containing links to all other
files. <i>MobileOrg</i> first reads this file from the server, and then
downloads all agendas and Org files listed in it. To speed up the
download, MobileOrg will only read files whose
checksums<sup><a id="fnr.178" name="fnr.178" class="footref" href="#fn.178">178</a></sup> have changed.
</p>
</div>
</div>

<div id="outline-container-sec-17-3" class="outline-3">
<h3 id="sec-17-3">B.3 Pulling from MobileOrg</h3>
<div class="outline-text-3" id="text-17-3">
<p>
When <i>MobileOrg</i> synchronizes with the server, it not only pulls the Org
files for viewing. It also appends captured entries and pointers to
flagged and changed entries to the file mobileorg.org on the server. Org
has a <i>pull</i> operation that integrates this information into an inbox
file and operates on the pointers to flagged entries. Here is how it
works:
</p>

<ol class="org-ol">
<li>Org moves all entries found in mobileorg.org<sup><a id="fnr.179" name="fnr.179" class="footref" href="#fn.179">179</a></sup> and
appends them to the file pointed to by the variable
<code>org-mobile-inbox-for-pull</code>. Each captured entry and each editing
event will be a top-level entry in the inbox file.
</li>
<li>After moving the entries, Org will attempt to implement the changes
made in <i>MobileOrg</i>. Some changes are applied directly and without
user interaction. Examples are all changes to tags, TODO state,
headline and body text that can be cleanly applied. Entries that have
been flagged for further action will receive a tag <code>:FLAGGED:</code>, so
that they can be easily found again. When there is a problem finding
an entry or applying the change, the pointer entry will remain in the
inbox and will be marked with an error message. You need to later
resolve these issues by hand.
</li>
<li>Org will then generate an agenda view with all flagged entries. The
user should then go through these entries and do whatever actions are
necessary. If a note has been stored while flagging an entry in
<i>MobileOrg</i>, that note will be displayed in the echo area when the
cursor is on the corresponding agenda line.

<p>
?
</p>

<p>
Pressing ? in that special agenda will display the full flagging note
in another window and also push it onto the kill ring. So you could
use ? z C-y C-c C-c to store that flagging note as a normal note in
the entry. Pressing ? twice in succession will offer to remove the
<code>:FLAGGED:</code> tag along with the recorded flagging note (which is
stored in a property). In this way you indicate that the intended
processing for this flagged entry is finished.
</p>
</li>
</ol>

<p>
If you are not able to process all flagged entries directly, you can
always return to this agenda view<sup><a id="fnr.180" name="fnr.180" class="footref" href="#fn.180">180</a></sup> using C-c a ?.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18">Appendix C History and acknowledgments</h2>
<div class="outline-text-2" id="text-18">
</div><div id="outline-container-sec-18-1" class="outline-3">
<h3 id="sec-18-1">C.1 From Carsten</h3>
<div class="outline-text-3" id="text-18-1">
<p>
Org was born in 2003, out of frustration over the user interface of the
Emacs Outline mode. I was trying to organize my notes and projects, and
using Emacs seemed to be the natural way to go. However, having to
remember eleven different commands with two or three keys per command,
only to hide and show parts of the outline tree, that seemed entirely
unacceptable to me. Also, when using outlines to take notes, I
constantly wanted to restructure the tree, organizing it parallel to my
thoughts and plans. <i>Visibility cycling</i> and <i>structure editing</i> were
originally implemented in the package outline-magic.el, but quickly
moved to the more general org.el. As this environment became comfortable
for project planning, the next step was adding <i>TODO entries</i>, basic
<i>timestamps</i>, and <i>table support</i>. These areas highlighted the two main
goals that Org still has today: to be a new, outline-based, plain text
mode with innovative and intuitive editing features, and to incorporate
project planning functionality directly into a notes file.
</p>

<p>
Since the first release, literally thousands of emails to me or to
<a href="mailto:emacs-orgmode@gnu.org">emacs-orgmode@gnu.org</a> have provided a
constant stream of bug reports, feedback, new ideas, and sometimes
patches and add-on code. Many thanks to everyone who has helped to
improve this package. I am trying to keep here a list of the people who
had significant influence in shaping one or more aspects of Org. The
list may not be complete, if I have forgotten someone, please accept my
apologies and let me know.
</p>

<p>
Before I get to this list, a few special mentions are in order:
</p>

<dl class="org-dl">
<dt> <i>Bastien Guerry</i> </dt><dd>Bastien has written a large number of extensions
to Org (most of them integrated into the core by now), including the
LaTeX exporter and the plain list parser. His support during the
early days was central to the success of this project. Bastien also
invented Worg, helped establishing the Web presence of Org, and
sponsored hosting costs for the orgmode.org website. Bastien stepped
in as maintainer of Org between 2011 and 2013, at a time when I
desparately needed a break.
</dd>

<dt> <i>Eric Schulte and Dan Davison</i> </dt><dd>Eric and Dan are jointly
responsible for the Org-babel system, which turns Org into a
multi-language environment for evaluating code and doing literate
programming and reproducible research. This has become one of Org's
killer features that define what Org is today.
</dd>

<dt> <i>John Wiegley</i> </dt><dd>John has contributed a number of great ideas and
patches directly to Org, including the attachment system
(org-attach.el), integration with Apple Mail (org-mac-message.el),
hierarchical dependencies of TODO items, habit tracking
(org-habits.el), and encryption (org-crypt.el). Also, the capture
system is really an extended copy of his great remember.el.
</dd>

<dt> <i>Sebastian Rose</i> </dt><dd>Without Sebastian, the HTML/XHTML publishing of
Org would be the pitiful work of an ignorant amateur. Sebastian has
pushed this part of Org onto a much higher level. He also wrote
org-info.js, a Java script for displaying web pages derived from Org
using an Info-like or a folding interface with single-key navigation.
</dd>
</dl>

<p>
See below for the full list of contributions! Again, please let me know
what I am missing here!
</p>
</div>
</div>

<div id="outline-container-sec-18-2" class="outline-3">
<h3 id="sec-18-2">C.2 From Bastien</h3>
<div class="outline-text-3" id="text-18-2">
<p>
I (Bastien) have been maintaining Org between 2011 and 2013. This
appendix would not be complete without adding a few more
acknowledgements and thanks.
</p>

<p>
I am first grateful to Carsten for his trust while handing me over the
maintainership of Org. His unremitting support is what really helped me
getting more confident over time, with both the community and the code.
</p>

<p>
When I took over maintainership, I knew I would have to make Org more
collaborative than ever, as I would have to rely on people that are more
knowledgeable than I am on many parts of the code. Here is a list of the
persons I could rely on, they should really be considered
co-maintainers, either of the code or the community:
</p>

<dl class="org-dl">
<dt> <i>Eric Schulte</i> </dt><dd>Eric is maintaining the Babel parts of Org. His
reactivity here kept me away from worrying about possible bugs here
and let me focus on other parts.
</dd>

<dt> <i>Nicolas Goaziou</i> </dt><dd>Nicolas is maintaining the consistency of the
deepest parts of Org. His work on org-element.el and ox.el has been
outstanding, and it opened the doors for many new ideas and features.
He rewrote many of the old exporters to use the new export engine,
and helped with documenting this major change. More importantly (if
that's possible), he has been more than reliable during all the work
done for Org 8.0, and always very reactive on the mailing list.
</dd>

<dt> <i>Achim Gratz</i> </dt><dd>Achim rewrote the building process of Org, turning
some <i>ad hoc</i> tools into a flexible and conceptually clean process.
He patiently coped with the many hiccups that such a change can
create for users.
</dd>

<dt> <i>Nick Dokos</i> </dt><dd>The Org mode mailing list would not be such a nice
place without Nick, who patiently helped users so many times. It is
impossible to overestimate such a great help, and the list would not
be so active without him.
</dd>
</dl>

<p>
I received support from so many users that it is clearly impossible to
be fair when shortlisting a few of them, but Org's history would not be
complete if the ones above were not mentioned in this manual.
</p>
</div>
</div>

<div id="outline-container-sec-18-3" class="outline-3">
<h3 id="sec-18-3">C.3 List of contributions</h3>
<div class="outline-text-3" id="text-18-3">
<ul class="org-ul">
<li><i>Russel Adams</i> came up with the idea for drawers.
</li>
<li><i>Suvayu Ali</i> has steadily helped on the mailing list, providing
useful feedback on many features and several patches.
</li>
<li><i>Luis Anaya</i> wrote ox-man.el.
</li>
<li><i>Thomas Baumann</i> wrote org-bbdb.el and org-mhe.el.
</li>
<li><i>Michael Brand</i> helped by reporting many bugs and testing many
features. He also implemented the distinction between empty fields
and 0-value fields in Org's spreadsheets.
</li>
<li><i>Christophe Bataillon</i> created the great unicorn logo that we use on
the Org mode website.
</li>
<li><i>Alex Bochannek</i> provided a patch for rounding timestamps.
</li>
<li><i>Jan Böcker</i> wrote org-docview.el.
</li>
<li><i>Brad Bozarth</i> showed how to pull RSS feed data into Org mode files.
</li>
<li><i>Tom Breton</i> wrote org-choose.el.
</li>
<li><i>Charles Cave</i>'s suggestion sparked the implementation of templates
for Remember, which are now templates for capture.
</li>
<li><i>Pavel Chalmoviansky</i> influenced the agenda treatment of items with
specified time.
</li>
<li><i>Gregory Chernov</i> patched support for Lisp forms into table
calculations and improved XEmacs compatibility, in particular by
porting nouline.el to XEmacs.
</li>
<li><i>Sacha Chua</i> suggested copying some linking code from Planner, and
helped make Org pupular through her blog.
</li>
<li><i>Toby S. Cubitt</i> contributed to the code for clock formats.
</li>
<li><i>Baoqiu Cui</i> contributed the first DocBook exporter. In Org 8.0, we
go a different route: you can now export to Texinfo and export the
.texi file to DocBook using <code>makeinfo</code>.
</li>
<li><i>Eddward DeVilla</i> proposed and tested checkbox statistics. He also
came up with the idea of properties, and that there should be an API
for them.
</li>
<li><i>Nick Dokos</i> tracked down several nasty bugs.
</li>
<li><i>Kees Dullemond</i> used to edit projects lists directly in HTML and so
inspired some of the early development, including HTML export. He
also asked for a way to narrow wide table columns.
</li>
<li><i>Jason Dunsmore</i> has been maintaining the Org-Mode server at
Rackspace for several years now. He also sponsored the hosting costs
until Rackspace started to host us for free.
</li>
<li><i>Thomas S. Dye</i> contributed documentation on Worg and helped
integrating the Org-Babel documentation into the manual.
</li>
<li><i>Christian Egli</i> converted the documentation into Texinfo format,
inspired the agenda, patched CSS formatting into the HTML exporter,
and wrote org-taskjuggler.el, which has been rewritten by Nicolas
Goaziou as ox-taskjuggler.el for Org 8.0.
</li>
<li><i>David Emery</i> provided a patch for custom CSS support in exported
HTML agendas.
</li>
<li><i>Sean Escriva</i> took over MobileOrg development on the iPhone
platform.
</li>
<li><i>Nic Ferrier</i> contributed mailcap and XOXO support.
</li>
<li><i>Miguel A. Figueroa-Villanueva</i> implemented hierarchical checkboxes.
</li>
<li><i>John Foerch</i> figured out how to make incremental search show context
around a match in a hidden outline tree.
</li>
<li><i>Raimar Finken</i> wrote org-git-line.el.
</li>
<li><i>Mikael Fornius</i> works as a mailing list moderator.
</li>
<li><i>Austin Frank</i> works as a mailing list moderator.
</li>
<li><i>Eric Fraga</i> drove the development of BEAMER export with ideas and
testing.
</li>
<li><i>Barry Gidden</i> did proofreading the manual in preparation for the
book publication through Network Theory Ltd.
</li>
<li><i>Niels Giesen</i> had the idea to automatically archive DONE trees.
</li>
<li><i>Nicolas Goaziou</i> rewrote much of the plain list code. He also wrote
org-element.el and org-export.el, which was a huge step forward in
implementing a clean framework for Org exporters.
</li>
<li><i>Kai Grossjohann</i> pointed out key-binding conflicts with other
packages.
</li>
<li><i>Brian Gough</i> of Network Theory Ltd publishes the Org mode manual as
a book.
</li>
<li><i>Bernt Hansen</i> has driven much of the support for auto-repeating
tasks, task state change logging, and the clocktable. His clear
explanations have been critical when we started to adopt the Git
version control system.
</li>
<li><i>Manuel Hermenegildo</i> has contributed various ideas, small fixes and
patches.
</li>
<li><i>Phil Jackson</i> wrote org-irc.el.
</li>
<li><i>Scott Jaderholm</i> proposed footnotes, control over whitespace between
folded entries, and column view for properties.
</li>
<li><i>Matt Jones</i> wrote <i>MobileOrg Android</i>.
</li>
<li><i>Tokuya Kameshima</i> wrote org-wl.el and org-mew.el.
</li>
<li><i>Jonathan Leech-Pepin</i> wrote ox-texinfo.el.
</li>
<li><i>Shidai Liu</i> ("Leo") asked for embedded LaTeX and tested it. He also
provided frequent feedback and some patches.
</li>
<li><i>Matt Lundin</i> has proposed last-row references for table formulas and
named invisible anchors. He has also worked a lot on the FAQ.
</li>
<li><i>David Maus</i> wrote org-atom.el, maintains the issues file for Org,
and is a prolific contributor on the mailing list with competent
replies, small fixes and patches.
</li>
<li><i>Jason F. McBrayer</i> suggested agenda export to CSV format.
</li>
<li><i>Max Mikhanosha</i> came up with the idea of refiling and sticky
agendas.
</li>
<li><i>Dmitri Minaev</i> sent a patch to set priority limits on a per-file
basis.
</li>
<li><i>Stefan Monnier</i> provided a patch to keep the Emacs-Lisp compiler
happy.
</li>
<li><i>Richard Moreland</i> wrote <i>MobileOrg</i> for the iPhone.
</li>
<li><i>Rick Moynihan</i> proposed allowing multiple TODO sequences in a file
and being able to quickly restrict the agenda to a subtree.
</li>
<li><i>Todd Neal</i> provided patches for links to Info files and Elisp forms.
</li>
<li><i>Greg Newman</i> refreshed the unicorn logo into its current form.
</li>
<li><i>Tim O'Callaghan</i> suggested in-file links, search options for general
file links, and TAGS.
</li>
<li><i>Osamu Okano</i> wrote orgcard2ref.pl, a Perl program to create a text
version of the reference card.
</li>
<li><i>Takeshi Okano</i> translated the manual and David O'Toole's tutorial
into Japanese.
</li>
<li><i>Oliver Oppitz</i> suggested multi-state TODO items.
</li>
<li><i>Scott Otterson</i> sparked the introduction of descriptive text for
links, among other things.
</li>
<li><i>Pete Phillips</i> helped during the development of the TAGS feature,
and provided frequent feedback.
</li>
<li><i>Francesco Pizzolante</i> provided patches that helped speeding up the
agenda generation.
</li>
<li><i>Martin Pohlack</i> provided the code snippet to bundle character
insertion into bundles of 20 for undo.
</li>
<li><i>Rackspace.com</i> is hosting our website for free. Thank you Rackspace!
</li>
<li><i>T.V. Raman</i> reported bugs and suggested improvements.
</li>
<li><i>Matthias Rempe</i> (Oelde) provided ideas, Windows support, and quality
control.
</li>
<li><i>Paul Rivier</i> provided the basic implementation of named footnotes.
He also acted as mailing list moderator for some time.
</li>
<li><i>Kevin Rogers</i> contributed code to access VM files on remote hosts.
</li>
<li><i>Frank Ruell</i> solved the mystery of the <code>keymapp nil</code> bug, a conflict
with allout.el.
</li>
<li><i>Jason Riedy</i> generalized the send-receive mechanism for Orgtbl
tables with extensive patches.
</li>
<li><i>Philip Rooke</i> created the Org reference card, provided lots of
feedback, developed and applied standards to the Org documentation.
</li>
<li><i>Christian Schlauer</i> proposed angular brackets around links, among
other things.
</li>
<li><i>Christopher Schmidt</i> reworked <code>orgstruct-mode</code> so that users can
enjoy folding in non-org buffers by using Org headlines in comments.
</li>
<li><i>Paul Sexton</i> wrote org-ctags.el.
</li>
<li>Linking to VM/BBDB/Gnus was first inspired by <i>Tom Shannon</i>'s
organizer-mode.el.
</li>
<li><i>Ilya Shlyakhter</i> proposed the Archive Sibling, line numbering in
literal examples, and remote highlighting for referenced code lines.
</li>
<li><i>Stathis Sideris</i> wrote the ditaa.jar ASCII to PNG converter that is
now packaged into Org's contrib directory.
</li>
<li><i>Daniel Sinder</i> came up with the idea of internal archiving by
locking subtrees.
</li>
<li><i>Dale Smith</i> proposed link abbreviations.
</li>
<li><i>James TD Smith</i> has contributed a large number of patches for useful
tweaks and features.
</li>
<li><i>Adam Spiers</i> asked for global linking commands, inspired the link
extension system, added support for mairix, and proposed the mapping
API.
</li>
<li><i>Ulf Stegemann</i> created the table to translate special symbols to
HTML, LaTeX, UTF-8, Latin-1 and ASCII.
</li>
<li><i>Andy Stewart</i> contributed code to org-w3m.el, to copy HTML content
with links transformation to Org syntax.
</li>
<li><i>David O'Toole</i> wrote org-publish.el and drafted the manual chapter
about publishing.
</li>
<li><i>Jambunathan K</i> contributed the ODT exporter and rewrote the HTML
exporter.
</li>
<li><i>Sebastien Vauban</i> reported many issues with LaTeX and BEAMER export
and enabled source code highlighting in Gnus.
</li>
<li><i>Stefan Vollmar</i> organized a video-recorded talk at the
Max-Planck-Institute for Neurology. He also inspired the creation of
a concept index for HTML export.
</li>
<li><i>Jürgen Vollmer</i> contributed code generating the table of contents in
HTML output.
</li>
<li><i>Samuel Wales</i> has provided important feedback and bug reports.
</li>
<li><i>Chris Wallace</i> provided a patch implementing the ‘QUOTE' keyword.
</li>
<li><i>David Wainberg</i> suggested archiving, and improvements to the linking
system.
</li>
<li><i>Carsten Wimmer</i> suggested some changes and helped fix a bug in
linking to Gnus.
</li>
<li><i>Roland Winkler</i> requested additional key bindings to make Org work
on a tty.
</li>
<li><i>Piotr Zielinski</i> wrote org-mouse.el, proposed agenda blocks and
contributed various ideas and code snippets.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19">Appendix D GNU Free Documentation License</h2>
<div class="outline-text-2" id="text-19">
<div align="center">

<p>
Version 1.3, 3 November 2008
</p>

<pre class="example">
Copyright © 2000, 2001, 2002, 2007, 2008, 2013, 2014 Free Software Foundation, Inc.
http://fsf.org/

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre>

<ol class="org-ol">
<li>PREAMBLE

<p>
The purpose of this License is to make a manual, textbook, or other
functional and useful document <i>free</i> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or
noncommercially. Secondarily, this License preserves for the author
and publisher a way to get credit for their work, while not being
considered responsible for modifications made by others.
</p>

<p>
This License is a kind of “copyleft”, which means that derivative
works of the document must themselves be free in the same sense. It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>

<p>
We have designed this License in order to use it for manuals for
free software, because free software needs free documentation: a
free program should come with manuals providing the same freedoms
that the software does. But this License is not limited to software
manuals; it can be used for any textual work, regardless of subject
matter or whether it is published as a printed book. We recommend
this License principally for works whose purpose is instruction or
reference.
</p>
</li>

<li>APPLICABILITY AND DEFINITIONS

<p>
This License applies to any manual or other work, in any medium,
that contains a notice placed by the copyright holder saying it can
be distributed under the terms of this License. Such a notice grants
a world-wide, royalty-free license, unlimited in duration, to use
that work under the conditions stated herein. The “Document”, below,
refers to any such manual or work. Any member of the public is a
licensee, and is addressed as “you”. You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>

<p>
A “Modified Version” of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>

<p>
A “Secondary Section” is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject. (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.) The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>

<p>
The “Invariant Sections” are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License. If a
section does not fit the above definition of Secondary then it is
not allowed to be designated as Invariant. The Document may contain
zero Invariant Sections. If the Document does not identify any
Invariant Sections then there are none.
</p>

<p>
The “Cover Texts” are certain short passages of text that are
listed, as Front-Cover Texts or Back-Cover Texts, in the notice that
says that the Document is released under this License. A Front-Cover
Text may be at most 5 words, and a Back-Cover Text may be at most 25
words.
</p>

<p>
A “Transparent” copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed
of pixels) generic paint programs or (for drawings) some widely
available drawing editor, and that is suitable for input to text
formatters or for automatic translation to a variety of formats
suitable for input to text formatters. A copy made in an otherwise
Transparent file format whose markup, or absence of markup, has been
arranged to thwart or discourage subsequent modification by readers
is not Transparent. An image format is not Transparent if used for
any substantial amount of text. A copy that is not “Transparent” is
called “Opaque”.
</p>

<p>
Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input format, SGML
or XML using a publicly available DTD, and standard-conforming
simple HTML, PostScript or PDF designed for human modification.
Examples of transparent image formats include PNG, XCF and JPG.
Opaque formats include proprietary formats that can be read and
edited only by proprietary word processors, SGML or XML for which
the DTD and/or processing tools are not generally available, and the
machine-generated HTML, PostScript or PDF produced by some word
processors for output purposes only.
</p>

<p>
The “Title Page” means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the
material this License requires to appear in the title page. For
works in formats which do not have any title page as such, “Title
Page” means the text near the most prominent appearance of the
work's title, preceding the beginning of the body of the text.
</p>

<p>
The “publisher” means any person or entity that distributes copies
of the Document to the public.
</p>

<p>
A section “Entitled XYZ” means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses
following text that translates XYZ in another language. (Here XYZ
stands for a specific section name mentioned below, such as
“Acknowledgements”, “Dedications”, “Endorsements”, or “History”.) To
“Preserve the Title” of such a section when you modify the Document
means that it remains a section “Entitled XYZ” according to this
definition.
</p>

<p>
The Document may include Warranty Disclaimers next to the notice
which states that this License applies to the Document. These
Warranty Disclaimers are considered to be included by reference in
this License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li>

<li>VERBATIM COPYING

<p>
You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License
applies to the Document are reproduced in all copies, and that you
add no other conditions whatsoever to those of this License. You may
not use technical measures to obstruct or control the reading or
further copying of the copies you make or distribute. However, you
may accept compensation in exchange for copies. If you distribute a
large enough number of copies you must also follow the conditions in
section 3.
</p>

<p>
You may also lend copies, under the same conditions stated above,
and you may publicly display copies.
</p>
</li>

<li>COPYING IN QUANTITY

<p>
If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover. Both covers must also clearly and legibly identify
you as the publisher of these copies. The front cover must present
the full title with all words of the title equally prominent and
visible. You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be
treated as verbatim copying in other respects.
</p>

<p>
If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>

<p>
If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable
Transparent copy along with each Opaque copy, or state in or with
each Opaque copy a computer-network location from which the general
network-using public has access to download using public-standard
network protocols a complete Transparent copy of the Document, free
of added material. If you use the latter option, you must take
reasonably prudent steps, when you begin distribution of Opaque
copies in quantity, to ensure that this Transparent copy will remain
thus accessible at the stated location until at least one year after
the last time you distribute an Opaque copy (directly or through
your agents or retailers) of that edition to the public.
</p>

<p>
It is requested, but not required, that you contact the authors of
the Document well before redistributing any large number of copies,
to give them a chance to provide you with an updated version of the
Document.
</p>
</li>

<li>MODIFICATIONS

<p>
You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing
distribution and modification of the Modified Version to whoever
possesses a copy of it. In addition, you must do these things in the
Modified Version:
</p>

<ol class="org-ol">
<li>Use in the Title Page (and on the covers, if any) a title
distinct from that of the Document, and from those of previous
versions (which should, if there were any, be listed in the
History section of the Document). You may use the same title as
a previous version if the original publisher of that version
gives permission.
</li>
<li>List on the Title Page, as authors, one or more persons or
entities responsible for authorship of the modifications in the
Modified Version, together with at least five of the principal
authors of the Document (all of its principal authors, if it has
fewer than five), unless they release you from this requirement.
</li>
<li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.
</li>
<li>Preserve all the copyright notices of the Document.
</li>
<li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.
</li>
<li>Include, immediately after the copyright notices, a license
notice giving the public permission to use the Modified Version
under the terms of this License, in the form shown in the
Addendum below.
</li>
<li>Preserve in that license notice the full lists of Invariant
Sections and required Cover Texts given in the Document's
license notice.
</li>
<li>Include an unaltered copy of this License.
</li>
<li>Preserve the section Entitled “History”, Preserve its Title, and
add to it an item stating at least the title, year, new authors,
and publisher of the Modified Version as given on the Title
Page. If there is no section Entitled “History” in the Document,
create one stating the title, year, authors, and publisher of
the Document as given on its Title Page, then add an item
describing the Modified Version as stated in the previous
sentence.
</li>
<li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and
likewise the network locations given in the Document for
previous versions it was based on. These may be placed in the
“History” section. You may omit a network location for a work
that was published at least four years before the Document
itself, or if the original publisher of the version it refers to
gives permission.
</li>
<li>For any section Entitled “Acknowledgements” or “Dedications”,
Preserve the Title of the section, and preserve in the section
all the substance and tone of each of the contributor
acknowledgements and/or dedications given therein.
</li>
<li>Preserve all the Invariant Sections of the Document, unaltered
in their text and in their titles. Section numbers or the
equivalent are not considered part of the section titles.
</li>
<li>Delete any section Entitled “Endorsements”. Such a section may
not be included in the Modified Version.
</li>
<li>Do not retitle any existing section to be Entitled
“Endorsements” or to conflict in title with any Invariant
Section.
</li>
<li>Preserve any Warranty Disclaimers.
</li>
</ol>
<p>
If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no
material copied from the Document, you may at your option designate
some or all of these sections as invariant. To do this, add their
titles to the list of Invariant Sections in the Modified Version's
license notice. These titles must be distinct from any other section
titles.
</p>

<p>
You may add a section Entitled “Endorsements”, provided it contains
nothing but endorsements of your Modified Version by various
parties&#x2014;for example, statements of peer review or that the text
has been approved by an organization as the authoritative definition
of a standard.
</p>

<p>
You may add a passage of up to five words as a Front-Cover Text, and
a passage of up to 25 words as a Back-Cover Text, to the end of the
list of Cover Texts in the Modified Version. Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity. If the Document
already includes a cover text for the same cover, previously added
by you or by arrangement made by the same entity you are acting on
behalf of, you may not add another; but you may replace the old one,
on explicit permission from the previous publisher that added the
old one.
</p>

<p>
The author(s) and publisher(s) of the Document do not by this
License give permission to use their names for publicity for or to
assert or imply endorsement of any Modified Version.
</p>
</li>

<li>COMBINING DOCUMENTS

<p>
You may combine the Document with other documents released under
this License, under the terms defined in section 4 above for
modified versions, provided that you include in the combination all
of the Invariant Sections of all of the original documents,
unmodified, and list them all as Invariant Sections of your combined
work in its license notice, and that you preserve all their Warranty
Disclaimers.
</p>

<p>
The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy. If there are multiple Invariant Sections with the same name
but different contents, make the title of each such section unique
by adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique
number. Make the same adjustment to the section titles in the list
of Invariant Sections in the license notice of the combined work.
</p>

<p>
In the combination, you must combine any sections Entitled “History”
in the various original documents, forming one section Entitled
“History”; likewise combine any sections Entitled
“Acknowledgements”, and any sections Entitled “Dedications”. You
must delete all sections Entitled “Endorsements.”
</p>
</li>

<li>COLLECTIONS OF DOCUMENTS

<p>
You may make a collection consisting of the Document and other
documents released under this License, and replace the individual
copies of this License in the various documents with a single copy
that is included in the collection, provided that you follow the
rules of this License for verbatim copying of each of the documents
in all other respects.
</p>

<p>
You may extract a single document from such a collection, and
distribute it individually under this License, provided you insert a
copy of this License into the extracted document, and follow this
License in all other respects regarding verbatim copying of that
document.
</p>
</li>

<li>AGGREGATION WITH INDEPENDENT WORKS

<p>
A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage
or distribution medium, is called an “aggregate” if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>

<p>
If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half
of the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic
form. Otherwise they must appear on printed covers that bracket the
whole aggregate.
</p>
</li>

<li>TRANSLATION

<p>
Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section
</p>
<ol class="org-ol">
<li>Replacing Invariant Sections with translations requires special
</li>
</ol>
<p>
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections. You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also
include the original English version of this License and the
original versions of those notices and disclaimers. In case of a
disagreement between the translation and the original version of
this License or a notice or disclaimer, the original version will
prevail.
</p>

<p>
If a section in the Document is Entitled “Acknowledgements”,
“Dedications”, or “History”, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li>

<li>TERMINATION

<p>
You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License. Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>

<p>
However, if you cease all violation of this License, then your
license from a particular copyright holder is reinstated (a)
provisionally, unless and until the copyright holder explicitly and
finally terminates your license, and (b) permanently, if the
copyright holder fails to notify you of the violation by some
reasonable means prior to 60 days after the cessation.
</p>

<p>
Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from
that copyright holder, and you cure the violation prior to 30 days
after your receipt of the notice.
</p>

<p>
Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you
under this License. If your rights have been terminated and not
permanently reinstated, receipt of a copy of some or all of the same
material does not give you any rights to use it.
</p>
</li>

<li>FUTURE REVISIONS OF THIS LICENSE

<p>
The Free Software Foundation may publish new, revised versions of
the GNU Free Documentation License from time to time. Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns. See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.
</p>

<p>
Each version of the License is given a distinguishing version
number. If the Document specifies that a particular numbered version
of this License “or any later version” applies to it, you have the
option of following the terms and conditions either of that
specified version or of any later version that has been published
(not as a draft) by the Free Software Foundation. If the Document
does not specify a version number of this License, you may choose
any version ever published (not as a draft) by the Free Software
Foundation. If the Document specifies that a proxy can decide which
future versions of this License can be used, that proxy's public
statement of acceptance of a version permanently authorizes you to
choose that version for the Document.
</p>
</li>

<li>RELICENSING

<p>
“Massive Multiauthor Collaboration Site” (or “MMC Site”) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works. A
public wiki that anybody can edit is an example of such a server. A
“Massive Multiauthor Collaboration” (or “MMC”) contained in the site
means any set of copyrightable works thus published on the MMC site.
</p>

<p>
“CC-BY-SA” means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>

<p>
“Incorporate” means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>

<p>
An MMC is “eligible for relicensing” if it is licensed under this
License, and if all works that were first published under this
License somewhere other than this MMC, and subsequently incorporated
in whole or in part into the MMC, (1) had no cover texts or
invariant sections, and (2) were thus incorporated prior to November
1, 2008.
</p>

<p>
The operator of an MMC Site may republish an MMC contained in the
site under CC-BY-SA on the same site at any time before August 1,
2009, provided the MMC is eligible for relicensing.
</p>
</li>
</ol>
</div>

<div id="outline-container-sec-19-1" class="outline-3">
<h3 id="sec-19-1">ADDENDUM: How to use this License for your documents</h3>
<div class="outline-text-3" id="text-19-1">
<p>
To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and license
notices just after the title page:
</p>

<pre class="example">
Copyright (C)  year  your name.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
Texts.  A copy of the license is included in the section entitled ``GNU
Free Documentation License''.
</pre>

<p>
If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the “with&#x2026;Texts.” line with this:
</p>

<pre class="example">
with the Invariant Sections being list their titles, with
the Front-Cover Texts being list, and with the Back-Cover Texts
being list.
</pre>

<p>
If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>

<p>
If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of free
software license, such as the GNU General Public License, to permit
their use in free software.
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p class="footpara">
If you don't use font-lock globally, turn it on in Org buffer with
<code>(add-hook 'org-mode-hook 'turn-on-font-lock)</code>
</p></div>

<div class="footdef"><sup><a id="fn.2" name="fn.2" class="footnum" href="#fnr.2">2</a></sup> <p class="footpara">
Please consider subscribing to the mailing list, in order to minimize
the work the mailing list moderators have to do.
</p></div>

<div class="footdef"><sup><a id="fn.3" name="fn.3" class="footnum" href="#fnr.3">3</a></sup> <p class="footpara">
Easy templates insert lowercase keywords and Babel dynamically inserts
<code>#+results</code>.
</p></div>

<div class="footdef"><sup><a id="fn.4" name="fn.4" class="footnum" href="#fnr.4">4</a></sup> <p class="footpara">
See the variables <code>org-special-ctrl-a/e</code>, <code>org-special-ctrl-k</code>, and
<code>org-ctrl-k-protect-subtree</code> to configure special behavior of <b><i>C-a</i></b>,
<b><i>C-e</i></b>, and <b><i>C-k</i></b> in headlines.
</p></div>

<div class="footdef"><sup><a id="fn.5" name="fn.5" class="footnum" href="#fnr.5">5</a></sup> <p class="footpara">
Clocking only works with headings indented less than 30 stars.
</p></div>

<div class="footdef"><sup><a id="fn.6" name="fn.6" class="footnum" href="#fnr.6">6</a></sup> <p class="footpara">
see, however, the option <code>org-cycle-emulate-tab</code>.
</p></div>

<div class="footdef"><sup><a id="fn.7" name="fn.7" class="footnum" href="#fnr.7">7</a></sup> <p class="footpara">
see the option <code>org-cycle-global-at-bob</code>.
</p></div>

<div class="footdef"><sup><a id="fn.8" name="fn.8" class="footnum" href="#fnr.8">8</a></sup> <p class="footpara">
The indirect buffer (see <a href="http://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Indirect-Buffers">Indirect Buffers</a> in GNU Emacs Manual) will
contain the entire buffer, but will be narrowed to the current
tree. Editing the indirect buffer will also change the original
buffer, but without affecting visibility in that buffer.
</p></div>

<div class="footdef"><sup><a id="fn.9" name="fn.9" class="footnum" href="#fnr.9">9</a></sup> <p class="footpara">
When <code>org-agenda-inhibit-startup</code> is non- <code>nil</code>, Org will not honor
the default visibility state when first opening a file for the agenda
(see <a href="#Speeding-up-your-agendas">Speeding up your agendas</a>).
</p></div>

<div class="footdef"><sup><a id="fn.10" name="fn.10" class="footnum" href="#fnr.10">10</a></sup> <p class="footpara">
See also the variable <code>org-show-context-detail</code> to decide how much
context is shown around each match.
</p></div>

<div class="footdef"><sup><a id="fn.11" name="fn.11" class="footnum" href="#fnr.11">11</a></sup> <p class="footpara">
This depends on the option <code>org-remove-highlights-with-change</code>
</p></div>

<div class="footdef"><sup><a id="fn.12" name="fn.12" class="footnum" href="#fnr.12">12</a></sup> <p class="footpara">
This does not work under XEmacs, because XEmacs uses selective display
for outlining, not text properties.
</p></div>

<div class="footdef"><sup><a id="fn.13" name="fn.13" class="footnum" href="#fnr.13">13</a></sup> <p class="footpara">
When using ‘*' as a bullet, lines must be indented or they will be
seen as top-level headlines. Also, when you are hiding leading stars
to get a clean outline view, plain list items starting with a star may
be hard to distinguish from true headlines. In short: even though ‘*'
is supported, it may be better to not use it for plain list items.
</p></div>

<div class="footdef"><sup><a id="fn.14" name="fn.14" class="footnum" href="#fnr.14">14</a></sup> <p class="footpara">
You can filter out any of them by configuring
<code>org-plain-list-ordered-item-terminator</code>.
</p></div>

<div class="footdef"><sup><a id="fn.15" name="fn.15" class="footnum" href="#fnr.15">15</a></sup> <p class="footpara">
You can also get ‘a.', ‘A.', ‘a)' and ‘A)' by configuring
<code>org-list-allow-alphabetical</code>. To minimize confusion with normal text,
those are limited to one character only. Beyond that limit, bullets
will automatically fallback to numbers.
</p></div>

<div class="footdef"><sup><a id="fn.16" name="fn.16" class="footnum" href="#fnr.16">16</a></sup> <p class="footpara">
If there's a checkbox in the item, the cookie must be put <i>before</i> the
checkbox. If you have activated alphabetical lists, you can also use
counters like <code>[@b]</code>.
</p></div>

<div class="footdef"><sup><a id="fn.17" name="fn.17" class="footnum" href="#fnr.17">17</a></sup> <p class="footpara">
See also <code>org-list-empty-line-terminates-plain-lists</code>.
</p></div>

<div class="footdef"><sup><a id="fn.18" name="fn.18" class="footnum" href="#fnr.18">18</a></sup> <p class="footpara">
Org only changes the filling settings for Emacs. For XEmacs, you
should use Kyle E. Jones' filladapt.el. To turn this on, put into
.emacs: <code>(require 'filladapt)</code>
</p></div>

<div class="footdef"><sup><a id="fn.19" name="fn.19" class="footnum" href="#fnr.19">19</a></sup> <p class="footpara">
If you do not want the item to be split, customize the variable
<code>org-M-RET-may-split-line</code>.
</p></div>

<div class="footdef"><sup><a id="fn.20" name="fn.20" class="footnum" href="#fnr.20">20</a></sup> <p class="footpara">
If you want to cycle around items that way, you may customize
<code>org-list-use-circular-motion</code>.
</p></div>

<div class="footdef"><sup><a id="fn.21" name="fn.21" class="footnum" href="#fnr.21">21</a></sup> <p class="footpara">
See <code>org-list-use-circular-motion</code> for a cyclic behavior.
</p></div>

<div class="footdef"><sup><a id="fn.22" name="fn.22" class="footnum" href="#fnr.22">22</a></sup> <p class="footpara">
The corresponding in-buffer setting is: <code>#+STARTUP: fninline</code> or
<code>#+STARTUP: nofninline</code>
</p></div>

<div class="footdef"><sup><a id="fn.23" name="fn.23" class="footnum" href="#fnr.23">23</a></sup> <p class="footpara">
the corresponding in-buffer options are <code>fnadjust</code> and <code>nofnadjust</code>.
</p></div>

<div class="footdef"><sup><a id="fn.24" name="fn.24" class="footnum" href="#fnr.24">24</a></sup> <p class="footpara">
To insert a vertical bar into a table field, use <code>\vert</code> or, inside a
word <code>abc\vert{}def</code>.
</p></div>

<div class="footdef"><sup><a id="fn.25" name="fn.25" class="footnum" href="#fnr.25">25</a></sup> <p class="footpara">
This feature does not work on XEmacs.
</p></div>

<div class="footdef"><sup><a id="fn.26" name="fn.26" class="footnum" href="#fnr.26">26</a></sup> <p class="footpara">
Centering does not work inside Emacs, but it does have an effect when
exporting to HTML.
</p></div>

<div class="footdef"><sup><a id="fn.27" name="fn.27" class="footnum" href="#fnr.27">27</a></sup> <p class="footpara">
Org will understand references typed by the user as ‘B4', but it will
not use this syntax when offering a formula for editing. You can
customize this behavior using the option
<code>org-table-use-standard-references</code>.
</p></div>

<div class="footdef"><sup><a id="fn.28" name="fn.28" class="footnum" href="#fnr.28">28</a></sup> <p class="footpara">
For backward compatibility you can also use special names like <code>$LR5</code>
and <code>$LR12</code> to refer in a stable way to the 5th and 12th field in the
last row of the table. However, this syntax is deprecated, it should
not be used for new documents. Use <code>@&gt;$</code> instead.
</p></div>

<div class="footdef"><sup><a id="fn.29" name="fn.29" class="footnum" href="#fnr.29">29</a></sup> <p class="footpara">
The computation time scales as O(N\<sup>2</sup>) because the table named <code>FOO</code>
is parsed for each field to be read.
</p></div>

<div class="footdef"><sup><a id="fn.30" name="fn.30" class="footnum" href="#fnr.30">30</a></sup> <p class="footpara">
constants.el can supply the values of constants in two different unit
systems, <code>SI</code> and <code>cgs</code>. Which one is used depends on the value of the
variable <code>constants-unit-system</code>. You can use the <code>#+STARTUP</code> options
<code>constSI</code> and <code>constcgs</code> to set this value for the current buffer.
</p></div>

<div class="footdef"><sup><a id="fn.31" name="fn.31" class="footnum" href="#fnr.31">31</a></sup> <p class="footpara">
The ‘printf' reformatting is limited in precision because the value
passed to it is converted into an ‘integer' or ‘double'. The ‘integer'
is limited in size by truncating the signed value to 32 bits. The
‘double' is limited in precision to 64 bits overall which leaves
approximately 16 significant decimal digits.
</p></div>

<div class="footdef"><sup><a id="fn.32" name="fn.32" class="footnum" href="#fnr.32">32</a></sup> <p class="footpara">
Such names must start by an alphabetic character and use only
alphanumeric/underscore characters.
</p></div>

<div class="footdef"><sup><a id="fn.33" name="fn.33" class="footnum" href="#fnr.33">33</a></sup> <p class="footpara">
To insert a link targeting a headline, in-buffer completion can be
used.  Just type a star followed by a few optional letters into the
buffer and press <b><i>M-TAB</i></b>. All headlines in the current buffer will
be offered as completions.
</p></div>

<div class="footdef"><sup><a id="fn.34" name="fn.34" class="footnum" href="#fnr.34">34</a></sup> <p class="footpara">
When targeting a <code>#+NAME</code> keyword, <code>#+CAPTION</code> keyword is mandatory in
order to get proper numbering (see <a href="#Images-and-tables">Images and tables</a>).
</p></div>

<div class="footdef"><sup><a id="fn.35" name="fn.35" class="footnum" href="#fnr.35">35</a></sup> <p class="footpara">
If the headline contains a timestamp, it will be removed from the link
and result in a wrong link &#x2013; you should avoid putting timestamp in
the headline.
</p></div>

<div class="footdef"><sup><a id="fn.36" name="fn.36" class="footnum" href="#fnr.36">36</a></sup> <p class="footpara">
The library org-id.el must first be loaded, either through
<code>org-customize</code> by enabling <code>org-id</code> in <code>org-modules</code>, or by adding
<code>(require 'org-id)</code> in your .emacs.
</p></div>

<div class="footdef"><sup><a id="fn.37" name="fn.37" class="footnum" href="#fnr.37">37</a></sup> <p class="footpara">
Note that you don't have to use this command to insert a link. Links
in Org are plain text, and you can type or paste them straight into
the buffer. By using this command, the links are automatically
enclosed in double brackets, and you will be asked for the optional
descriptive text.
</p></div>

<div class="footdef"><sup><a id="fn.38" name="fn.38" class="footnum" href="#fnr.38">38</a></sup> <p class="footpara">
After insertion of a stored link, the link will be removed from the
list of stored links. To keep it in the list later use, use a triple
<b><i>C-u</i></b> prefix argument to <b><i>C-c C-l</i></b>, or configure the option
<code>org-keep-stored-link-after-insertion</code>.
</p></div>

<div class="footdef"><sup><a id="fn.39" name="fn.39" class="footnum" href="#fnr.39">39</a></sup> <p class="footpara">
This works by calling a special function <code>org-PREFIX-complete-link</code>.
</p></div>

<div class="footdef"><sup><a id="fn.40" name="fn.40" class="footnum" href="#fnr.40">40</a></sup> <p class="footpara">
See the option <code>org-display-internal-link-with-indirect-buffer</code>
</p></div>

<div class="footdef"><sup><a id="fn.41" name="fn.41" class="footnum" href="#fnr.41">41</a></sup> <p class="footpara">
with corresponding <code>#+STARTUP</code> keywords <code>inlineimages</code> and
<code>noinlineimages</code>
</p></div>

<div class="footdef"><sup><a id="fn.42" name="fn.42" class="footnum" href="#fnr.42">42</a></sup> <p class="footpara">
For backward compatibility, line numbers can also follow a single
colon.
</p></div>

<div class="footdef"><sup><a id="fn.43" name="fn.43" class="footnum" href="#fnr.43">43</a></sup> <p class="footpara">
Of course, you can make a document that contains only long lists of
TODO items, but this is not required.
</p></div>

<div class="footdef"><sup><a id="fn.44" name="fn.44" class="footnum" href="#fnr.44">44</a></sup> <p class="footpara">
Changing this variable only becomes effective after restarting Org
mode in a buffer.
</p></div>

<div class="footdef"><sup><a id="fn.45" name="fn.45" class="footnum" href="#fnr.45">45</a></sup> <p class="footpara">
This is also true for the t command in the timeline and agenda
buffers.
</p></div>

<div class="footdef"><sup><a id="fn.46" name="fn.46" class="footnum" href="#fnr.46">46</a></sup> <p class="footpara">
All characters are allowed except <code>@^!</code>, which have a special meaning
here.
</p></div>

<div class="footdef"><sup><a id="fn.47" name="fn.47" class="footnum" href="#fnr.47">47</a></sup> <p class="footpara">
Check also the option <code>org-fast-tag-selection-include-todo</code>, it allows
you to change the TODO state through the tags interface (see <a href="#Setting-tags">Setting
tags</a>), in case you like to mingle the two concepts. Note that this
means you need to come up with unique keys across both sets of
keywords.
</p></div>

<div class="footdef"><sup><a id="fn.48" name="fn.48" class="footnum" href="#fnr.48">48</a></sup> <p class="footpara">
Org mode parses these lines only when Org mode is activated after
visiting a file. <b><i>C-c C-c</i></b> with the cursor in a line starting with
‘#+' is simply restarting Org mode for the current buffer.
</p></div>

<div class="footdef"><sup><a id="fn.49" name="fn.49" class="footnum" href="#fnr.49">49</a></sup> <p class="footpara">
The corresponding in-buffer setting is: <code>#+STARTUP: logdone</code>
</p></div>

<div class="footdef"><sup><a id="fn.50" name="fn.50" class="footnum" href="#fnr.50">50</a></sup> <p class="footpara">
The corresponding in-buffer setting is: <code>#+STARTUP: lognotedone</code>.
</p></div>

<div class="footdef"><sup><a id="fn.51" name="fn.51" class="footnum" href="#fnr.51">51</a></sup> <p class="footpara">
See the option <code>org-log-states-order-reversed</code>
</p></div>

<div class="footdef"><sup><a id="fn.52" name="fn.52" class="footnum" href="#fnr.52">52</a></sup> <p class="footpara">
Note that the <code>LOGBOOK</code> drawer is unfolded when pressing <code>SPC</code> in the
agenda to show an entry&#x2014;use <code>C-u SPC</code> to keep it folded here
</p></div>

<div class="footdef"><sup><a id="fn.53" name="fn.53" class="footnum" href="#fnr.53">53</a></sup> <p class="footpara">
It is possible that Org mode will record two timestamps when you are
using both <code>org-log-done</code> and state change logging. However, it will
never prompt for two notes&#x2014;if you have configured both, the state
change recording note will take precedence and cancel the ‘Closing
Note'.
</p></div>

<div class="footdef"><sup><a id="fn.54" name="fn.54" class="footnum" href="#fnr.54">54</a></sup> <p class="footpara">
See also the option <code>org-priority-start-cycle-with-default</code>.
</p></div>

<div class="footdef"><sup><a id="fn.55" name="fn.55" class="footnum" href="#fnr.55">55</a></sup> <p class="footpara">
To keep subtasks out of the global TODO list, see the
<code>org-agenda-todo-list-sublevels</code>.
</p></div>

<div class="footdef"><sup><a id="fn.56" name="fn.56" class="footnum" href="#fnr.56">56</a></sup> <p class="footpara">
With the exception of description lists. But you can allow it by
modifying <code>org-list-automatic-rules</code> accordingly.
</p></div>

<div class="footdef"><sup><a id="fn.57" name="fn.57" class="footnum" href="#fnr.57">57</a></sup> <p class="footpara">
Set the option <code>org-checkbox-hierarchical-statistics</code> if you want such
cookies to count all checkboxes below the cookie, not just those
belonging to direct children.
</p></div>

<div class="footdef"><sup><a id="fn.58" name="fn.58" class="footnum" href="#fnr.58">58</a></sup> <p class="footpara">
<b><i>C-u C-c C-c</i></b> on the <i>first</i> item of a list with no checkbox will
add checkboxes to the rest of the list.
</p></div>

<div class="footdef"><sup><a id="fn.59" name="fn.59" class="footnum" href="#fnr.59">59</a></sup> <p class="footpara">
As with all these in-buffer settings, pressing <b><i>C-c C-c</i></b> activates
any changes in the line.
</p></div>

<div class="footdef"><sup><a id="fn.60" name="fn.60" class="footnum" href="#fnr.60">60</a></sup> <p class="footpara">
This is only true if the search does not involve more complex tests
including properties (see <a href="#Property-searches">Property searches</a>).
</p></div>

<div class="footdef"><sup><a id="fn.61" name="fn.61" class="footnum" href="#fnr.61">61</a></sup> <p class="footpara">
Keys will automatically be assigned to tags which have no configured
keys.
</p></div>

<div class="footdef"><sup><a id="fn.62" name="fn.62" class="footnum" href="#fnr.62">62</a></sup> <p class="footpara">
Contributed packages are not part of Emacs, but are distributed with
the main distribution of Org (visit <a href="http://orgmode.org">http://orgmode.org</a>).
</p></div>

<div class="footdef"><sup><a id="fn.63" name="fn.63" class="footnum" href="#fnr.63">63</a></sup> <p class="footpara">
In this simplest form, the day name is optional when you type the date
yourself. However, any dates inserted or modified by Org will add that
day name, for reading convenience.
</p></div>

<div class="footdef"><sup><a id="fn.64" name="fn.64" class="footnum" href="#fnr.64">64</a></sup> <p class="footpara">
This is inspired by the standard ISO 8601 date/time format. To use an
alternative format, see <a href="#Custom-time-format">Custom time format</a>.
</p></div>

<div class="footdef"><sup><a id="fn.65" name="fn.65" class="footnum" href="#fnr.65">65</a></sup> <p class="footpara">
When working with the standard diary sexp functions, you need to be
very careful with the order of the arguments. That order depends
evilly on the variable <code>calendar-date-style</code> (or, for older Emacs
versions, <code>european-calendar-style</code>). For example, to specify a date
December 1, 2005, the call might look like <code>(diary-date 12 1 2005)</code> or
<code>(diary-date 1 12 2005)</code> or <code>(diary-date 2005 12 1)</code>, depending on the
settings. This has been the source of much confusion. Org mode users
can resort to special versions of these functions like <code>org-date</code> or
<code>org-anniversary</code>. These work just like the corresponding <code>diary-</code>
functions, but with stable ISO order of arguments (year, month, day)
wherever applicable, independent of the value of
<code>calendar-date-style</code>.
</p></div>

<div class="footdef"><sup><a id="fn.66" name="fn.66" class="footnum" href="#fnr.66">66</a></sup> <p class="footpara">
See the variable <code>org-read-date-prefer-future</code>. You may set that
variable to the symbol <code>time</code> to even make a time before now shift the
date to tomorrow.
</p></div>

<div class="footdef"><sup><a id="fn.67" name="fn.67" class="footnum" href="#fnr.67">67</a></sup> <p class="footpara">
If you don't need/want the calendar, configure the variable
<code>org-popup-calendar-for-date-prompt</code>.
</p></div>

<div class="footdef"><sup><a id="fn.68" name="fn.68" class="footnum" href="#fnr.68">68</a></sup> <p class="footpara">
If you find this distracting, turn the display off with
<code>org-read-date-display-live</code>.
</p></div>

<div class="footdef"><sup><a id="fn.69" name="fn.69" class="footnum" href="#fnr.69">69</a></sup> <p class="footpara">
It will still be listed on that date after it has been marked DONE. If
you don't like this, set the variable
<code>org-agenda-skip-scheduled-if-done</code>.
</p></div>

<div class="footdef"><sup><a id="fn.70" name="fn.70" class="footnum" href="#fnr.70">70</a></sup> <p class="footpara">
The ‘SCHEDULED' and ‘DEADLINE' dates are inserted on the line right
below the headline. Don't put any text between this line and the
headline.
</p></div>

<div class="footdef"><sup><a id="fn.71" name="fn.71" class="footnum" href="#fnr.71">71</a></sup> <p class="footpara">
with corresponding <code>#+STARTUP</code> keywords <code>logredeadline</code>,
<code>lognoteredeadline</code>, and <code>nologredeadline</code>
</p></div>

<div class="footdef"><sup><a id="fn.72" name="fn.72" class="footnum" href="#fnr.72">72</a></sup> <p class="footpara">
with corresponding <code>#+STARTUP</code> keywords <code>logreschedule</code>,
<code>lognotereschedule</code>, and <code>nologreschedule</code>
</p></div>

<div class="footdef"><sup><a id="fn.73" name="fn.73" class="footnum" href="#fnr.73">73</a></sup> <p class="footpara">
In fact, the target state is taken from, in this sequence, the
<code>REPEAT_TO_STATE</code> property or the variable <code>org-todo-repeat-to-state</code>.
If neither of these is specified, the target state defaults to the
first state of the TODO state sequence.
</p></div>

<div class="footdef"><sup><a id="fn.74" name="fn.74" class="footnum" href="#fnr.74">74</a></sup> <p class="footpara">
You can change this using the option <code>org-log-repeat</code>, or the
<code>#+STARTUP</code> options <code>logrepeat</code>, <code>lognoterepeat</code>, and <code>nologrepeat</code>.
With <code>lognoterepeat</code>, you will also be prompted for a note.
</p></div>

<div class="footdef"><sup><a id="fn.75" name="fn.75" class="footnum" href="#fnr.75">75</a></sup> <p class="footpara">
Clocking only works if all headings are indented with less than 30
stars. This is a hardcoded limitation of <code>lmax</code> in <code>org-clock-sum</code>.
</p></div>

<div class="footdef"><sup><a id="fn.76" name="fn.76" class="footnum" href="#fnr.76">76</a></sup> <p class="footpara">
To resume the clock under the assumption that you have worked on this
task while outside Emacs, use <code>(setq org-clock-persist t)</code>.
</p></div>

<div class="footdef"><sup><a id="fn.77" name="fn.77" class="footnum" href="#fnr.77">77</a></sup> <p class="footpara">
To add an effort estimate “on the fly”, hook a function doing this to
<code>org-clock-in-prepare-hook</code>.
</p></div>

<div class="footdef"><sup><a id="fn.78" name="fn.78" class="footnum" href="#fnr.78">78</a></sup> <p class="footpara">
as recorded by the <code>LAST_REPEAT</code> property
</p></div>

<div class="footdef"><sup><a id="fn.79" name="fn.79" class="footnum" href="#fnr.79">79</a></sup> <p class="footpara">
See also the variable <code>org-clock-modeline-total</code>.
</p></div>

<div class="footdef"><sup><a id="fn.80" name="fn.80" class="footnum" href="#fnr.80">80</a></sup> <p class="footpara">
The corresponding in-buffer setting is: <code>#+STARTUP: lognoteclock-out</code>
</p></div>

<div class="footdef"><sup><a id="fn.81" name="fn.81" class="footnum" href="#fnr.81">81</a></sup> <p class="footpara">
Note that all parameters must be specified in a single line &#x2013; the
line is broken here only to fit it into the manual.
</p></div>

<div class="footdef"><sup><a id="fn.82" name="fn.82" class="footnum" href="#fnr.82">82</a></sup> <p class="footpara">
On computers using Mac OS X, idleness is based on actual user
idleness, not just Emacs' idle time. For X11, you can install a
utility program x11idle.c, available in the <code>contrib/scripts</code>
directory of the Org git distribution, or install the xprintidle
package and set it to the variable <code>org-clock-x11idle-program-name</code> if
you are running Debian, to get the same general treatment of
idleness. On other systems, idle time refers to Emacs idle time only.
</p></div>

<div class="footdef"><sup><a id="fn.83" name="fn.83" class="footnum" href="#fnr.83">83</a></sup> <p class="footpara">
Please note the pitfalls of summing hierarchical data in a flat list
(see <a href="#Agenda-column-view">Agenda column view</a>).
</p></div>

<div class="footdef"><sup><a id="fn.84" name="fn.84" class="footnum" href="#fnr.84">84</a></sup> <p class="footpara">
Please select your own key, <b><i>C-c c</i></b> is only a suggestion.
</p></div>

<div class="footdef"><sup><a id="fn.85" name="fn.85" class="footnum" href="#fnr.85">85</a></sup> <p class="footpara">
Datetree headlines for years accept tags, so if you use both <code>*
2013 :noexport:</code> and <code>* 2013</code> in your file, the capture will refile
the note to the first one matched.
</p></div>

<div class="footdef"><sup><a id="fn.86" name="fn.86" class="footnum" href="#fnr.86">86</a></sup> <p class="footpara">
If you need one of these sequences literally, escape the % with a
backslash.
</p></div>

<div class="footdef"><sup><a id="fn.87" name="fn.87" class="footnum" href="#fnr.87">87</a></sup> <p class="footpara">
If you define your own link types (see <a href="#Adding-hyperlink-types">Adding hyperlink types</a>), any
property you store with <code>org-store-link-props</code> can be accessed in
capture templates in a similar way.
</p></div>

<div class="footdef"><sup><a id="fn.88" name="fn.88" class="footnum" href="#fnr.88">88</a></sup> <p class="footpara">
This will always be the other, not the user. See the variable
<code>org-from-is-user-regexp</code>.
</p></div>

<div class="footdef"><sup><a id="fn.89" name="fn.89" class="footnum" href="#fnr.89">89</a></sup> <p class="footpara">
If you move entries or Org files from one directory to another, you
may want to configure <code>org-attach-directory</code> to contain an absolute
path.
</p></div>

<div class="footdef"><sup><a id="fn.90" name="fn.90" class="footnum" href="#fnr.90">90</a></sup> <p class="footpara">
with corresponding <code>#+STARTUP</code> keywords <code>logrefile</code>, <code>lognoterefile</code>,
and <code>nologrefile</code>
</p></div>

<div class="footdef"><sup><a id="fn.91" name="fn.91" class="footnum" href="#fnr.91">91</a></sup> <p class="footpara">
If the value of that variable is not a list, but a single file name,
then the list of agenda files will be maintained in that external
file.
</p></div>

<div class="footdef"><sup><a id="fn.92" name="fn.92" class="footnum" href="#fnr.92">92</a></sup> <p class="footpara">
When using the dispatcher, pressing &lt; before selecting a command will
actually limit the command to the current file, and ignore
<code>org-agenda-files</code> until the next dispatcher command.
</p></div>

<div class="footdef"><sup><a id="fn.93" name="fn.93" class="footnum" href="#fnr.93">93</a></sup> <p class="footpara">
For backward compatibility, you can also press 1 to restrict to the
current buffer.
</p></div>

<div class="footdef"><sup><a id="fn.94" name="fn.94" class="footnum" href="#fnr.94">94</a></sup> <p class="footpara">
For backward compatibility, you can also press 0 to restrict to the
current region/subtree.
</p></div>

<div class="footdef"><sup><a id="fn.95" name="fn.95" class="footnum" href="#fnr.95">95</a></sup> <p class="footpara">
For backward compatibility, the universal prefix <b><i>C-u</i></b> causes all
TODO entries to be listed before the agenda. This feature is
deprecated, use the dedicated TODO list, or a block agenda instead
(see <a href="#Block-agenda">Block agenda</a>).
</p></div>

<div class="footdef"><sup><a id="fn.96" name="fn.96" class="footnum" href="#fnr.96">96</a></sup> <p class="footpara">
See <a href="#Tag-searches">Tag searches</a>.
</p></div>

<div class="footdef"><sup><a id="fn.97" name="fn.97" class="footnum" href="#fnr.97">97</a></sup> <p class="footpara">
Custom commands can preset a filter by binding the variable
<code>org-agenda-tag-filter-preset</code> as an option. This filter will then be
applied to the view and persist as a basic filter through refreshes
and more secondary filtering. The filter is a global property of the
entire agenda view &#x2013; in a block agenda, you should only set this in
the global options section, not in the section of an individual block.
</p></div>

<div class="footdef"><sup><a id="fn.98" name="fn.98" class="footnum" href="#fnr.98">98</a></sup> <p class="footpara">
Only tags filtering will be respected here, effort filtering is ignored.
</p></div>

<div class="footdef"><sup><a id="fn.99" name="fn.99" class="footnum" href="#fnr.99">99</a></sup> <p class="footpara">
Moving agenda lines does not persist after an agenda refresh and does
not modify the contributing .org files
</p></div>

<div class="footdef"><sup><a id="fn.100" name="fn.100" class="footnum" href="#fnr.100">100</a></sup> <p class="footpara">
This file is parsed for the agenda when <code>org-agenda-include-diary</code> is
set.
</p></div>

<div class="footdef"><sup><a id="fn.101" name="fn.101" class="footnum" href="#fnr.101">101</a></sup> <p class="footpara">
You can provide a description for a prefix key by inserting a cons
cell with the prefix and the description.
</p></div>

<div class="footdef"><sup><a id="fn.102" name="fn.102" class="footnum" href="#fnr.102">102</a></sup> <p class="footpara">
<i>Planned</i> means here that these entries have some planning information
attached to them, like a time-stamp, a scheduled or a deadline string.
See <code>org-agenda-entry-types</code> on how to set what planning information
will be taken into account.
</p></div>

<div class="footdef"><sup><a id="fn.103" name="fn.103" class="footnum" href="#fnr.103">103</a></sup> <p class="footpara">
You need to install Hrvoje Niksic's htmlize.el.
</p></div>

<div class="footdef"><sup><a id="fn.104" name="fn.104" class="footnum" href="#fnr.104">104</a></sup> <p class="footpara">
To create PDF output, the ghostscript ps2pdf utility must be installed
on the system. Selecting a PDF file will also create the postscript
file.
</p></div>

<div class="footdef"><sup><a id="fn.105" name="fn.105" class="footnum" href="#fnr.105">105</a></sup> <p class="footpara">
If you want to store standard views like the weekly agenda or the
global TODO list as well, you need to define custom commands for them
in order to be able to specify file names.
</p></div>

<div class="footdef"><sup><a id="fn.106" name="fn.106" class="footnum" href="#fnr.106">106</a></sup> <p class="footpara">
Quoting depends on the system you use, please check the FAQ for
examples.
</p></div>

<div class="footdef"><sup><a id="fn.107" name="fn.107" class="footnum" href="#fnr.107">107</a></sup> <p class="footpara">
For LaTeX export, this feature requires the <code>titletoc</code> package. Note
that <code>titletoc</code> must be loaded <i>before</i> <code>hyperref</code>. Thus, you may have
to customize <code>org-latex-default-packages-alist</code>.
</p></div>

<div class="footdef"><sup><a id="fn.108" name="fn.108" class="footnum" href="#fnr.108">108</a></sup> <p class="footpara">
For a less drastic behavior, consider using a select tag (see
<a href="#Export-settings">Export settings</a>) instead.
</p></div>

<div class="footdef"><sup><a id="fn.109" name="fn.109" class="footnum" href="#fnr.109">109</a></sup> <p class="footpara">
This works automatically for the HTML back-end (it requires version
1.34 of the htmlize.el package, which is distributed with
Org). Fontified code chunks in LaTeX can be achieved using either the
<a href="https://www.ctan.org/tex-archive/macros/latex/contrib/listings/?lang=en">listings</a> or the <a href="https://github.com/gpoore/minted">minted</a> package. If you use minted or listing, you must
load the packages manually, for example by adding the desired package
to <code>org-latex-packages-alist</code>. Refer to <code>org-latex-listings</code> for
details.
</p></div>

<div class="footdef"><sup><a id="fn.110" name="fn.110" class="footnum" href="#fnr.110">110</a></sup> <p class="footpara">
Code in ‘src' blocks may also be evaluated either interactively or on
export. See see <a href="#Working-with-source-code">Working with source code</a> for more information on
evaluating code blocks.
</p></div>

<div class="footdef"><sup><a id="fn.111" name="fn.111" class="footnum" href="#fnr.111">111</a></sup> <p class="footpara">
Adding <code>-k</code> to <code>-n -r</code> will <i>keep</i> the labels in the source code while
using line numbers for the links, which might be useful to explain
those in an Org mode example code.
</p></div>

<div class="footdef"><sup><a id="fn.112" name="fn.112" class="footnum" href="#fnr.112">112</a></sup> <p class="footpara">
Upon exit, lines starting with ‘*', ‘,*', ‘#+' and ‘,#+' will get a
comma prepended, to keep them from being interpreted by Org as outline
nodes or special syntax. These commas will be stripped for editing
with <b>/C-c '/</b>, and also for export.
</p></div>

<div class="footdef"><sup><a id="fn.113" name="fn.113" class="footnum" href="#fnr.113">113</a></sup> <p class="footpara">
You may select a different-mode with the variable
<code>org-edit-fixed-width-region-mode</code>.
</p></div>

<div class="footdef"><sup><a id="fn.114" name="fn.114" class="footnum" href="#fnr.114">114</a></sup> <p class="footpara">
While you can request paragraphs (‘verse', ‘quote', ‘center'), but
this places severe restrictions on the type of content that is
permissible
</p></div>

<div class="footdef"><sup><a id="fn.115" name="fn.115" class="footnum" href="#fnr.115">115</a></sup> <p class="footpara">
Note that <code>org-link-search-must-match-exact-headline</code> is locally bound
to non- <code>nil</code>. Therefore, <code>org-link-search</code> only matches headlines and
named elements.
</p></div>

<div class="footdef"><sup><a id="fn.116" name="fn.116" class="footnum" href="#fnr.116">116</a></sup> <p class="footpara">
Since commas separate arguments, commas within arguments have to be
escaped with a backslash character. Conversely, backslash characters
before a comma, and only them, need to be escaped with another
backslash character.
</p></div>

<div class="footdef"><sup><a id="fn.117" name="fn.117" class="footnum" href="#fnr.117">117</a></sup> <p class="footpara">
LaTeX is a macro system based on Donald E. Knuth's TeX system. Many of
the features described here as “LaTeX” are really from TeX, but for
simplicity I am blurring this distinction.
</p></div>

<div class="footdef"><sup><a id="fn.118" name="fn.118" class="footnum" href="#fnr.118">118</a></sup> <p class="footpara">
You can turn this on by default by setting the variable
<code>org-pretty-entities</code>, or on a per-file base with the <code>#+STARTUP</code>
option <code>entitiespretty</code>.
</p></div>

<div class="footdef"><sup><a id="fn.119" name="fn.119" class="footnum" href="#fnr.119">119</a></sup> <p class="footpara">
When MathJax is used, only the environments recognized by MathJax will
be processed. When dvipng program or imagemagick suite is used to
create images, any LaTeX environment will be handled.
</p></div>

<div class="footdef"><sup><a id="fn.120" name="fn.120" class="footnum" href="#fnr.120">120</a></sup> <p class="footpara">
These are respectively available at
<a href="http://sourceforge.net/projects/dvipng/">http://sourceforge.net/projects/dvipng/</a> and from the imagemagick
suite. Choose the converter by setting the variable
<code>org-latex-create-formula-image-program</code> accordingly.
</p></div>

<div class="footdef"><sup><a id="fn.121" name="fn.121" class="footnum" href="#fnr.121">121</a></sup> <p class="footpara">
Org mode has a method to test if the cursor is inside such a fragment,
see the documentation of the function <code>org-inside-LaTeX-fragment-p</code>.
</p></div>

<div class="footdef"><sup><a id="fn.122" name="fn.122" class="footnum" href="#fnr.122">122</a></sup> <p class="footpara">
It is also possible to use a less intrusive interface by setting
<code>org-export-dispatch-use-expert-ui</code> to a non- <code>nil</code> value. In that
case, only a prompt is visible from the minibuffer. From there one can
still switch back to regular menu by pressing <code>?</code>.
</p></div>

<div class="footdef"><sup><a id="fn.123" name="fn.123" class="footnum" href="#fnr.123">123</a></sup> <p class="footpara">
The variable <code>org-export-date-timestamp-format</code> defines how this
time-stamp will be exported.
</p></div>

<div class="footdef"><sup><a id="fn.124" name="fn.124" class="footnum" href="#fnr.124">124</a></sup> <p class="footpara">
If you want to configure many options this way, you can use several
<code>#+OPTIONS</code> lines.
</p></div>

<div class="footdef"><sup><a id="fn.125" name="fn.125" class="footnum" href="#fnr.125">125</a></sup> <p class="footpara">
With the exception of ‘SETUPFILE'.
</p></div>

<div class="footdef"><sup><a id="fn.126" name="fn.126" class="footnum" href="#fnr.126">126</a></sup> <p class="footpara">
If this property is set, the entry will also get a <code>:B_environment:</code>
tag to make this visible. This tag has no semantic meaning, it is only
a visual aid.
</p></div>

<div class="footdef"><sup><a id="fn.127" name="fn.127" class="footnum" href="#fnr.127">127</a></sup> <p class="footpara">
The <code>fragile</code> option is added automatically if it contains code that
requires a verbatim environment, though.
</p></div>

<div class="footdef"><sup><a id="fn.128" name="fn.128" class="footnum" href="#fnr.128">128</a></sup> <p class="footpara">
But see the variable <code>org-html-inline-images</code>.
</p></div>

<div class="footdef"><sup><a id="fn.129" name="fn.129" class="footnum" href="#fnr.129">129</a></sup> <p class="footpara">
By default Org loads MathJax from <a href="http://docs.mathjax.org/en/latest/start.html#using-the-mathjax-content-delivery-network-cdn">MathJax.org</a>.  A link to the terms of
service of the MathJax CDN can be found in the docstring of
<code>org-html-mathjax-options</code>.
</p></div>

<div class="footdef"><sup><a id="fn.130" name="fn.130" class="footnum" href="#fnr.130">130</a></sup> <p class="footpara">
If the classes on TODO keywords and tags lead to conflicts, use the
variables <code>org-html-todo-kwd-class-prefix</code> and
<code>org-html-tag-class-prefix</code> to make them unique.
</p></div>

<div class="footdef"><sup><a id="fn.131" name="fn.131" class="footnum" href="#fnr.131">131</a></sup> <p class="footpara">
This style is defined in the constant <code>org-html-style-default</code>, which
you should not modify. To turn inclusion of these defaults off,
customize <code>org-html-head-include-default-style</code> or set <code>html-style</code> to
<code>nil</code> in an <code>OPTIONS</code> line.
</p></div>

<div class="footdef"><sup><a id="fn.132" name="fn.132" class="footnum" href="#fnr.132">132</a></sup> <p class="footpara">
The default LaTeX output is designed for processing with <code>pdftex</code> or
<code>latex</code>. The LaTeX exporter can be configured to support alternative
TeX engines, see see <code>org-latex-pdf-process</code>, and alternative
packages, see <code>org-latex-default-packages-alist</code> and
<code>org-latex-packages-alist</code>.
</p></div>

<div class="footdef"><sup><a id="fn.133" name="fn.133" class="footnum" href="#fnr.133">133</a></sup> <p class="footpara">
Into which the values of <code>org-latex-default-packages-alist</code> and
<code>org-latex-packages-alist</code> are spliced.
</p></div>

<div class="footdef"><sup><a id="fn.134" name="fn.134" class="footnum" href="#fnr.134">134</a></sup> <p class="footpara">
Unlike <code>LATEX_HEADER</code>, contents from <code>LATEX_HEADER_EXTRA</code> keywords
will not be loaded when previewing LaTeX snippets (see <a href="#Previewing-LaTeX-fragments">Previewing
LaTeX fragments</a>).
</p></div>

<div class="footdef"><sup><a id="fn.135" name="fn.135" class="footnum" href="#fnr.135">135</a></sup> <p class="footpara">
Requires adding the <code>tabularx</code> package to <code>org-latex-packages-alist</code>.
</p></div>

<div class="footdef"><sup><a id="fn.136" name="fn.136" class="footnum" href="#fnr.136">136</a></sup> <p class="footpara">
Requires adding the <code>tabu</code> package to <code>org-latex-packages-alist</code>.
</p></div>

<div class="footdef"><sup><a id="fn.137" name="fn.137" class="footnum" href="#fnr.137">137</a></sup> <p class="footpara">
In the case of TikZ (<a href="http://sourceforge.net/projects/pgf/">http://sourceforge.net/projects/pgf/</a>) images, it
will become an <code>\input</code> macro wrapped within a <code>tikzpicture</code>
environment.
</p></div>

<div class="footdef"><sup><a id="fn.138" name="fn.138" class="footnum" href="#fnr.138">138</a></sup> <p class="footpara">
Vanilla flavor, as defined at
<a href="http://daringfireball.net/projects/markdown/">http://daringfireball.net/projects/markdown/</a>.
</p></div>

<div class="footdef"><sup><a id="fn.139" name="fn.139" class="footnum" href="#fnr.139">139</a></sup> <p class="footpara">
Versions 7.8 or later
</p></div>

<div class="footdef"><sup><a id="fn.140" name="fn.140" class="footnum" href="#fnr.140">140</a></sup> <p class="footpara">
<a href="http://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html">Open
Document Format for Office Applications (OpenDocument) Version 1.2</a>
</p></div>

<div class="footdef"><sup><a id="fn.141" name="fn.141" class="footnum" href="#fnr.141">141</a></sup> <p class="footpara">
This requires <code>transient-mark-mode</code> to be turned on
</p></div>

<div class="footdef"><sup><a id="fn.142" name="fn.142" class="footnum" href="#fnr.142">142</a></sup> <p class="footpara">
To select the current subtree, use C-c @
</p></div>

<div class="footdef"><sup><a id="fn.143" name="fn.143" class="footnum" href="#fnr.143">143</a></sup> <p class="footpara">
The column widths are interpreted as weighted ratios with the default
weight being 1
</p></div>

<div class="footdef"><sup><a id="fn.144" name="fn.144" class="footnum" href="#fnr.144">144</a></sup> <p class="footpara">
Use of ImageMagick is only desirable. However, if you routinely produce
documents that have large images or you export your Org files that has
images using a Emacs batch script, then the use of ImageMagick is
mandatory.
</p></div>

<div class="footdef"><sup><a id="fn.145" name="fn.145" class="footnum" href="#fnr.145">145</a></sup> <p class="footpara">
See <a href="http://www.mathtoweb.com/cgi-bin/mathtoweb_home.pl">MathToWeb</a>.
</p></div>

<div class="footdef"><sup><a id="fn.146" name="fn.146" class="footnum" href="#fnr.146">146</a></sup> <p class="footpara">
See <a href="http://dlmf.nist.gov/LaTeXML/">http://dlmf.nist.gov/LaTeXML/</a>.
</p></div>

<div class="footdef"><sup><a id="fn.147" name="fn.147" class="footnum" href="#fnr.147">147</a></sup> <p class="footpara">
Your htmlfontify.el library must at least be at Emacs 24.1 levels for
fontification to be turned on.
</p></div>

<div class="footdef"><sup><a id="fn.148" name="fn.148" class="footnum" href="#fnr.148">148</a></sup> <p class="footpara">
<a href="http://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html">OpenDocument-v1.2
Specification</a>
</p></div>

<div class="footdef"><sup><a id="fn.149" name="fn.149" class="footnum" href="#fnr.149">149</a></sup> <p class="footpara">
See the <code>&lt;table:table-template&gt;</code> element of the OpenDocument-v1.2
specification
</p></div>

<div class="footdef"><sup><a id="fn.150" name="fn.150" class="footnum" href="#fnr.150">150</a></sup> <p class="footpara">
See the attributes <code>table:template-name</code>, <code>table:use-first-row-styles</code>,
<code>table:use-last-row-styles</code>, <code>table:use-first-column-styles</code>,
<code>table:use-last-column-styles</code>, <code>table:use-banding-rows-styles</code>, and
<code>table:use-banding-column-styles</code> of the <code>&lt;table:table&gt;</code> element in the
OpenDocument-v1.2 specification
</p></div>

<div class="footdef"><sup><a id="fn.151" name="fn.151" class="footnum" href="#fnr.151">151</a></sup> <p class="footpara">
.odt files are nothing but ‘zip' archives
</p></div>

<div class="footdef"><sup><a id="fn.152" name="fn.152" class="footnum" href="#fnr.152">152</a></sup> <p class="footpara">
By setting <code>org-texinfo-info-process</code>, it is possible to generate other
formats, including DocBook.
</p></div>

<div class="footdef"><sup><a id="fn.153" name="fn.153" class="footnum" href="#fnr.153">153</a></sup> <p class="footpara">
See <code>org-texinfo-coding-system</code> for more information.
</p></div>

<div class="footdef"><sup><a id="fn.154" name="fn.154" class="footnum" href="#fnr.154">154</a></sup> <p class="footpara">
See the variables <code>org-icalendar-use-deadline</code> and
<code>org-icalendar-use-scheduled</code>.
</p></div>

<div class="footdef"><sup><a id="fn.155" name="fn.155" class="footnum" href="#fnr.155">155</a></sup> <p class="footpara">
To add inherited tags or the TODO state, configure the variable
<code>org-icalendar-categories</code>.
</p></div>

<div class="footdef"><sup><a id="fn.156" name="fn.156" class="footnum" href="#fnr.156">156</a></sup> <p class="footpara">
The LOCATION property can be inherited from higher in the hierarchy if
you configure <code>org-use-property-inheritance</code> accordingly.
</p></div>

<div class="footdef"><sup><a id="fn.157" name="fn.157" class="footnum" href="#fnr.157">157</a></sup> <p class="footpara">
If the publishing directory is the same than the source directory,
file.org will be exported as file.org.org, so probably don't want to do
this.
</p></div>

<div class="footdef"><sup><a id="fn.158" name="fn.158" class="footnum" href="#fnr.158">158</a></sup> <p class="footpara">
Note that ‘src' blocks may be inserted using Org mode's
<a href="#Easy-templates">Easy templates</a> system
</p></div>

<div class="footdef"><sup><a id="fn.159" name="fn.159" class="footnum" href="#fnr.159">159</a></sup> <p class="footpara">
Whenever code is evaluated there is a potential for that code to do
harm. Org mode provides safeguards to ensure that code is only evaluated
after explicit confirmation from the user. For information on these
safeguards (and on how to disable them) see
<i>Code evaluation security</i>.
</p></div>

<div class="footdef"><sup><a id="fn.160" name="fn.160" class="footnum" href="#fnr.160">160</a></sup> <p class="footpara">
The option <code>org-babel-no-eval-on-ctrl-c-ctrl-c</code> can be used to remove
code evaluation from the C-c C-c key binding.
</p></div>

<div class="footdef"><sup><a id="fn.161" name="fn.161" class="footnum" href="#fnr.161">161</a></sup> <p class="footpara">
The deprecated syntax for default header argument properties, using the
name of the header argument as a property name directly, evaluates the
property as seen by the corresponding source block definition. This
behavior has been kept for backwards compatibility.
</p></div>

<div class="footdef"><sup><a id="fn.162" name="fn.162" class="footnum" href="#fnr.162">162</a></sup> <p class="footpara">
(The example needs property inheritance to be turned on for the
<code>noweb-ref</code> property, see <a href="#Property-inheritance">Property
inheritance</a>).
</p></div>

<div class="footdef"><sup><a id="fn.163" name="fn.163" class="footnum" href="#fnr.163">163</a></sup> <p class="footpara">
Emacs 23 and Org mode 6.29 are required
</p></div>

<div class="footdef"><sup><a id="fn.164" name="fn.164" class="footnum" href="#fnr.164">164</a></sup> <p class="footpara">
Emacs 23.1 can actually crash with <code>org-indent-mode</code>
</p></div>

<div class="footdef"><sup><a id="fn.165" name="fn.165" class="footnum" href="#fnr.165">165</a></sup> <p class="footpara">
<code>org-indent-mode</code> also sets the <code>wrap-prefix</code> property, such that
<code>visual-line-mode</code> (or purely setting <code>word-wrap</code>) wraps long lines
(including headlines) correctly indented.
</p></div>

<div class="footdef"><sup><a id="fn.166" name="fn.166" class="footnum" href="#fnr.166">166</a></sup> <p class="footpara">
See the variable <code>org-indent-indentation-per-level</code>.
</p></div>

<div class="footdef"><sup><a id="fn.167" name="fn.167" class="footnum" href="#fnr.167">167</a></sup> <p class="footpara">
Turning on <code>org-indent-mode</code> sets <code>org-hide-leading-stars</code> to <code>t</code> and
<code>org-adapt-indentation</code> to <code>nil</code>.
</p></div>

<div class="footdef"><sup><a id="fn.168" name="fn.168" class="footnum" href="#fnr.168">168</a></sup> <p class="footpara">
See also the variable <code>org-adapt-indentation</code>.
</p></div>

<div class="footdef"><sup><a id="fn.169" name="fn.169" class="footnum" href="#fnr.169">169</a></sup> <p class="footpara">
When you need to specify a level for a property search or refile
targets, ‘LEVEL=2' will correspond to 3 stars, etc.
</p></div>

<div class="footdef"><sup><a id="fn.170" name="fn.170" class="footnum" href="#fnr.170">170</a></sup> <p class="footpara">
org-R.el has been replaced by the Org mode functionality described in
<a href="#Working-with-source-code">Working with source code</a> and is now
obsolete.
</p></div>

<div class="footdef"><sup><a id="fn.171" name="fn.171" class="footnum" href="#fnr.171">171</a></sup> <p class="footpara">
By default this works only for LaTeX, HTML, and Texinfo. Configure the
variable <code>orgtbl-radio-table-templates</code> to install templates for other
modes.
</p></div>

<div class="footdef"><sup><a id="fn.172" name="fn.172" class="footnum" href="#fnr.172">172</a></sup> <p class="footpara">
If the ‘#+TBLFM' line contains an odd number of dollar characters, this
may cause problems with font-lock in LaTeX mode. As shown in the example
you can fix this by adding an extra line inside the <code>comment</code>
environment that is used to balance the dollar expressions. If you are
using AUCTeX with the font-latex library, a much better solution is to
add the <code>comment</code> environment to the variable
<code>LaTeX-verbatim-environments</code>.
</p></div>

<div class="footdef"><sup><a id="fn.173" name="fn.173" class="footnum" href="#fnr.173">173</a></sup> <p class="footpara">
Note that, when using <code>org-odd-levels-only</code>, a level number corresponds
to order in the hierarchy, not to the number of stars.
</p></div>

<div class="footdef"><sup><a id="fn.174" name="fn.174" class="footnum" href="#fnr.174">174</a></sup> <p class="footpara">
If you can safely store the password in your Emacs setup, you might also
want to configure <code>org-mobile-encryption-password</code>. Please read the
docstring of that variable. Note that encryption will apply only to the
contents of the .org files. The file names themselves will remain
visible.
</p></div>

<div class="footdef"><sup><a id="fn.175" name="fn.175" class="footnum" href="#fnr.175">175</a></sup> <p class="footpara">
If you cannot use Dropbox, or if your version of MobileOrg does not
support it, you can use a webdav server. For more information, check out
the documentation of MobileOrg and also this
<a href="http://orgmode.org/worg/org-faq.html#mobileorg_webdav">FAQ entry</a>.
</p></div>

<div class="footdef"><sup><a id="fn.176" name="fn.176" class="footnum" href="#fnr.176">176</a></sup> <p class="footpara">
Symbolic links in <code>org-directory</code> need to have the same name as their
targets.
</p></div>

<div class="footdef"><sup><a id="fn.177" name="fn.177" class="footnum" href="#fnr.177">177</a></sup> <p class="footpara">
While creating the agendas, Org mode will force ID properties on all
referenced entries, so that these entries can be uniquely identified if
<i>MobileOrg</i> flags them for further action. If you do not want to get
these properties in so many entries, you can set the variable
<code>org-mobile-force-id-on-agenda-items</code> to <code>nil</code>. Org mode will then rely
on outline paths, in the hope that these will be unique enough.
</p></div>

<div class="footdef"><sup><a id="fn.178" name="fn.178" class="footnum" href="#fnr.178">178</a></sup> <p class="footpara">
Checksums are stored automatically in the file checksums.dat
</p></div>

<div class="footdef"><sup><a id="fn.179" name="fn.179" class="footnum" href="#fnr.179">179</a></sup> <p class="footpara">
mobileorg.org will be empty after this operation.
</p></div>

<div class="footdef"><sup><a id="fn.180" name="fn.180" class="footnum" href="#fnr.180">180</a></sup> <p class="footpara">
Note, however, that there is a subtle difference. The view created
automatically by M-x org-mobile-pull RET is guaranteed to search all
files that have been addressed by the last pull. This might include a
file that is not currently in your list of agenda files. If you later
use C-c a ? to regenerate the view, only the current agenda files will
be searched.
</p></div>


</div>
</div></div>
</body>
</html>
